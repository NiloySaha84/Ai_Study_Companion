module.exports=[43449,a=>{"use strict";let b,c,d,e,f,g,h,i;function j(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function k(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function l(a){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function m(a){var b=function(a,b){if("object"!=l(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=l(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(a,"string");return"symbol"==l(b)?b:b+""}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,m(d.key),d)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function p(a,b){if(b&&("object"==l(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(a)}function q(a){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function r(a,b){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function s(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&r(a,b)}function t(a,b,c){return(b=m(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function v(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){u(f,d,e,g,h,"next",a)}function h(a){u(f,d,e,g,h,"throw",a)}g(void 0)})}}function w(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function x(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||function(a,b){if(a){if("string"==typeof a)return w(a,b);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?w(a,b):void 0}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}a.s(["DAILY_ACCESS_LEVEL_FULL",()=>dO,"DAILY_ACCESS_LEVEL_LOBBY",()=>dP,"DAILY_ACCESS_LEVEL_NONE",()=>dQ,"DAILY_ACCESS_UNKNOWN",()=>dN,"DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE",()=>d3,"DAILY_CAMERA_ERROR_CAM_IN_USE",()=>d1,"DAILY_CAMERA_ERROR_CONSTRAINTS",()=>d7,"DAILY_CAMERA_ERROR_MIC_IN_USE",()=>d2,"DAILY_CAMERA_ERROR_NOT_FOUND",()=>d6,"DAILY_CAMERA_ERROR_PERMISSIONS",()=>d4,"DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES",()=>d5,"DAILY_CAMERA_ERROR_UNKNOWN",()=>d8,"DAILY_EVENT_ACCESS_STATE_UPDATED",()=>eo,"DAILY_EVENT_ACTIVE_SPEAKER_CHANGE",()=>eO,"DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE",()=>eP,"DAILY_EVENT_APP_MSG",()=>eG,"DAILY_EVENT_CAMERA_ERROR",()=>eg,"DAILY_EVENT_CPU_LOAD_CHANGE",()=>eS,"DAILY_EVENT_ERROR",()=>e2,"DAILY_EVENT_EXIT_FULLSCREEN",()=>eV,"DAILY_EVENT_FACE_COUNTS_UPDATED",()=>eT,"DAILY_EVENT_FULLSCREEN",()=>eU,"DAILY_EVENT_IFRAME_LAUNCH_CONFIG",()=>ea,"DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG",()=>d9,"DAILY_EVENT_INPUT_SETTINGS_UPDATED",()=>e0,"DAILY_EVENT_JOINED_MEETING",()=>ei,"DAILY_EVENT_JOINING_MEETING",()=>eh,"DAILY_EVENT_LANG_UPDATED",()=>e$,"DAILY_EVENT_LEFT_MEETING",()=>ej,"DAILY_EVENT_LIVE_STREAMING_ERROR",()=>eZ,"DAILY_EVENT_LIVE_STREAMING_STARTED",()=>eW,"DAILY_EVENT_LIVE_STREAMING_STOPPED",()=>eY,"DAILY_EVENT_LIVE_STREAMING_UPDATED",()=>eX,"DAILY_EVENT_LOADED",()=>ee,"DAILY_EVENT_LOADING",()=>ec,"DAILY_EVENT_LOAD_ATTEMPT_FAILED",()=>ed,"DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED",()=>eN,"DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED",()=>eL,"DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED",()=>eM,"DAILY_EVENT_MEETING_SESSION_DATA_ERROR",()=>er,"DAILY_EVENT_MEETING_SESSION_STATE_UPDATED",()=>eq,"DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED",()=>ep,"DAILY_EVENT_NETWORK_CONNECTION",()=>eR,"DAILY_EVENT_NETWORK_QUALITY_CHANGE",()=>eQ,"DAILY_EVENT_NONFATAL_ERROR",()=>e1,"DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED",()=>en,"DAILY_EVENT_PARTICIPANT_JOINED",()=>ek,"DAILY_EVENT_PARTICIPANT_LEFT",()=>em,"DAILY_EVENT_PARTICIPANT_UPDATED",()=>el,"DAILY_EVENT_RECEIVE_SETTINGS_UPDATED",()=>e_,"DAILY_EVENT_RECORDING_DATA",()=>eF,"DAILY_EVENT_RECORDING_ERROR",()=>eD,"DAILY_EVENT_RECORDING_STARTED",()=>eA,"DAILY_EVENT_RECORDING_STATS",()=>eC,"DAILY_EVENT_RECORDING_STOPPED",()=>eB,"DAILY_EVENT_RECORDING_UPLOAD_COMPLETED",()=>eE,"DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED",()=>eI,"DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED",()=>eK,"DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED",()=>eJ,"DAILY_EVENT_STARTED_CAMERA",()=>ef,"DAILY_EVENT_THEME_UPDATED",()=>eb,"DAILY_EVENT_TRACK_STARTED",()=>ev,"DAILY_EVENT_TRACK_STOPPED",()=>ew,"DAILY_EVENT_TRANSCRIPTION_ERROR",()=>ez,"DAILY_EVENT_TRANSCRIPTION_MSG",()=>eH,"DAILY_EVENT_TRANSCRIPTION_STARTED",()=>ex,"DAILY_EVENT_TRANSCRIPTION_STOPPED",()=>ey,"DAILY_EVENT_WAITING_PARTICIPANT_ADDED",()=>es,"DAILY_EVENT_WAITING_PARTICIPANT_REMOVED",()=>eu,"DAILY_EVENT_WAITING_PARTICIPANT_UPDATED",()=>et,"DAILY_FATAL_ERROR_CONNECTION",()=>d0,"DAILY_FATAL_ERROR_EJECTED",()=>dT,"DAILY_FATAL_ERROR_EOL",()=>d$,"DAILY_FATAL_ERROR_EXP_ROOM",()=>dW,"DAILY_FATAL_ERROR_EXP_TOKEN",()=>dX,"DAILY_FATAL_ERROR_MEETING_FULL",()=>dZ,"DAILY_FATAL_ERROR_NBF_ROOM",()=>dU,"DAILY_FATAL_ERROR_NBF_TOKEN",()=>dV,"DAILY_FATAL_ERROR_NOT_ALLOWED",()=>d_,"DAILY_FATAL_ERROR_NO_ROOM",()=>dY,"DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY",()=>dS,"DAILY_RECEIVE_SETTINGS_BASE_KEY",()=>dR,"DAILY_STATE_ERROR",()=>dG,"DAILY_STATE_JOINED",()=>dE,"DAILY_STATE_JOINING",()=>dD,"DAILY_STATE_LEFT",()=>dF,"DAILY_STATE_NEW",()=>dA,"DAILY_TRACK_STATE_BLOCKED",()=>dH,"DAILY_TRACK_STATE_INTERRUPTED",()=>dL,"DAILY_TRACK_STATE_LOADING",()=>dK,"DAILY_TRACK_STATE_OFF",()=>dI,"DAILY_TRACK_STATE_PLAYABLE",()=>dM,"DAILY_TRACK_STATE_SENDABLE",()=>dJ,"default",()=>gN]);var z,A,B={exports:{}},C=function(){if(A)return B.exports;A=1;var a,b="object"==typeof Reflect?Reflect:null,c=b&&"function"==typeof b.apply?b.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)};a=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var d=Number.isNaN||function(a){return a!=a};function e(){e.init.call(this)}B.exports=e,B.exports.once=function(a,b){return new Promise(function(c,d){function e(c){a.removeListener(b,f),d(c)}function f(){"function"==typeof a.removeListener&&a.removeListener("error",e),c([].slice.call(arguments))}o(a,b,f,{once:!0}),"error"!==b&&function(a,b,c){"function"==typeof a.on&&o(a,"error",b,c)}(a,e,{once:!0})})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var f=10;function g(a){if("function"!=typeof a)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function h(a){return void 0===a._maxListeners?e.defaultMaxListeners:a._maxListeners}function i(a,b,c,d){var e,f,i,j;if(g(c),void 0===(f=a._events)?(f=a._events=Object.create(null),a._eventsCount=0):(void 0!==f.newListener&&(a.emit("newListener",b,c.listener?c.listener:c),f=a._events),i=f[b]),void 0===i)i=f[b]=c,++a._eventsCount;else if("function"==typeof i?i=f[b]=d?[c,i]:[i,c]:d?i.unshift(c):i.push(c),(e=h(a))>0&&i.length>e&&!i.warned){i.warned=!0;var k=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=a,k.type=b,k.count=i.length,j=k,console&&console.warn&&console.warn(j)}return a}function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(a,b,c){var d={fired:!1,wrapFn:void 0,target:a,type:b,listener:c},e=j.bind(d);return e.listener=c,d.wrapFn=e,e}function l(a,b,c){var d=a._events;if(void 0===d)return[];var e=d[b];return void 0===e?[]:"function"==typeof e?c?[e.listener||e]:[e]:c?function(a){for(var b=Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];return b}(e):n(e,e.length)}function m(a){var b=this._events;if(void 0!==b){var c=b[a];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function n(a,b){for(var c=Array(b),d=0;d<b;++d)c[d]=a[d];return c}function o(a,b,c,d){if("function"==typeof a.on)d.once?a.once(b,c):a.on(b,c);else{if("function"!=typeof a.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(b,function e(f){d.once&&a.removeEventListener(b,e),c(f)})}}return Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(a){if("number"!=typeof a||a<0||d(a))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");f=a}}),e.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||d(a))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},e.prototype.getMaxListeners=function(){return h(this)},e.prototype.emit=function(a){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);var e="error"===a,f=this._events;if(void 0!==f)e=e&&void 0===f.error;else if(!e)return!1;if(e){if(b.length>0&&(g=b[0]),g instanceof Error)throw g;var g,h=Error("Unhandled error."+(g?" ("+g.message+")":""));throw h.context=g,h}var i=f[a];if(void 0===i)return!1;if("function"==typeof i)c(i,this,b);else{var j=i.length,k=n(i,j);for(d=0;d<j;++d)c(k[d],this,b)}return!0},e.prototype.addListener=function(a,b){return i(this,a,b,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(a,b){return i(this,a,b,!0)},e.prototype.once=function(a,b){return g(b),this.on(a,k(this,a,b)),this},e.prototype.prependOnceListener=function(a,b){return g(b),this.prependListener(a,k(this,a,b)),this},e.prototype.removeListener=function(a,b){var c,d,e,f,h;if(g(b),void 0===(d=this._events)||void 0===(c=d[a]))return this;if(c===b||c.listener===b)0==--this._eventsCount?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!=typeof c){for(e=-1,f=c.length-1;f>=0;f--)if(c[f]===b||c[f].listener===b){h=c[f].listener,e=f;break}if(e<0)return this;0===e?c.shift():function(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}(c,e),1===c.length&&(d[a]=c[0]),void 0!==d.removeListener&&this.emit("removeListener",a,h||b)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(a){var b,c,d;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[a]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[a]),this;if(0==arguments.length){var e,f=Object.keys(c);for(d=0;d<f.length;++d)"removeListener"!==(e=f[d])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=c[a]))this.removeListener(a,b);else if(void 0!==b)for(d=b.length-1;d>=0;d--)this.removeListener(a,b[d]);return this},e.prototype.listeners=function(a){return l(this,a,!0)},e.prototype.rawListeners=function(a){return l(this,a,!1)},e.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):m.call(a,b)},e.prototype.listenerCount=m,e.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]},B.exports}(),D=y(C),E=Object.prototype.hasOwnProperty;function F(a,b,c){for(c of a.keys())if(G(c,b))return c}function G(a,b){var c,d,e;if(a===b)return!0;if(a&&b&&(c=a.constructor)===b.constructor){if(c===Date)return a.getTime()===b.getTime();if(c===RegExp)return a.toString()===b.toString();if(c===Array){if((d=a.length)===b.length)for(;d--&&G(a[d],b[d]););return -1===d}if(c===Set){if(a.size!==b.size)return!1;for(d of a)if((e=d)&&"object"==typeof e&&!(e=F(b,e))||!b.has(e))return!1;return!0}if(c===Map){if(a.size!==b.size)return!1;for(d of a)if((e=d[0])&&"object"==typeof e&&!(e=F(b,e))||!G(d[1],b.get(e)))return!1;return!0}if(c===ArrayBuffer)a=new Uint8Array(a),b=new Uint8Array(b);else if(c===DataView){if((d=a.byteLength)===b.byteLength)for(;d--&&a.getInt8(d)===b.getInt8(d););return -1===d}if(ArrayBuffer.isView(a)){if((d=a.byteLength)===b.byteLength)for(;d--&&a[d]===b[d];);return -1===d}if(!c||"object"==typeof a){for(c in d=0,a)if(E.call(a,c)&&++d&&!E.call(b,c)||!(c in b)||!G(a[c],b[c]))return!1;return Object.keys(b).length===d}}return a!=a&&b!=b}let H={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},I={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},J={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},K={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},L={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class M{static getFirstMatch(a,b){let c=b.match(a);return c&&c.length>0&&c[1]||""}static getSecondMatch(a,b){let c=b.match(a);return c&&c.length>1&&c[2]||""}static matchAndReturnConst(a,b,c){if(a.test(b))return c}static getWindowsVersionName(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(a){let b=a.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(b.push(0),10===b[0])switch(b[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(a){let b=a.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(b.push(0),!(1===b[0]&&b[1]<5))return 1===b[0]&&b[1]<6?"Cupcake":1===b[0]&&b[1]>=6?"Donut":2===b[0]&&b[1]<2?"Eclair":2===b[0]&&2===b[1]?"Froyo":2===b[0]&&b[1]>2?"Gingerbread":3===b[0]?"Honeycomb":4===b[0]&&b[1]<1?"Ice Cream Sandwich":4===b[0]&&b[1]<4?"Jelly Bean":4===b[0]&&b[1]>=4?"KitKat":5===b[0]?"Lollipop":6===b[0]?"Marshmallow":7===b[0]?"Nougat":8===b[0]?"Oreo":9===b[0]?"Pie":void 0}static getVersionPrecision(a){return a.split(".").length}static compareVersions(a,b,c=!1){let d=M.getVersionPrecision(a),e=M.getVersionPrecision(b),f=Math.max(d,e),g=0,h=M.map([a,b],a=>{let b=f-M.getVersionPrecision(a),c=a+Array(b+1).join(".0");return M.map(c.split("."),a=>Array(20-a.length).join("0")+a).reverse()});for(c&&(g=f-Math.min(d,e)),f-=1;f>=g;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===g)return 0;f-=1}else if(h[0][f]<h[1][f])return -1}}static map(a,b){let c,d=[];if(Array.prototype.map)return Array.prototype.map.call(a,b);for(c=0;c<a.length;c+=1)d.push(b(a[c]));return d}static find(a,b){let c,d;if(Array.prototype.find)return Array.prototype.find.call(a,b);for(c=0,d=a.length;c<d;c+=1){let d=a[c];if(b(d,c))return d}}static assign(a,...b){return Object.assign(a,...b)}static getBrowserAlias(a){return H[a]}static getBrowserTypeByAlias(a){return I[a]||""}}let N=/version\/(\d+(\.?_?\d+)+)/i,O=[{test:[/googlebot/i],describe(a){let b={name:"Googlebot"},c=M.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/opera/i],describe(a){let b={name:"Opera"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opr\/|opios/i],describe(a){let b={name:"Opera"},c=M.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/SamsungBrowser/i],describe(a){let b={name:"Samsung Internet for Android"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Whale/i],describe(a){let b={name:"NAVER Whale Browser"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MZBrowser/i],describe(a){let b={name:"MZ Browser"},c=M.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/focus/i],describe(a){let b={name:"Focus"},c=M.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/swing/i],describe(a){let b={name:"Swing"},c=M.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/coast/i],describe(a){let b={name:"Opera Coast"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(a){let b={name:"Opera Touch"},c=M.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/yabrowser/i],describe(a){let b={name:"Yandex Browser"},c=M.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/ucbrowser/i],describe(a){let b={name:"UC Browser"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Maxthon|mxios/i],describe(a){let b={name:"Maxthon"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/epiphany/i],describe(a){let b={name:"Epiphany"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/puffin/i],describe(a){let b={name:"Puffin"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sleipnir/i],describe(a){let b={name:"Sleipnir"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/k-meleon/i],describe(a){let b={name:"K-Meleon"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/micromessenger/i],describe(a){let b={name:"WeChat"},c=M.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/qqbrowser/i],describe(a){let b={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},c=M.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/msie|trident/i],describe(a){let b={name:"Internet Explorer"},c=M.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/\sedg\//i],describe(a){let b={name:"Microsoft Edge"},c=M.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/edg([ea]|ios)/i],describe(a){let b={name:"Microsoft Edge"},c=M.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/vivaldi/i],describe(a){let b={name:"Vivaldi"},c=M.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/seamonkey/i],describe(a){let b={name:"SeaMonkey"},c=M.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sailfish/i],describe(a){let b={name:"Sailfish"},c=M.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return c&&(b.version=c),b}},{test:[/silk/i],describe(a){let b={name:"Amazon Silk"},c=M.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/phantom/i],describe(a){let b={name:"PhantomJS"},c=M.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/slimerjs/i],describe(a){let b={name:"SlimerJS"},c=M.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){let b={name:"BlackBerry"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(web|hpw)[o0]s/i],describe(a){let b={name:"WebOS Browser"},c=M.getFirstMatch(N,a)||M.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/bada/i],describe(a){let b={name:"Bada"},c=M.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/tizen/i],describe(a){let b={name:"Tizen"},c=M.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/qupzilla/i],describe(a){let b={name:"QupZilla"},c=M.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/firefox|iceweasel|fxios/i],describe(a){let b={name:"Firefox"},c=M.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/electron/i],describe(a){let b={name:"Electron"},c=M.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MiuiBrowser/i],describe(a){let b={name:"Miui"},c=M.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/chromium/i],describe(a){let b={name:"Chromium"},c=M.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/chrome|crios|crmo/i],describe(a){let b={name:"Chrome"},c=M.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/GSA/i],describe(a){let b={name:"Google Search"},c=M.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test(a){let b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe(a){let b={name:"Android Browser"},c=M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/playstation 4/i],describe(a){let b={name:"PlayStation 4"},c=M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/safari|applewebkit/i],describe(a){let b={name:"Safari"},c=M.getFirstMatch(N,a);return c&&(b.version=c),b}},{test:[/.*/i],describe(a){let b=-1!==a.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:M.getFirstMatch(b,a),version:M.getSecondMatch(b,a)}}}];var P=[{test:[/Roku\/DVP/],describe(a){let b=M.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:K.Roku,version:b}}},{test:[/windows phone/i],describe(a){let b=M.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:K.WindowsPhone,version:b}}},{test:[/windows /i],describe(a){let b=M.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),c=M.getWindowsVersionName(b);return{name:K.Windows,version:b,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(a){let b={name:K.iOS},c=M.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return c&&(b.version=c),b}},{test:[/macintosh/i],describe(a){let b=M.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),c=M.getMacOSVersionName(b),d={name:K.MacOS,version:b};return c&&(d.versionName=c),d}},{test:[/(ipod|iphone|ipad)/i],describe(a){let b=M.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:K.iOS,version:b}}},{test(a){let b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe(a){let b=M.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),c=M.getAndroidVersionName(b),d={name:K.Android,version:b};return c&&(d.versionName=c),d}},{test:[/(web|hpw)[o0]s/i],describe(a){let b=M.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),c={name:K.WebOS};return b&&b.length&&(c.version=b),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){let b=M.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||M.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||M.getFirstMatch(/\bbb(\d+)/i,a);return{name:K.BlackBerry,version:b}}},{test:[/bada/i],describe(a){let b=M.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:K.Bada,version:b}}},{test:[/tizen/i],describe(a){let b=M.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:K.Tizen,version:b}}},{test:[/linux/i],describe:()=>({name:K.Linux})},{test:[/CrOS/],describe:()=>({name:K.ChromeOS})},{test:[/PlayStation 4/],describe(a){let b=M.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:K.PlayStation4,version:b}}}],Q=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(a){let b=M.getFirstMatch(/(can-l01)/i,a)&&"Nova",c={type:J.mobile,vendor:"Huawei"};return b&&(c.model=b),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:J.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:J.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:J.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:J.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:J.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:J.tablet})},{test(a){let b=a.test(/ipod|iphone/i),c=a.test(/like (ipod|iphone)/i);return b&&!c},describe(a){let b=M.getFirstMatch(/(ipod|iphone)/i,a);return{type:J.mobile,vendor:"Apple",model:b}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:J.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:J.mobile})},{test:a=>"blackberry"===a.getBrowserName(!0),describe:()=>({type:J.mobile,vendor:"BlackBerry"})},{test:a=>"bada"===a.getBrowserName(!0),describe:()=>({type:J.mobile})},{test:a=>"windows phone"===a.getBrowserName(),describe:()=>({type:J.mobile,vendor:"Microsoft"})},{test(a){let b=Number(String(a.getOSVersion()).split(".")[0]);return"android"===a.getOSName(!0)&&b>=3},describe:()=>({type:J.tablet})},{test:a=>"android"===a.getOSName(!0),describe:()=>({type:J.mobile})},{test:a=>"macos"===a.getOSName(!0),describe:()=>({type:J.desktop,vendor:"Apple"})},{test:a=>"windows"===a.getOSName(!0),describe:()=>({type:J.desktop})},{test:a=>"linux"===a.getOSName(!0),describe:()=>({type:J.desktop})},{test:a=>"playstation 4"===a.getOSName(!0),describe:()=>({type:J.tv})},{test:a=>"roku"===a.getOSName(!0),describe:()=>({type:J.tv})}],R=[{test:a=>"microsoft edge"===a.getBrowserName(!0),describe(a){if(/\sedg\//i.test(a))return{name:L.Blink};let b=M.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:L.EdgeHTML,version:b}}},{test:[/trident/i],describe(a){let b={name:L.Trident},c=M.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:a=>a.test(/presto/i),describe(a){let b={name:L.Presto},c=M.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test(a){let b=a.test(/gecko/i),c=a.test(/like gecko/i);return b&&!c},describe(a){let b={name:L.Gecko},c=M.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:L.Blink})},{test:[/(apple)?webkit/i],describe(a){let b={name:L.WebKit},c=M.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}}];class S{constructor(a,b=!1){if(null==a||""===a)throw Error("UserAgent parameter can't be empty");this._ua=a,this.parsedResult={},!0!==b&&this.parse()}getUA(){return this._ua}test(a){return a.test(this._ua)}parseBrowser(){this.parsedResult.browser={};let a=M.find(O,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.browser=a.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(a){return a?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};let a=M.find(P,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.os=a.describe(this.getUA())),this.parsedResult.os}getOSName(a){let{name:b}=this.getOS();return a?String(b).toLowerCase()||"":b||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(a=!1){let{type:b}=this.getPlatform();return a?String(b).toLowerCase()||"":b||""}parsePlatform(){this.parsedResult.platform={};let a=M.find(Q,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.platform=a.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(a){return a?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};let a=M.find(R,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.engine=a.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return M.assign({},this.parsedResult)}satisfies(a){let b={},c=0,d={},e=0;if(Object.keys(a).forEach(f=>{let g=a[f];"string"==typeof g?(d[f]=g,e+=1):"object"==typeof g&&(b[f]=g,c+=1)}),c>0){let a=Object.keys(b),c=M.find(a,a=>this.isOS(a));if(c){let a=this.satisfies(b[c]);if(void 0!==a)return a}let d=M.find(a,a=>this.isPlatform(a));if(d){let a=this.satisfies(b[d]);if(void 0!==a)return a}}if(e>0){let a=Object.keys(d),b=M.find(a,a=>this.isBrowser(a,!0));if(void 0!==b)return this.compareVersion(d[b])}}isBrowser(a,b=!1){let c=this.getBrowserName().toLowerCase(),d=a.toLowerCase(),e=M.getBrowserTypeByAlias(d);return b&&e&&(d=e.toLowerCase()),d===c}compareVersion(a){let b=[0],c=a,d=!1,e=this.getBrowserVersion();if("string"==typeof e)return">"===a[0]||"<"===a[0]?(c=a.substr(1),"="===a[1]?(d=!0,c=a.substr(2)):b=[],">"===a[0]?b.push(1):b.push(-1)):"="===a[0]?c=a.substr(1):"~"===a[0]&&(d=!0,c=a.substr(1)),b.indexOf(M.compareVersions(e,c,d))>-1}isOS(a){return this.getOSName(!0)===String(a).toLowerCase()}isPlatform(a){return this.getPlatformType(!0)===String(a).toLowerCase()}isEngine(a){return this.getEngineName(!0)===String(a).toLowerCase()}is(a,b=!1){return this.isBrowser(a,b)||this.isOS(a)||this.isPlatform(a)}some(a=[]){return a.some(a=>this.is(a))}}class T{static getParser(a,b=!1){if("string"!=typeof a)throw Error("UserAgent should be a string");return new S(a,b)}static parse(a){return new S(a).getResult()}static get BROWSER_MAP(){return I}static get ENGINE_MAP(){return L}static get OS_MAP(){return K}static get PLATFORMS_MAP(){return J}}function U(){return Date.now()+Math.random().toString()}function V(){throw Error("Method must be implemented in subclass")}function W(a,b){return null!=b&&b.proxyUrl?b.proxyUrl+("/"===b.proxyUrl.slice(-1)?"":"/")+a.substring(8):a}function X(a){return null!=a&&a.callObjectBundleUrlOverride?a.callObjectBundleUrlOverride:W("https://c.daily.co/call-machine/versioned/".concat("0.83.1","/static/call-machine-object-bundle.js"),a)}function Y(a){try{new URL(a)}catch(a){return!1}return!0}let Z="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,$="8.55.0",_=globalThis;function aa(a,b,c){let d=c||_,e=d.__SENTRY__=d.__SENTRY__||{},f=e[$]=e[$]||{};return f[a]||(f[a]=b())}let ab="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ac=["debug","info","warn","error","log","assert","trace"],ad={};function ae(a){if(!("console"in _))return a();let b=_.console,c={},d=Object.keys(ad);d.forEach(a=>{let d=ad[a];c[a]=b[a],b[a]=d});try{return a()}finally{d.forEach(a=>{b[a]=c[a]})}}let af=aa("logger",function(){let a=!1,b={enable:()=>{a=!0},disable:()=>{a=!1},isEnabled:()=>a};return ab?ac.forEach(c=>{b[c]=(...b)=>{a&&ae(()=>{_.console[c](`Sentry Logger [${c}]:`,...b)})}}):ac.forEach(a=>{b[a]=()=>{}}),b}),ag="?",ah=/\(error: (.*)\)/,ai=/captureMessage|captureException/;function aj(a){return a[a.length-1]||{}}let ak="<anonymous>";function al(a){try{return a&&"function"==typeof a&&a.name||ak}catch(a){return ak}}function am(a){let b=a.exception;if(b){let a=[];try{return b.values.forEach(b=>{b.stacktrace.frames&&a.push(...b.stacktrace.frames)}),a}catch(a){return}}}let an={},ao={};function ap(a,b){an[a]=an[a]||[],an[a].push(b)}function aq(a,b){if(!ao[a]){ao[a]=!0;try{b()}catch(b){ab&&af.error(`Error while instrumenting ${a}`,b)}}}function ar(a,b){let c=a&&an[a];if(c)for(let d of c)try{d(b)}catch(b){ab&&af.error(`Error while triggering instrumentation handler.
Type: ${a}
Name: ${al(d)}
Error:`,b)}}let as=null;function at(){as=_.onerror,_.onerror=function(a,b,c,d,e){return ar("error",{column:d,error:e,line:c,msg:a,url:b}),!!as&&as.apply(this,arguments)},_.onerror.__SENTRY_INSTRUMENTED__=!0}let au=null;function av(){au=_.onunhandledrejection,_.onunhandledrejection=function(a){return ar("unhandledrejection",a),!au||au.apply(this,arguments)},_.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function aw(){return ax(_),_}function ax(a){let b=a.__SENTRY__=a.__SENTRY__||{};return b.version=b.version||$,b[$]=b[$]||{}}let ay=Object.prototype.toString;function az(a){switch(ay.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return aJ(a,Error)}}function aA(a,b){return ay.call(a)===`[object ${b}]`}function aB(a){return aA(a,"ErrorEvent")}function aC(a){return aA(a,"DOMError")}function aD(a){return aA(a,"String")}function aE(a){return"object"==typeof a&&null!==a&&"__sentry_template_string__"in a&&"__sentry_template_values__"in a}function aF(a){return null===a||aE(a)||"object"!=typeof a&&"function"!=typeof a}function aG(a){return aA(a,"Object")}function aH(a){return"undefined"!=typeof Event&&aJ(a,Event)}function aI(a){return!!(a&&a.then&&"function"==typeof a.then)}function aJ(a,b){try{return a instanceof b}catch(a){return!1}}function aK(a){return!("object"!=typeof a||null===a||!a.__isVue&&!a._isVue)}let aL=_;function aM(a,b={}){if(!a)return"<unknown>";try{let c,d=a,e=5,f=[],g=0,h=0,i=" > ",j=i.length,k=Array.isArray(b)?b:b.keyAttrs,l=!Array.isArray(b)&&b.maxStringLength||80;for(;d&&g++<e&&(c=aN(d,k),!("html"===c||g>1&&h+f.length*j+c.length>=l));)f.push(c),h+=c.length,d=d.parentNode;return f.reverse().join(i)}catch(a){return"<unknown>"}}function aN(a,b){let c=a,d=[];if(!c||!c.tagName)return"";if(aL.HTMLElement&&c instanceof HTMLElement&&c.dataset){if(c.dataset.sentryComponent)return c.dataset.sentryComponent;if(c.dataset.sentryElement)return c.dataset.sentryElement}d.push(c.tagName.toLowerCase());let e=b&&b.length?b.filter(a=>c.getAttribute(a)).map(a=>[a,c.getAttribute(a)]):null;if(e&&e.length)e.forEach(a=>{d.push(`[${a[0]}="${a[1]}"]`)});else{c.id&&d.push(`#${c.id}`);let a=c.className;if(a&&aD(a))for(let b of a.split(/\s+/))d.push(`.${b}`)}for(let a of["aria-label","type","name","title","alt"]){let b=c.getAttribute(a);b&&d.push(`[${a}="${b}"]`)}return d.join("")}function aO(a,b=0){return"string"!=typeof a||0===b||a.length<=b?a:`${a.slice(0,b)}...`}function aP(a,b){if(!Array.isArray(a))return"";let c=[];for(let b=0;b<a.length;b++){let d=a[b];try{aK(d)?c.push("[VueViewModel]"):c.push(String(d))}catch(a){c.push("[value cannot be serialized]")}}return c.join(b)}function aQ(a,b,c=!1){return!!aD(a)&&(aA(b,"RegExp")?b.test(a):!!aD(b)&&(c?a===b:a.includes(b)))}function aR(a,b=[],c=!1){return b.some(b=>aQ(a,b,c))}function aS(a,b,c){if(!(b in a))return;let d=a[b],e=c(d);"function"==typeof e&&aU(e,d);try{a[b]=e}catch(c){ab&&af.log(`Failed to replace method "${b}" in object`,a)}}function aT(a,b,c){try{Object.defineProperty(a,b,{value:c,writable:!0,configurable:!0})}catch(c){ab&&af.log(`Failed to add non-enumerable property "${b}" to object`,a)}}function aU(a,b){try{let c=b.prototype||{};a.prototype=b.prototype=c,aT(a,"__sentry_original__",b)}catch(a){}}function aV(a){return a.__sentry_original__}function aW(a){if(az(a))return{message:a.message,name:a.name,stack:a.stack,...aY(a)};if(aH(a)){let b={type:a.type,target:aX(a.target),currentTarget:aX(a.currentTarget),...aY(a)};return"undefined"!=typeof CustomEvent&&aJ(a,CustomEvent)&&(b.detail=a.detail),b}return a}function aX(a){var b;try{return b=a,"undefined"!=typeof Element&&aJ(b,Element)?aM(a):Object.prototype.toString.call(a)}catch(a){return"<unknown>"}}function aY(a){if("object"==typeof a&&null!==a){let b={};for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}return{}}function aZ(a){return a$(a,new Map)}function a$(a,b){if(function(a){if(!aG(a))return!1;try{let b=Object.getPrototypeOf(a).constructor.name;return!b||"Object"===b}catch(a){return!0}}(a)){let c=b.get(a);if(void 0!==c)return c;let d={};for(let c of(b.set(a,d),Object.getOwnPropertyNames(a)))void 0!==a[c]&&(d[c]=a$(a[c],b));return d}if(Array.isArray(a)){let c=b.get(a);if(void 0!==c)return c;let d=[];return b.set(a,d),a.forEach(a=>{d.push(a$(a,b))}),d}return a}function a_(){return Date.now()/1e3}let a0=function(){let{performance:a}=_;if(!a||!a.now)return a_;let b=Date.now()-a.now(),c=null==a.timeOrigin?b:a.timeOrigin;return()=>(c+a.now())/1e3}();function a1(){let a=_,b=a.crypto||a.msCrypto,c=()=>16*Math.random();try{if(b&&b.randomUUID)return b.randomUUID().replace(/-/g,"");b&&b.getRandomValues&&(c=()=>{let a=new Uint8Array(1);return b.getRandomValues(a),a[0]})}catch(a){}return"10000000100040008000100000000000".replace(/[018]/g,a=>(a^(15&c())>>a/4).toString(16))}function a2(a){return a.exception&&a.exception.values?a.exception.values[0]:void 0}function a3(a){let{message:b,event_id:c}=a;if(b)return b;let d=a2(a);return d?d.type&&d.value?`${d.type}: ${d.value}`:d.type||d.value||c||"<unknown>":c||"<unknown>"}function a4(a,b,c){let d=a.exception=a.exception||{},e=d.values=d.values||[],f=e[0]=e[0]||{};f.value||(f.value=b||""),f.type||(f.type=c||"Error")}function a5(a,b){let c=a2(a);if(!c)return;let d=c.mechanism;if(c.mechanism={type:"generic",handled:!0,...d,...b},b&&"data"in b){let a={...d&&d.data,...b.data};c.mechanism.data=a}}function a6(a){if(function(a){try{return a.__sentry_captured__}catch(a){}}(a))return!0;try{aT(a,"__sentry_captured__",!0)}catch(a){}return!1}function a7(a){return new a9(b=>{b(a)})}function a8(a){return new a9((b,c)=>{c(a)})}(()=>{let{performance:a}=_;if(!a||!a.now)return;let b=36e5,c=a.now(),d=Date.now(),e=a.timeOrigin?Math.abs(a.timeOrigin+c-d):b,f=e<b,g=a.timing&&a.timing.navigationStart,h="number"==typeof g?Math.abs(g+c-d):b;(f||h<b)&&e<=h&&a.timeOrigin})(),function(a){a[a.PENDING=0]="PENDING",a[a.RESOLVED=1]="RESOLVED",a[a.REJECTED=2]="REJECTED"}(z||(z={}));class a9{constructor(a){a9.prototype.__init.call(this),a9.prototype.__init2.call(this),a9.prototype.__init3.call(this),a9.prototype.__init4.call(this),this._state=z.PENDING,this._handlers=[];try{a(this._resolve,this._reject)}catch(a){this._reject(a)}}then(a,b){return new a9((c,d)=>{this._handlers.push([!1,b=>{if(a)try{c(a(b))}catch(a){d(a)}else c(b)},a=>{if(b)try{c(b(a))}catch(a){d(a)}else d(a)}]),this._executeHandlers()})}catch(a){return this.then(a=>a,a)}finally(a){return new a9((b,c)=>{let d,e;return this.then(b=>{e=!1,d=b,a&&a()},b=>{e=!0,d=b,a&&a()}).then(()=>{e?c(d):b(d)})})}__init(){this._resolve=a=>{this._setResult(z.RESOLVED,a)}}__init2(){this._reject=a=>{this._setResult(z.REJECTED,a)}}__init3(){this._setResult=(a,b)=>{this._state===z.PENDING&&(aI(b)?b.then(this._resolve,this._reject):(this._state=a,this._value=b,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===z.PENDING)return;let a=this._handlers.slice();this._handlers=[],a.forEach(a=>{a[0]||(this._state===z.RESOLVED&&a[1](this._value),this._state===z.REJECTED&&a[2](this._value),a[0]=!0)})}}}function ba(a){let b=a0(),c={sid:a1(),init:!0,timestamp:b,started:b,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(a){return aZ({sid:`${a.sid}`,init:a.init,started:new Date(1e3*a.started).toISOString(),timestamp:new Date(1e3*a.timestamp).toISOString(),status:a.status,errors:a.errors,did:"number"==typeof a.did||"string"==typeof a.did?`${a.did}`:void 0,duration:a.duration,abnormal_mechanism:a.abnormal_mechanism,attrs:{release:a.release,environment:a.environment,ip_address:a.ipAddress,user_agent:a.userAgent}})})(c)};return a&&bb(c,a),c}function bb(a,b={}){if(b.user&&(!a.ipAddress&&b.user.ip_address&&(a.ipAddress=b.user.ip_address),a.did||b.did||(a.did=b.user.id||b.user.email||b.user.username)),a.timestamp=b.timestamp||a0(),b.abnormal_mechanism&&(a.abnormal_mechanism=b.abnormal_mechanism),b.ignoreDuration&&(a.ignoreDuration=b.ignoreDuration),b.sid&&(a.sid=32===b.sid.length?b.sid:a1()),void 0!==b.init&&(a.init=b.init),!a.did&&b.did&&(a.did=`${b.did}`),"number"==typeof b.started&&(a.started=b.started),a.ignoreDuration)a.duration=void 0;else if("number"==typeof b.duration)a.duration=b.duration;else{let b=a.timestamp-a.started;a.duration=b>=0?b:0}b.release&&(a.release=b.release),b.environment&&(a.environment=b.environment),!a.ipAddress&&b.ipAddress&&(a.ipAddress=b.ipAddress),!a.userAgent&&b.userAgent&&(a.userAgent=b.userAgent),"number"==typeof b.errors&&(a.errors=b.errors),b.status&&(a.status=b.status)}function bc(){return a1()}function bd(){return a1().substring(16)}function be(a,b,c=2){if(!b||"object"!=typeof b||c<=0)return b;if(a&&b&&0===Object.keys(b).length)return a;let d={...a};for(let a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=be(d[a],b[a],c-1));return d}let bf="_sentrySpan";function bg(a,b){b?aT(a,bf,b):delete a[bf]}function bh(a){return a[bf]}class bi{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:bc(),spanId:bd()}}clone(){let a=new bi;return a._breadcrumbs=[...this._breadcrumbs],a._tags={...this._tags},a._extra={...this._extra},a._contexts={...this._contexts},this._contexts.flags&&(a._contexts.flags={values:[...this._contexts.flags.values]}),a._user=this._user,a._level=this._level,a._session=this._session,a._transactionName=this._transactionName,a._fingerprint=this._fingerprint,a._eventProcessors=[...this._eventProcessors],a._requestSession=this._requestSession,a._attachments=[...this._attachments],a._sdkProcessingMetadata={...this._sdkProcessingMetadata},a._propagationContext={...this._propagationContext},a._client=this._client,a._lastEventId=this._lastEventId,bg(a,bh(this)),a}setClient(a){this._client=a}setLastEventId(a){this._lastEventId=a}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(a){this._scopeListeners.push(a)}addEventProcessor(a){return this._eventProcessors.push(a),this}setUser(a){return this._user=a||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&bb(this._session,{user:a}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(a){return this._requestSession=a,this}setTags(a){return this._tags={...this._tags,...a},this._notifyScopeListeners(),this}setTag(a,b){return this._tags={...this._tags,[a]:b},this._notifyScopeListeners(),this}setExtras(a){return this._extra={...this._extra,...a},this._notifyScopeListeners(),this}setExtra(a,b){return this._extra={...this._extra,[a]:b},this._notifyScopeListeners(),this}setFingerprint(a){return this._fingerprint=a,this._notifyScopeListeners(),this}setLevel(a){return this._level=a,this._notifyScopeListeners(),this}setTransactionName(a){return this._transactionName=a,this._notifyScopeListeners(),this}setContext(a,b){return null===b?delete this._contexts[a]:this._contexts[a]=b,this._notifyScopeListeners(),this}setSession(a){return a?this._session=a:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(a){if(!a)return this;let b="function"==typeof a?a(this):a,[c,d]=b instanceof bj?[b.getScopeData(),b.getRequestSession()]:aG(b)?[a,a.requestSession]:[],{tags:e,extra:f,user:g,contexts:h,level:i,fingerprint:j=[],propagationContext:k}=c||{};return this._tags={...this._tags,...e},this._extra={...this._extra,...f},this._contexts={...this._contexts,...h},g&&Object.keys(g).length&&(this._user=g),i&&(this._level=i),j.length&&(this._fingerprint=j),k&&(this._propagationContext=k),d&&(this._requestSession=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,bg(this,void 0),this._attachments=[],this.setPropagationContext({traceId:bc()}),this._notifyScopeListeners(),this}addBreadcrumb(a,b){let c="number"==typeof b?b:100;if(c<=0)return this;let d={timestamp:a_(),...a};return this._breadcrumbs.push(d),this._breadcrumbs.length>c&&(this._breadcrumbs=this._breadcrumbs.slice(-c),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(a){return this._attachments.push(a),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:bh(this)}}setSDKProcessingMetadata(a){return this._sdkProcessingMetadata=be(this._sdkProcessingMetadata,a,2),this}setPropagationContext(a){return this._propagationContext={spanId:bd(),...a},this}getPropagationContext(){return this._propagationContext}captureException(a,b){let c=b&&b.event_id?b.event_id:a1();if(!this._client)return af.warn("No client configured on scope - will not capture exception!"),c;let d=Error("Sentry syntheticException");return this._client.captureException(a,{originalException:a,syntheticException:d,...b,event_id:c},this),c}captureMessage(a,b,c){let d=c&&c.event_id?c.event_id:a1();if(!this._client)return af.warn("No client configured on scope - will not capture message!"),d;let e=Error(a);return this._client.captureMessage(a,b,{originalException:a,syntheticException:e,...c,event_id:d},this),d}captureEvent(a,b){let c=b&&b.event_id?b.event_id:a1();return this._client?this._client.captureEvent(a,{...b,event_id:c},this):af.warn("No client configured on scope - will not capture event!"),c}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(a=>{a(this)}),this._notifyingListeners=!1)}}let bj=bi;class bk{constructor(a,b){let c,d;c=a||new bj,d=b||new bj,this._stack=[{scope:c}],this._isolationScope=d}withScope(a){let b,c=this._pushScope();try{b=a(c)}catch(a){throw this._popScope(),a}return aI(b)?b.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),b)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let a=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:a}),a}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function bl(){let a=ax(aw());return a.stack=a.stack||new bk(aa("defaultCurrentScope",()=>new bj),aa("defaultIsolationScope",()=>new bj))}function bm(a){return bl().withScope(a)}function bn(a,b){let c=bl();return c.withScope(()=>(c.getStackTop().scope=a,b(a)))}function bo(a){return bl().withScope(()=>a(bl().getIsolationScope()))}function bp(a){let b=ax(a);return b.acs?b.acs:{withIsolationScope:bo,withScope:bm,withSetScope:bn,withSetIsolationScope:(a,b)=>bo(b),getCurrentScope:()=>bl().getScope(),getIsolationScope:()=>bl().getIsolationScope()}}function bq(){return bp(aw()).getCurrentScope()}function br(){return bp(aw()).getIsolationScope()}function bs(){return bq().getClient()}function bt(a){let{traceId:b,spanId:c,parentSpanId:d}=a.getPropagationContext();return aZ({trace_id:b,span_id:c,parent_span_id:d})}function bu(a){let b=a._sentryMetrics;if(!b)return;let c={};for(let[,[a,d]]of b)(c[a]||(c[a]=[])).push(aZ(d));return c}let bv=/^sentry-/;function bw(a){let b=function(a){if(a&&(aD(a)||Array.isArray(a)))return Array.isArray(a)?a.reduce((a,b)=>(Object.entries(bx(b)).forEach(([b,c])=>{a[b]=c}),a),{}):bx(a)}(a);if(!b)return;let c=Object.entries(b).reduce((a,[b,c])=>(b.match(bv)&&(a[b.slice(7)]=c),a),{});return Object.keys(c).length>0?c:void 0}function bx(a){return a.split(",").map(a=>a.split("=").map(a=>decodeURIComponent(a.trim()))).reduce((a,[b,c])=>(b&&c&&(a[b]=c),a),{})}let by=!1;function bz(a){let{spanId:b,traceId:c,isRemote:d}=a.spanContext();return aZ({parent_span_id:d?b:bC(a).parent_span_id,span_id:d?bd():b,trace_id:c})}function bA(a){return"number"==typeof a?bB(a):Array.isArray(a)?a[0]+a[1]/1e9:a instanceof Date?bB(a.getTime()):a0()}function bB(a){return a>0x2540be3ff?a/1e3:a}function bC(a){if(function(a){return"function"==typeof a.getSpanJSON}(a))return a.getSpanJSON();try{let{spanId:b,traceId:c}=a.spanContext();if(function(a){let b=a;return!!(b.attributes&&b.startTime&&b.name&&b.endTime&&b.status)}(a)){let{attributes:d,startTime:e,name:f,endTime:g,parentSpanId:h,status:i}=a;return aZ({span_id:b,trace_id:c,data:d,description:f,parent_span_id:h,start_timestamp:bA(e),timestamp:bA(g)||void 0,status:bD(i),op:d["sentry.op"],origin:d["sentry.origin"],_metrics_summary:bu(a)})}return{span_id:b,trace_id:c}}catch(a){return{}}}function bD(a){if(a&&0!==a.code)return 1===a.code?"ok":a.message||"unknown_error"}function bE(a){return a._sentryRootSpan||a}function bF(){by||(ae(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),by=!0)}let bG="production";function bH(a,b){let c=b.getOptions(),{publicKey:d}=b.getDsn()||{},e=aZ({environment:c.environment||bG,release:c.release,public_key:d,trace_id:a});return b.emit("createDsc",e),e}function bI(a){let b=bs();if(!b)return{};let c=bE(a),d=c._frozenDsc;if(d)return d;let e=c.spanContext().traceState,f=e&&e.get("sentry.dsc"),g=f&&bw(f);if(g)return g;let h=bH(a.spanContext().traceId,b),i=bC(c),j=i.data||{},k=j["sentry.sample_rate"];null!=k&&(h.sample_rate=`${k}`);let l=j["sentry.source"],m=i.description;return"url"!==l&&m&&(h.transaction=m),function(a){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let b=bs(),c=b&&b.getOptions();return!!c&&(c.enableTracing||"tracesSampleRate"in c||"tracesSampler"in c)}()&&(h.sampled=String(function(a){let{traceFlags:b}=a.spanContext();return 1===b}(c))),b.emit("createDsc",h,c),h}let bJ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function bK(a,b=!1){let{host:c,path:d,pass:e,port:f,projectId:g,protocol:h,publicKey:i}=a;return`${h}://${i}${b&&e?`:${e}`:""}@${c}${f?`:${f}`:""}/${d?`${d}/`:d}${g}`}function bL(a){return{protocol:a.protocol,publicKey:a.publicKey||"",pass:a.pass||"",host:a.host,port:a.port||"",path:a.path||"",projectId:a.projectId}}function bM(a){let b="string"==typeof a?function(a){let b=bJ.exec(a);if(!b)return void ae(()=>{console.error(`Invalid Sentry Dsn: ${a}`)});let[c,d,e="",f="",g="",h=""]=b.slice(1),i="",j=h,k=j.split("/");if(k.length>1&&(i=k.slice(0,-1).join("/"),j=k.pop()),j){let a=j.match(/^\d+/);a&&(j=a[0])}return bL({host:f,pass:e,path:i,projectId:j,port:g,protocol:c,publicKey:d})}(a):bL(a);if(b&&function(a){if(!ab)return!0;let{port:b,projectId:c,protocol:d}=a;return!(["protocol","publicKey","host","projectId"].find(b=>!a[b]&&(af.error(`Invalid Sentry Dsn: ${b} missing`),!0))||(c.match(/^\d+$/)?!function(a){return"http"===a||"https"===a}(d)?(af.error(`Invalid Sentry Dsn: Invalid protocol ${d}`),1):b&&isNaN(parseInt(b,10))&&(af.error(`Invalid Sentry Dsn: Invalid port ${b}`),1):(af.error(`Invalid Sentry Dsn: Invalid projectId ${c}`),1)))}(b))return b}function bN(a,b=100,c=1/0){try{return bP("",a,b,c)}catch(a){return{ERROR:`**non-serializable** (${a})`}}}function bO(a,b=3,c=102400){let d=bN(a,b);return function(a){return~-encodeURI(a).split(/%..|./).length}(JSON.stringify(d))>c?bO(a,b-1,c):d}function bP(b,c,d=1/0,e=1/0,f=function(){let a="function"==typeof WeakSet,b=a?new WeakSet:[];return[function(c){if(a)return!!b.has(c)||(b.add(c),!1);for(let a=0;a<b.length;a++)if(b[a]===c)return!0;return b.push(c),!1},function(c){if(a)b.delete(c);else for(let a=0;a<b.length;a++)if(b[a]===c){b.splice(a,1);break}}]}()){let[g,h]=f;if(null==c||["boolean","string"].includes(typeof c)||"number"==typeof c&&Number.isFinite(c))return c;let i=function(b,c){var d;try{if("domain"===b&&c&&"object"==typeof c&&c._events)return"[Domain]";if("domainEmitter"===b)return"[DomainEmitter]";if(c===a.g)return"[Global]";if("undefined"!=typeof document&&c===document)return"[Document]";if(aK(c))return"[VueViewModel]";if(aG(d=c)&&"nativeEvent"in d&&"preventDefault"in d&&"stopPropagation"in d)return"[SyntheticEvent]";if("number"==typeof c&&!Number.isFinite(c))return`[${c}]`;if("function"==typeof c)return`[Function: ${al(c)}]`;if("symbol"==typeof c)return`[${String(c)}]`;if("bigint"==typeof c)return`[BigInt: ${String(c)}]`;let e=function(a){let b=Object.getPrototypeOf(a);return b?b.constructor.name:"null prototype"}(c);return/^HTML(\w*)Element$/.test(e)?`[HTMLElement: ${e}]`:`[object ${e}]`}catch(a){return`**non-serializable** (${a})`}}(b,c);if(!i.startsWith("[object "))return i;if(c.__sentry_skip_normalization__)return c;let j="number"==typeof c.__sentry_override_normalization_depth__?c.__sentry_override_normalization_depth__:d;if(0===j)return i.replace("object ","");if(g(c))return"[Circular ~]";let k=c;if(k&&"function"==typeof k.toJSON)try{return bP("",k.toJSON(),j-1,e,f)}catch(a){}let l=Array.isArray(c)?[]:{},m=0,n=aW(c);for(let a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;if(m>=e){l[a]="[MaxProperties ~]";break}let b=n[a];l[a]=bP(a,b,j-1,e,f),m++}return h(c),l}function bQ(a,b=[]){return[a,b]}function bR(a,b){let[c,d]=a;return[c,[...d,b]]}function bS(a,b){for(let c of a[1])if(b(c,c[0].type))return!0;return!1}function bT(a){return _.__SENTRY__&&_.__SENTRY__.encodePolyfill?_.__SENTRY__.encodePolyfill(a):(new TextEncoder).encode(a)}function bU(a){let[b,c]=a,d=JSON.stringify(b);function e(a){"string"==typeof d?d="string"==typeof a?d+a:[bT(d),a]:d.push("string"==typeof a?bT(a):a)}for(let a of c){let[b,c]=a;if(e(`
${JSON.stringify(b)}
`),"string"==typeof c||c instanceof Uint8Array)e(c);else{let a;try{a=JSON.stringify(c)}catch(b){a=JSON.stringify(bN(c))}e(a)}}return"string"==typeof d?d:function(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}(d)}function bV(a){let b="string"==typeof a.data?bT(a.data):a.data;return[aZ({type:"attachment",length:b.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),b]}let bW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function bX(a){return bW[a]}function bY(a){if(!a||!a.sdk)return;let{name:b,version:c}=a.sdk;return{name:b,version:c}}function bZ(a,b,c,d){let e=bY(c),f=a.type&&"replay_event"!==a.type?a.type:"event";!function(a,b){b&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||b.name,a.sdk.version=a.sdk.version||b.version,a.sdk.integrations=[...a.sdk.integrations||[],...b.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...b.packages||[]])}(a,c&&c.sdk);let g=function(a,b,c,d){let e=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:(new Date).toISOString(),...b&&{sdk:b},...!!c&&d&&{dsn:bK(d)},...e&&{trace:aZ({...e})}}}(a,e,d,b);return delete a.sdkProcessingMetadata,bQ(g,[[{type:f},a]])}function b$(a,b,c,d=0){return new a9((e,f)=>{let g=a[d];if(null===b||"function"!=typeof g)e(b);else{let h=g({...b},c);Z&&g.id&&null===h&&af.log(`Event processor "${g.id}" dropped event`),aI(h)?h.then(b=>b$(a,b,c,d+1).then(e)).then(null,f):b$(a,h,c,d+1).then(e).then(null,f)}})}function b_(a,b){let{fingerprint:c,span:d,breadcrumbs:e,sdkProcessingMetadata:f}=b;!function(a,b){let{extra:c,tags:d,user:e,contexts:f,level:g,transactionName:h}=b,i=aZ(c);i&&Object.keys(i).length&&(a.extra={...i,...a.extra});let j=aZ(d);j&&Object.keys(j).length&&(a.tags={...j,...a.tags});let k=aZ(e);k&&Object.keys(k).length&&(a.user={...k,...a.user});let l=aZ(f);l&&Object.keys(l).length&&(a.contexts={...l,...a.contexts}),g&&(a.level=g),h&&"transaction"!==a.type&&(a.transaction=h)}(a,b),d&&function(a,b){a.contexts={trace:bz(b),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:bI(b),...a.sdkProcessingMetadata};let c=bC(bE(b)).description;c&&!a.transaction&&"transaction"===a.type&&(a.transaction=c)}(a,d),function(a,b){a.fingerprint=a.fingerprint?Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]:[],b&&(a.fingerprint=a.fingerprint.concat(b)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(a,c),function(a,b){let c=[...a.breadcrumbs||[],...b];a.breadcrumbs=c.length?c:void 0}(a,e),function(a,b){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...b}}(a,f)}function b0(a,b){let{extra:c,tags:d,user:e,contexts:f,level:g,sdkProcessingMetadata:h,breadcrumbs:i,fingerprint:j,eventProcessors:k,attachments:l,propagationContext:m,transactionName:n,span:o}=b;b1(a,"extra",c),b1(a,"tags",d),b1(a,"user",e),b1(a,"contexts",f),a.sdkProcessingMetadata=be(a.sdkProcessingMetadata,h,2),g&&(a.level=g),n&&(a.transactionName=n),o&&(a.span=o),i.length&&(a.breadcrumbs=[...a.breadcrumbs,...i]),j.length&&(a.fingerprint=[...a.fingerprint,...j]),k.length&&(a.eventProcessors=[...a.eventProcessors,...k]),l.length&&(a.attachments=[...a.attachments,...l]),a.propagationContext={...a.propagationContext,...m}}function b1(a,b,c){a[b]=be(a[b],c,1)}function b2(a,e,f,g,h,i){let{normalizeDepth:j=3,normalizeMaxBreadth:k=1e3}=a,l={...e,event_id:e.event_id||f.event_id||a1(),timestamp:e.timestamp||a_()},m=f.integrations||a.integrations.map(a=>a.name);!function(a,b){let{environment:c,release:d,dist:e,maxValueLength:f=250}=b;a.environment=a.environment||c||bG,!a.release&&d&&(a.release=d),!a.dist&&e&&(a.dist=e),a.message&&(a.message=aO(a.message,f));let g=a.exception&&a.exception.values&&a.exception.values[0];g&&g.value&&(g.value=aO(g.value,f));let h=a.request;h&&h.url&&(h.url=aO(h.url,f))}(l,a),function(a,b){b.length>0&&(a.sdk=a.sdk||{},a.sdk.integrations=[...a.sdk.integrations||[],...b])}(l,m),h&&h.emit("applyFrameMetadata",e),void 0===e.type&&function(a,e){let f=function(a){let e=_._sentryDebugIds;if(!e)return{};let f=Object.keys(e);return d&&f.length===c||(c=f.length,d=f.reduce((c,d)=>{b||(b={});let f=b[d];if(f)c[f[0]]=f[1];else{let f=a(d);for(let a=f.length-1;a>=0;a--){let g=f[a],h=g&&g.filename,i=e[d];if(h&&i){c[h]=i,b[d]=[h,i];break}}}return c},{})),d}(e);try{a.exception.values.forEach(a=>{a.stacktrace.frames.forEach(a=>{f&&a.filename&&(a.debug_id=f[a.filename])})})}catch(a){}}(l,a.stackParser);let n=function(a,b){if(!b)return a;let c=a?a.clone():new bj;return c.update(b),c}(g,f.captureContext);f.mechanism&&a5(l,f.mechanism);let o=h?h.getEventProcessors():[],p=aa("globalScope",()=>new bj).getScopeData();i&&b0(p,i.getScopeData()),n&&b0(p,n.getScopeData());let q=[...f.attachments||[],...p.attachments];return q.length&&(f.attachments=q),b_(l,p),b$([...o,...p.eventProcessors],l,f).then(a=>(a&&function(a){let b={};try{a.exception.values.forEach(a=>{a.stacktrace.frames.forEach(a=>{a.debug_id&&(a.abs_path?b[a.abs_path]=a.debug_id:a.filename&&(b[a.filename]=a.debug_id),delete a.debug_id)})})}catch(a){}if(0===Object.keys(b).length)return;a.debug_meta=a.debug_meta||{},a.debug_meta.images=a.debug_meta.images||[];let c=a.debug_meta.images;Object.entries(b).forEach(([a,b])=>{c.push({type:"sourcemap",code_file:a,debug_id:b})})}(a),"number"==typeof j&&j>0?function(a,b,c){if(!a)return null;let d={...a,...a.breadcrumbs&&{breadcrumbs:a.breadcrumbs.map(a=>({...a,...a.data&&{data:bN(a.data,b,c)}}))},...a.user&&{user:bN(a.user,b,c)},...a.contexts&&{contexts:bN(a.contexts,b,c)},...a.extra&&{extra:bN(a.extra,b,c)}};return a.contexts&&a.contexts.trace&&d.contexts&&(d.contexts.trace=a.contexts.trace,a.contexts.trace.data&&(d.contexts.trace.data=bN(a.contexts.trace.data,b,c))),a.spans&&(d.spans=a.spans.map(a=>({...a,...a.data&&{data:bN(a.data,b,c)}}))),a.contexts&&a.contexts.flags&&d.contexts&&(d.contexts.flags=bN(a.contexts.flags,3,c)),d}(a,j,k):a))}function b3(a){if(a)return function(a){return a instanceof bj||"function"==typeof a}(a)||function(a){return Object.keys(a).some(a=>b4.includes(a))}(a)?{captureContext:a}:a}let b4=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function b5(a,b){return bq().captureEvent(a,b)}function b6(a){let b=bs(),c=br(),d=bq(),{release:e,environment:f=bG}=b&&b.getOptions()||{},{userAgent:g}=_.navigator||{},h=ba({release:e,environment:f,user:d.getUser()||c.getUser(),...g&&{userAgent:g},...a}),i=c.getSession();return i&&"ok"===i.status&&bb(i,{status:"exited"}),b7(),c.setSession(h),d.setSession(h),h}function b7(){let a=br(),b=bq(),c=b.getSession()||a.getSession();c&&function(a,b){let c={};"ok"===a.status&&(c={status:"exited"}),bb(a,c)}(c),b8(),a.setSession(),b.setSession()}function b8(){let a=br(),b=bq(),c=bs(),d=b.getSession()||a.getSession();d&&c&&c.captureSession(d)}function b9(a=!1){a?b7():b8()}function ca(a,b,c){return b||`${function(a){return`${function(a){let b=a.protocol?`${a.protocol}:`:"",c=a.port?`:${a.port}`:"";return`${b}//${a.host}${c}${a.path?`/${a.path}`:""}/api/`}(a)}${a.projectId}/envelope/`}(a)}?${function(a,b){let c={sentry_version:"7"};return a.publicKey&&(c.sentry_key=a.publicKey),b&&(c.sentry_client=`${b.name}/${b.version}`),new URLSearchParams(c).toString()}(a,c)}`}let cb=[];function cc(a,b){for(let c of b)c&&c.afterAllSetup&&c.afterAllSetup(a)}function cd(a,b,c){if(c[b.name])Z&&af.log(`Integration skipped because it was already installed: ${b.name}`);else{if(c[b.name]=b,-1===cb.indexOf(b.name)&&"function"==typeof b.setupOnce&&(b.setupOnce(),cb.push(b.name)),b.setup&&"function"==typeof b.setup&&b.setup(a),"function"==typeof b.preprocessEvent){let c=b.preprocessEvent.bind(b);a.on("preprocessEvent",(b,d)=>c(b,d,a))}if("function"==typeof b.processEvent){let c=b.processEvent.bind(b),d=Object.assign((b,d)=>c(b,d,a),{id:b.name});a.addEventProcessor(d)}Z&&af.log(`Integration installed: ${b.name}`)}}class ce extends Error{constructor(a,b="warn"){super(a),this.message=a,this.logLevel=b}}let cf="Not capturing exception because it's already been captured.";class cg{constructor(a){if(this._options=a,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],a.dsn?this._dsn=bM(a.dsn):Z&&af.warn("No DSN provided, client will not send events."),this._dsn){let b=ca(this._dsn,a.tunnel,a._metadata?a._metadata.sdk:void 0);this._transport=a.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...a.transportOptions,url:b})}let b=["enableTracing","tracesSampleRate","tracesSampler"].find(b=>b in a&&null==a[b]);b&&ae(()=>{console.warn(`[Sentry] Deprecation warning: \`${b}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(a,b,c){let d=a1();if(a6(a))return Z&&af.log(cf),d;let e={event_id:d,...b};return this._process(this.eventFromException(a,e).then(a=>this._captureEvent(a,e,c))),e.event_id}captureMessage(a,b,c,d){let e={event_id:a1(),...c},f=aE(a)?a:String(a),g=aF(a)?this.eventFromMessage(f,b,e):this.eventFromException(a,e);return this._process(g.then(a=>this._captureEvent(a,e,d))),e.event_id}captureEvent(a,b,c){let d=a1();if(b&&b.originalException&&a6(b.originalException))return Z&&af.log(cf),d;let e={event_id:d,...b},f=(a.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(a,e,f||c)),e.event_id}captureSession(a){"string"!=typeof a.release?Z&&af.warn("Discarded session because of missing or non-string release"):(this.sendSession(a),bb(a,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(a){let b=this._transport;return b?(this.emit("flush"),this._isClientDoneProcessing(a).then(c=>b.flush(a).then(a=>c&&a))):a7(!0)}close(a){return this.flush(a).then(a=>(this.getOptions().enabled=!1,this.emit("close"),a))}getEventProcessors(){return this._eventProcessors}addEventProcessor(a){this._eventProcessors.push(a)}init(){(this._isEnabled()||this._options.integrations.some(({name:a})=>a.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(a){return this._integrations[a]}addIntegration(a){let b=this._integrations[a.name];cd(this,a,this._integrations),b||cc(this,[a])}sendEvent(a,b={}){this.emit("beforeSendEvent",a,b);let c=bZ(a,this._dsn,this._options._metadata,this._options.tunnel);for(let a of b.attachments||[])c=bR(c,bV(a));let d=this.sendEnvelope(c);d&&d.then(b=>this.emit("afterSendEvent",a,b),null)}sendSession(a){let b=function(a,b,c,d){let e=bY(c);return bQ({sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!d&&b&&{dsn:bK(b)}},["aggregates"in a?[{type:"sessions"},a]:[{type:"session"},a.toJSON()]])}(a,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(b)}recordDroppedEvent(a,b,c){if(this._options.sendClientReports){let d="number"==typeof c?c:1,e=`${a}:${b}`;Z&&af.log(`Recording outcome: "${e}"${d>1?` (${d} times)`:""}`),this._outcomes[e]=(this._outcomes[e]||0)+d}}on(a,b){let c=this._hooks[a]=this._hooks[a]||[];return c.push(b),()=>{let a=c.indexOf(b);a>-1&&c.splice(a,1)}}emit(a,...b){let c=this._hooks[a];c&&c.forEach(a=>a(...b))}sendEnvelope(a){return this.emit("beforeEnvelope",a),this._isEnabled()&&this._transport?this._transport.send(a).then(null,a=>(Z&&af.error("Error while sending envelope:",a),a)):(Z&&af.error("Transport disabled"),a7({}))}_setupIntegrations(){let{integrations:a}=this._options;this._integrations=function(a,b){let c={};return b.forEach(b=>{b&&cd(a,b,c)}),c}(this,a),cc(this,a)}_updateSessionFromEvent(a,b){let c="fatal"===b.level,d=!1,e=b.exception&&b.exception.values;if(e)for(let a of(d=!0,e)){let b=a.mechanism;if(b&&!1===b.handled){c=!0;break}}let f="ok"===a.status;(f&&0===a.errors||f&&c)&&(bb(a,{...c&&{status:"crashed"},errors:a.errors||Number(d||c)}),this.captureSession(a))}_isClientDoneProcessing(a){return new a9(b=>{let c=0,d=setInterval(()=>{0==this._numProcessing?(clearInterval(d),b(!0)):(c+=1,a&&c>=a&&(clearInterval(d),b(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(a,b,c=bq(),d=br()){let e=this.getOptions(),f=Object.keys(this._integrations);return!b.integrations&&f.length>0&&(b.integrations=f),this.emit("preprocessEvent",a,b),a.type||d.setLastEventId(a.event_id||b.event_id),b2(e,a,b,c,this,d).then(a=>(null===a||(a.contexts={trace:bt(c),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:function(a,b){let c=b.getPropagationContext();return c.dsc||bH(c.traceId,a)}(this,c),...a.sdkProcessingMetadata}),a))}_captureEvent(a,b={},c){return this._processEvent(a,b,c).then(a=>a.event_id,a=>{Z&&(a instanceof ce&&"log"===a.logLevel?af.log(a.message):af.warn(a))})}_processEvent(a,b,c){let d=this.getOptions(),{sampleRate:e}=d,f=ci(a),g=ch(a),h=a.type||"error",i=`before send for type \`${h}\``,j=void 0===e?void 0:function(a){if("boolean"==typeof a)return Number(a);let b="string"==typeof a?parseFloat(a):a;if(!("number"!=typeof b||isNaN(b)||b<0||b>1))return b;Z&&af.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`)}(e);if(g&&"number"==typeof j&&Math.random()>j)return this.recordDroppedEvent("sample_rate","error",a),a8(new ce(`Discarding event because it's not included in the random sample (sampling rate = ${e})`,"log"));let k="replay_event"===h?"replay":h,l=(a.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(a,b,c,l).then(c=>{if(null===c)throw this.recordDroppedEvent("event_processor",k,a),new ce("An event processor returned `null`, will not send event.","log");return b.data&&!0===b.data.__sentry__?c:function(a,b){let c=`${b} must return \`null\` or a valid event.`;if(aI(a))return a.then(a=>{if(!aG(a)&&null!==a)throw new ce(c);return a},a=>{throw new ce(`${b} rejected with ${a}`)});if(!aG(a)&&null!==a)throw new ce(c);return a}(function(a,b,c,d){let{beforeSend:e,beforeSendTransaction:f,beforeSendSpan:g}=b;if(ch(c)&&e)return e(c,d);if(ci(c)){if(c.spans&&g){let b=[];for(let d of c.spans){let c=g(d);c?b.push(c):(bF(),a.recordDroppedEvent("before_send","span"))}c.spans=b}if(f){if(c.spans){let a=c.spans.length;c.sdkProcessingMetadata={...c.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return f(c,d)}}return c}(this,d,c,b),i)}).then(d=>{if(null===d){if(this.recordDroppedEvent("before_send",k,a),f){let b=1+(a.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw new ce(`${i} returned \`null\`, will not send event.`,"log")}let e=c&&c.getSession();if(!f&&e&&this._updateSessionFromEvent(e,d),f){let a=(d.sdkProcessingMetadata&&d.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(d.spans?d.spans.length:0);a>0&&this.recordDroppedEvent("before_send","span",a)}let g=d.transaction_info;if(f&&g&&d.transaction!==a.transaction){let a="custom";d.transaction_info={...g,source:a}}return this.sendEvent(d,b),d}).then(null,a=>{if(a instanceof ce)throw a;throw this.captureException(a,{data:{__sentry__:!0},originalException:a}),new ce(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${a}`)})}_process(a){this._numProcessing++,a.then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a))}_clearOutcomes(){let a=this._outcomes;return this._outcomes={},Object.entries(a).map(([a,b])=>{let[c,d]=a.split(":");return{reason:c,category:d,quantity:b}})}_flushOutcomes(){var a,b,c;Z&&af.log("Flushing outcomes...");let d=this._clearOutcomes();if(0===d.length)return void(Z&&af.log("No outcomes to send"));if(!this._dsn)return void(Z&&af.log("No dsn provided, will not send outcomes"));Z&&af.log("Sending outcomes:",d);let e=(a=d,bQ((b=this._options.tunnel&&bK(this._dsn))?{dsn:b}:{},[[{type:"client_report"},{timestamp:c||a_(),discarded_events:a}]]));this.sendEnvelope(e)}}function ch(a){return void 0===a.type}function ci(a){return"transaction"===a.type}function cj(a){let b=[];function c(a){return b.splice(b.indexOf(a),1)[0]||Promise.resolve(void 0)}return{$:b,add:function(d){if(!(void 0===a||b.length<a))return a8(new ce("Not adding Promise because buffer limit was reached."));let e=d();return -1===b.indexOf(e)&&b.push(e),e.then(()=>c(e)).then(null,()=>c(e).then(null,()=>{})),e},drain:function(a){return new a9((c,d)=>{let e=b.length;if(!e)return c(!0);let f=setTimeout(()=>{a&&a>0&&c(!1)},a);b.forEach(a=>{a7(a).then(()=>{--e||(clearTimeout(f),c(!0))},d)})})}}}function ck(a,{statusCode:b,headers:c},d=Date.now()){let e={...a},f=c&&c["x-sentry-rate-limits"],g=c&&c["retry-after"];if(f)for(let a of f.trim().split(",")){let[b,c,,,f]=a.split(":",5),g=parseInt(b,10),h=1e3*(isNaN(g)?60:g);if(c)for(let a of c.split(";"))"metric_bucket"===a&&f&&!f.split(";").includes("custom")||(e[a]=d+h);else e.all=d+h}else g?e.all=d+function(a,b=Date.now()){let c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;let d=Date.parse(`${a}`);return isNaN(d)?6e4:d-b}(g,d):429===b&&(e.all=d+6e4);return e}function cl(a,b,c=cj(a.bufferSize||64)){let d={};return{send:function(e){let f=[];if(bS(e,(b,c)=>{let e=bX(c);if(function(a,b,c=Date.now()){return function(a,b){return a[b]||a.all||0}(a,b)>c}(d,e)){let d=cm(b,c);a.recordDroppedEvent("ratelimit_backoff",e,d)}else f.push(b)}),0===f.length)return a7({});let g=bQ(e[0],f),h=b=>{bS(g,(c,d)=>{let e=cm(c,d);a.recordDroppedEvent(b,bX(d),e)})};return c.add(()=>b({body:bU(g)}).then(a=>(void 0!==a.statusCode&&(a.statusCode<200||a.statusCode>=300)&&Z&&af.warn(`Sentry responded with status code ${a.statusCode} to sent event.`),d=ck(d,a),a),a=>{throw h("network_error"),a})).then(a=>a,a=>{if(a instanceof ce)return Z&&af.error("Skipped sending event because buffer is full."),h("queue_overflow"),a7({});throw a})},flush:a=>c.drain(a)}}function cm(a,b){if("event"===b||"transaction"===b)return Array.isArray(a)?a[1]:void 0}let cn=100;function co(a,b){let c=bs(),d=br();if(!c)return;let{beforeBreadcrumb:e=null,maxBreadcrumbs:f=cn}=c.getOptions();if(f<=0)return;let g={timestamp:a_(),...a},h=e?ae(()=>e(g,b)):g;null!==h&&(c.emit&&c.emit("beforeAddBreadcrumb",h,b),d.addBreadcrumb(h,f))}let cp=new WeakMap,cq=()=>({name:"FunctionToString",setupOnce(){e=Function.prototype.toString;try{Function.prototype.toString=function(...a){let b=aV(this),c=cp.has(bs())&&void 0!==b?b:this;return e.apply(c,a)}}catch(a){}},setup(a){cp.set(a,!0)}}),cr=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],cs=(a={})=>({name:"InboundFilters",processEvent:(b,c,d)=>!function(a,b){return b.ignoreInternal&&function(a){try{return"SentryError"===a.exception.values[0].type}catch(a){}return!1}(a)?(Z&&af.warn(`Event dropped due to being internal Sentry Error.
Event: ${a3(a)}`),!0):!function(a,b){return!a.type&&!!b&&!!b.length&&(function(a){let b,c=[];a.message&&c.push(a.message);try{b=a.exception.values[a.exception.values.length-1]}catch(a){}return b&&b.value&&(c.push(b.value),b.type&&c.push(`${b.type}: ${b.value}`)),c})(a).some(a=>aR(a,b))}(a,b.ignoreErrors)?!function(a){return!a.type&&!!a.exception&&!!a.exception.values&&0!==a.exception.values.length&&!a.message&&!a.exception.values.some(a=>a.stacktrace||a.type&&"Error"!==a.type||a.value)}(a)?!function(a,b){if("transaction"!==a.type||!b||!b.length)return!1;let c=a.transaction;return!!c&&aR(c,b)}(a,b.ignoreTransactions)?!function(a,b){if(!b||!b.length)return!1;let c=ct(a);return!!c&&aR(c,b)}(a,b.denyUrls)?!function(a,b){if(!b||!b.length)return!0;let c=ct(a);return!c||aR(c,b)}(a,b.allowUrls)&&(Z&&af.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${a3(a)}.
Url: ${ct(a)}`),!0):(Z&&af.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${a3(a)}.
Url: ${ct(a)}`),!0):(Z&&af.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${a3(a)}`),!0):(Z&&af.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${a3(a)}`),!0):(Z&&af.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${a3(a)}`),!0)}(b,function(a={},b={}){return{allowUrls:[...a.allowUrls||[],...b.allowUrls||[]],denyUrls:[...a.denyUrls||[],...b.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...b.ignoreErrors||[],...a.disableErrorDefaults?[]:cr],ignoreTransactions:[...a.ignoreTransactions||[],...b.ignoreTransactions||[]],ignoreInternal:void 0===a.ignoreInternal||a.ignoreInternal}}(a,d.getOptions()))?b:null});function ct(a){try{let b;try{b=a.exception.values[0].stacktrace.frames}catch(a){}return b?function(a=[]){for(let b=a.length-1;b>=0;b--){let c=a[b];if(c&&"<anonymous>"!==c.filename&&"[native code]"!==c.filename)return c.filename||null}return null}(b):null}catch(b){return Z&&af.error(`Cannot extract url for event ${a3(a)}`),null}}function cu(a,b,c=250,d,e,f,g){var h,i;if(!(f.exception&&f.exception.values&&g&&aJ(g.originalException,Error)))return;let j=f.exception.values.length>0?f.exception.values[f.exception.values.length-1]:void 0;j&&(f.exception.values=(h=cv(a,b,e,g.originalException,d,f.exception.values,j,0),i=c,h.map(a=>(a.value&&(a.value=aO(a.value,i)),a))))}function cv(a,b,c,d,e,f,g,h){if(f.length>=c+1)return f;let i=[...f];if(aJ(d[e],Error)){cw(g,h);let f=a(b,d[e]),j=i.length;cx(f,e,j,h),i=cv(a,b,c,d[e],e,[f,...i],f,j)}return Array.isArray(d.errors)&&d.errors.forEach((d,f)=>{if(aJ(d,Error)){cw(g,h);let j=a(b,d),k=i.length;cx(j,`errors[${f}]`,k,h),i=cv(a,b,c,d,e,[j,...i],j,k)}}),i}function cw(a,b){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,..."AggregateError"===a.type&&{is_exception_group:!0},exception_id:b}}function cx(a,b,c,d){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,type:"chained",source:b,exception_id:c,parent_id:d}}function cy(a){if(!a)return{};let b=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!b)return{};let c=b[6]||"",d=b[8]||"";return{host:b[4],path:b[5],protocol:b[2],search:c,hash:d,relative:b[5]+c+d}}function cz(){"console"in _&&ac.forEach(function(a){a in _.console&&aS(_.console,a,function(b){return ad[a]=b,function(...b){ar("console",{args:b,level:a});let c=ad[a];c&&c.apply(_.console,b)}})})}function cA(a){return"warn"===a?"warning":["fatal","error","warning","log","info","debug"].includes(a)?a:"log"}let cB=()=>{let a;return{name:"Dedupe",processEvent(b){if(b.type)return b;try{if(function(a,b){return!!b&&!!(function(a,b){let c=a.message,d=b.message;return(!!c||!!d)&&(!c||!!d)&&(!!c||!d)&&c===d&&!!cD(a,b)&&!!cC(a,b)&&!0}(a,b)||function(a,b){let c=cE(b),d=cE(a);return!!c&&!!d&&c.type===d.type&&c.value===d.value&&!!cD(a,b)&&!!cC(a,b)}(a,b))}(b,a))return Z&&af.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(a){}return a=b}}};function cC(a,b){let c=am(a),d=am(b);if(!c&&!d)return!0;if(c&&!d||!c&&d||d.length!==c.length)return!1;for(let a=0;a<d.length;a++){let b=d[a],e=c[a];if(b.filename!==e.filename||b.lineno!==e.lineno||b.colno!==e.colno||b.function!==e.function)return!1}return!0}function cD(a,b){let c=a.fingerprint,d=b.fingerprint;if(!c&&!d)return!0;if(c&&!d||!c&&d)return!1;try{return c.join("")===d.join("")}catch(a){return!1}}function cE(a){return a.exception&&a.exception.values&&a.exception.values[0]}function cF(a){return void 0===a?void 0:a>=400&&a<500?"warning":a>=500?"error":void 0}let cG=_;function cH(a){return a&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(a.toString())}function cI(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in cG))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(a){return!1}}())return!1;if(cH(cG.fetch))return!0;let a=!1,b=cG.document;if(b&&"function"==typeof b.createElement)try{let c=b.createElement("iframe");c.hidden=!0,b.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(a=cH(c.contentWindow.fetch)),b.head.removeChild(c)}catch(a){ab&&af.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return a}function cJ(a,b){let c="fetch";ap(c,a),aq(c,()=>(function(a,b=!1){(!b||cI())&&aS(_,"fetch",function(b){return function(...c){let d=Error(),{method:e,url:f}=function(a){if(0===a.length)return{method:"GET",url:""};if(2===a.length){let[b,c]=a;return{url:cL(b),method:cK(c,"method")?String(c.method).toUpperCase():"GET"}}let b=a[0];return{url:cL(b),method:cK(b,"method")?String(b.method).toUpperCase():"GET"}}(c),g={args:c,fetchData:{method:e,url:f},startTimestamp:1e3*a0(),virtualError:d};return a||ar("fetch",{...g}),b.apply(_,c).then(async b=>(a?a(b):ar("fetch",{...g,endTimestamp:1e3*a0(),response:b}),b),a=>{throw ar("fetch",{...g,endTimestamp:1e3*a0(),error:a}),az(a)&&void 0===a.stack&&(a.stack=d.stack,aT(a,"framesToPop",1)),a})}})})(void 0,b))}function cK(a,b){return!!a&&"object"==typeof a&&!!a[b]}function cL(a){return"string"==typeof a?a:a?cK(a,"url")?a.url:a.toString?a.toString():"":""}let cM=_,cN=_,cO=0;function cP(){return cO>0}function cQ(a,b={}){if(!function(a){return"function"==typeof a}(a))return a;try{let b=a.__sentry_wrapped__;if(b)return"function"==typeof b?b:a;if(aV(a))return a}catch(b){return a}let c=function(...c){try{let d=c.map(a=>cQ(a,b));return a.apply(this,d)}catch(a){throw cO++,setTimeout(()=>{cO--}),function(...a){let b=bp(aw());if(2===a.length){let[c,d]=a;return c?b.withSetScope(c,d):b.withScope(d)}b.withScope(a[0])}(d=>{var e,f;d.addEventProcessor(a=>(b.mechanism&&(a4(a,void 0,void 0),a5(a,b.mechanism)),a.extra={...a.extra,arguments:c},a)),e=a,bq().captureException(e,b3(f))}),a}};try{for(let b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])}catch(a){}aU(c,a),aT(a,"__sentry_wrapped__",c);try{Object.getOwnPropertyDescriptor(c,"name").configurable&&Object.defineProperty(c,"name",{get:()=>a.name})}catch(a){}return c}let cR="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function cS(a,b){let c=cV(a,b),d={type:cY(b),value:cZ(b)};return c.length&&(d.stacktrace={frames:c}),void 0===d.type&&""===d.value&&(d.value="Unrecoverable error caught"),d}function cT(a,b,c,d){let e=bs(),f=e&&e.getOptions().normalizeDepth,g=function(a){for(let b in a)if(Object.prototype.hasOwnProperty.call(a,b)){let c=a[b];if(c instanceof Error)return c}}(b),h={__serialized__:bO(b,f)};if(g)return{exception:{values:[cS(a,g)]},extra:h};let i={exception:{values:[{type:aH(b)?b.constructor.name:d?"UnhandledRejection":"Error",value:c0(b,{isUnhandledRejection:d})}]},extra:h};if(c){let b=cV(a,c);b.length&&(i.exception.values[0].stacktrace={frames:b})}return i}function cU(a,b){return{exception:{values:[cS(a,b)]}}}function cV(a,b){let c=b.stacktrace||b.stack||"",d=function(a){return a&&cW.test(a.message)?1:0}(b),e=function(a){return"number"==typeof a.framesToPop?a.framesToPop:0}(b);try{return a(c,d,e)}catch(a){}return[]}let cW=/Minified React error #\d+;/i;function cX(a){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&a instanceof WebAssembly.Exception}function cY(a){let b=a&&a.name;return!b&&cX(a)?a.message&&Array.isArray(a.message)&&2==a.message.length?a.message[0]:"WebAssembly.Exception":b}function cZ(a){let b=a&&a.message;return b?b.error&&"string"==typeof b.error.message?b.error.message:cX(a)&&Array.isArray(a.message)&&2==a.message.length?a.message[1]:b:"No error message"}function c$(a,b,c,d,e){let f;if(aB(b)&&b.error)return cU(a,b.error);if(aC(b)||aA(b,"DOMException")){let e=b;if("stack"in b)f=cU(a,b);else{let b=e.name||(aC(e)?"DOMError":"DOMException"),g=e.message?`${b}: ${e.message}`:b;a4(f=c_(a,g,c,d),g)}return"code"in e&&(f.tags={...f.tags,"DOMException.code":`${e.code}`}),f}return az(b)?cU(a,b):(aG(b)||aH(b)?a5(f=cT(a,b,c,e),{synthetic:!0}):(a4(f=c_(a,b,c,d),`${b}`,void 0),a5(f,{synthetic:!0})),f)}function c_(a,b,c,d){let e={};if(d&&c){let d=cV(a,c);d.length&&(e.exception={values:[{value:b,stacktrace:{frames:d}}]}),a5(e,{synthetic:!0})}if(aE(b)){let{__sentry_template_string__:a,__sentry_template_values__:c}=b;return e.logentry={message:a,params:c},e}return e.message=b,e}function c0(a,{isUnhandledRejection:b}){let c=function(a,b=40){let c=Object.keys(aW(a));c.sort();let d=c[0];if(!d)return"[object has no keys]";if(d.length>=b)return aO(d,b);for(let a=c.length;a>0;a--){let d=c.slice(0,a).join(", ");if(!(d.length>b))return a===c.length?d:aO(d,b)}return""}(a),d=b?"promise rejection":"exception";return aB(a)?`Event \`ErrorEvent\` captured as ${d} with message \`${a.message}\``:aH(a)?`Event \`${function(a){try{let b=Object.getPrototypeOf(a);return b?b.constructor.name:void 0}catch(a){}}(a)}\` (type=${a.type}) captured as ${d}`:`Object captured as ${d} with keys: ${c}`}class c1 extends cg{constructor(a){let b={parentSpanIsAlwaysRootSpan:!0,...a};!function(a,b,c=[b],d="npm"){let e=a._metadata||{};e.sdk||(e.sdk={name:`sentry.javascript.${b}`,packages:c.map(a=>({name:`${d}:@sentry/${a}`,version:$})),version:$}),a._metadata=e}(b,"browser",["browser"],cN.SENTRY_SDK_SOURCE||"npm"),super(b),b.sendClientReports&&cN.document&&cN.document.addEventListener("visibilitychange",()=>{"hidden"===cN.document.visibilityState&&this._flushOutcomes()})}eventFromException(a,b){return function(a,b,c,d){let e=c$(a,b,c&&c.syntheticException||void 0,d);return a5(e),e.level="error",c&&c.event_id&&(e.event_id=c.event_id),a7(e)}(this._options.stackParser,a,b,this._options.attachStacktrace)}eventFromMessage(a,b="info",c){return function(a,b,c="info",d,e){let f=c_(a,b,d&&d.syntheticException||void 0,e);return f.level=c,d&&d.event_id&&(f.event_id=d.event_id),a7(f)}(this._options.stackParser,a,b,c,this._options.attachStacktrace)}captureUserFeedback(a){if(!this._isEnabled())return void(cR&&af.warn("SDK not enabled, will not capture user feedback."));let b=function(a,{metadata:b,tunnel:c,dsn:d}){return bQ({event_id:a.event_id,sent_at:(new Date).toISOString(),...b&&b.sdk&&{sdk:{name:b.sdk.name,version:b.sdk.version}},...!!c&&!!d&&{dsn:bK(d)}},[function(a){return[{type:"user_report"},a]}(a)])}(a,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(b)}_prepareEvent(a,b,c){return a.platform=a.platform||"javascript",super._prepareEvent(a,b,c)}}let c2="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,c3=_;function c4(){if(!c3.document)return;let a=ar.bind(null,"dom"),b=c5(a,!0);c3.document.addEventListener("click",b,!1),c3.document.addEventListener("keypress",b,!1),["EventTarget","Node"].forEach(b=>{let c=c3[b],d=c&&c.prototype;d&&d.hasOwnProperty&&d.hasOwnProperty("addEventListener")&&(aS(d,"addEventListener",function(b){return function(c,d,e){if("click"===c||"keypress"==c)try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[c]=d[c]||{refCount:0};if(!f.handler){let d=c5(a);f.handler=d,b.call(this,c,d,e)}f.refCount++}catch(a){}return b.call(this,c,d,e)}}),aS(d,"removeEventListener",function(a){return function(b,c,d){if("click"===b||"keypress"==b)try{let c=this.__sentry_instrumentation_handlers__||{},e=c[b];e&&(e.refCount--,e.refCount<=0&&(a.call(this,b,e.handler,d),e.handler=void 0,delete c[b]),0===Object.keys(c).length&&delete this.__sentry_instrumentation_handlers__)}catch(a){}return a.call(this,b,c,d)}}))})}function c5(a,b=!1){return c=>{if(!c||c._sentryCaptured)return;let d=function(a){try{return a.target}catch(a){return null}}(c);if(function(a,b){return"keypress"===a&&(!b||!b.tagName||"INPUT"!==b.tagName&&"TEXTAREA"!==b.tagName&&!b.isContentEditable)}(c.type,d))return;aT(c,"_sentryCaptured",!0),d&&!d._sentryId&&aT(d,"_sentryId",a1());let e="keypress"===c.type?"input":c.type;!function(a){if(a.type!==g)return!1;try{if(!a.target||a.target._sentryId!==h)return!1}catch(a){}return!0}(c)&&(a({event:c,name:e,global:b}),g=c.type,h=d?d._sentryId:void 0),clearTimeout(f),f=c3.setTimeout(()=>{h=void 0,g=void 0},1e3)}}function c6(a){let b="history";ap(b,a),aq(b,c7)}function c7(){if(!function(){let a=cM.chrome,b=a&&a.app&&a.app.runtime,c="history"in cM&&!!cM.history.pushState&&!!cM.history.replaceState;return!b&&c}())return;let a=c3.onpopstate;function b(a){return function(...b){let c=b.length>2?b[2]:void 0;if(c){let a=i,b=String(c);i=b,ar("history",{from:a,to:b})}return a.apply(this,b)}}c3.onpopstate=function(...b){let c=c3.location.href,d=i;if(i=c,ar("history",{from:d,to:c}),a)try{return a.apply(this,b)}catch(a){}},aS(c3.history,"pushState",b),aS(c3.history,"replaceState",b)}let c8={};function c9(a){c8[a]=void 0}let da="__sentry_xhr_v3__";function db(){if(!c3.XMLHttpRequest)return;let a=XMLHttpRequest.prototype;a.open=new Proxy(a.open,{apply(a,b,c){let d=Error(),e=1e3*a0(),f=aD(c[0])?c[0].toUpperCase():void 0,g=function(a){if(aD(a))return a;try{return a.toString()}catch(a){}}(c[1]);if(!f||!g)return a.apply(b,c);b[da]={method:f,url:g,request_headers:{}},"POST"===f&&g.match(/sentry_key/)&&(b.__sentry_own_request__=!0);let h=()=>{let a=b[da];if(a&&4===b.readyState){try{a.status_code=b.status}catch(a){}ar("xhr",{endTimestamp:1e3*a0(),startTimestamp:e,xhr:b,virtualError:d})}};return"onreadystatechange"in b&&"function"==typeof b.onreadystatechange?b.onreadystatechange=new Proxy(b.onreadystatechange,{apply:(a,b,c)=>(h(),a.apply(b,c))}):b.addEventListener("readystatechange",h),b.setRequestHeader=new Proxy(b.setRequestHeader,{apply(a,b,c){let[d,e]=c,f=b[da];return f&&aD(d)&&aD(e)&&(f.request_headers[d.toLowerCase()]=e),a.apply(b,c)}}),a.apply(b,c)}}),a.send=new Proxy(a.send,{apply(a,b,c){let d=b[da];return d&&(void 0!==c[0]&&(d.body=c[0]),ar("xhr",{startTimestamp:1e3*a0(),xhr:b})),a.apply(b,c)}})}function dc(a,b=function(a){let b=c8[a];if(b)return b;let c=c3[a];if(cH(c))return c8[a]=c.bind(c3);let d=c3.document;if(d&&"function"==typeof d.createElement)try{let b=d.createElement("iframe");b.hidden=!0,d.head.appendChild(b);let e=b.contentWindow;e&&e[a]&&(c=e[a]),d.head.removeChild(b)}catch(b){c2&&af.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,b)}return c?c8[a]=c.bind(c3):c}("fetch")){let c=0,d=0;return cl(a,function(e){let f=e.body.length;c+=f,d++;let g={body:e.body,method:"POST",referrerPolicy:"origin",headers:a.headers,keepalive:c<=6e4&&d<15,...a.fetchOptions};if(!b)return c9("fetch"),a8("No fetch implementation available");try{return b(a.url,g).then(a=>(c-=f,d--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return c9("fetch"),c-=f,d--,a8(a)}})}function dd(a,b,c,d){let e={filename:a,function:"<anonymous>"===b?ag:b,in_app:!0};return void 0!==c&&(e.lineno=c),void 0!==d&&(e.colno=d),e}let de=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,df=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dg=/\((\S*)(?::(\d+))(?::(\d+))\)/,dh=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,di=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dj=function(...a){let b=a.sort((a,b)=>a[0]-b[0]).map(a=>a[1]);return(a,c=0,d=0)=>{let e=[],f=a.split("\n");for(let a=c;a<f.length;a++){let c=f[a];if(c.length>1024)continue;let g=ah.test(c)?c.replace(ah,"$1"):c;if(!g.match(/\S*Error: /)){for(let a of b){let b=a(g);if(b){e.push(b);break}}if(e.length>=50+d)break}}return function(a){if(!a.length)return[];let b=Array.from(a);return/sentryWrapped/.test(aj(b).function||"")&&b.pop(),b.reverse(),ai.test(aj(b).function||"")&&(b.pop(),ai.test(aj(b).function||"")&&b.pop()),b.slice(0,50).map(a=>({...a,filename:a.filename||aj(b).filename,function:a.function||ag}))}(e.slice(d))}}([30,a=>{let b=de.exec(a);if(b){let[,a,c,d]=b;return dd(a,ag,+c,+d)}let c=df.exec(a);if(c){if(c[2]&&0===c[2].indexOf("eval")){let a=dg.exec(c[2]);a&&(c[2]=a[1],c[3]=a[2],c[4]=a[3])}let[a,b]=dk(c[1]||ag,c[2]);return dd(b,a,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}}],[50,a=>{let b=dh.exec(a);if(b){if(b[3]&&b[3].indexOf(" > eval")>-1){let a=di.exec(b[3]);a&&(b[1]=b[1]||"eval",b[3]=a[1],b[4]=a[2],b[5]="")}let a=b[3],c=b[1]||ag;return[c,a]=dk(c,a),dd(a,c,b[4]?+b[4]:void 0,b[5]?+b[5]:void 0)}}]),dk=(a,b)=>{let c=-1!==a.indexOf("safari-extension"),d=-1!==a.indexOf("safari-web-extension");return c||d?[-1!==a.indexOf("@")?a.split("@")[0]:ag,c?`safari-extension:${b}`:`safari-web-extension:${b}`]:[a,b]},dl=1024,dm=(a={})=>{let b={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...a};return{name:"Breadcrumbs",setup(a){b.console&&function(a){let b="console";ap(b,a),aq(b,cz)}(function(a){return function(b){if(bs()!==a)return;let c={category:"console",data:{arguments:b.args,logger:"console"},level:cA(b.level),message:aP(b.args," ")};if("assert"===b.level){if(!1!==b.args[0])return;c.message=`Assertion failed: ${aP(b.args.slice(1)," ")||"console.assert"}`,c.data.arguments=b.args.slice(1)}co(c,{input:b.args,level:b.level})}}(a)),b.dom&&(ap("dom",function(a,b){return function(c){if(bs()!==a)return;let d,e,f="object"==typeof b?b.serializeAttribute:void 0,g="object"==typeof b&&"number"==typeof b.maxStringLength?b.maxStringLength:void 0;g&&g>dl&&(cR&&af.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${g} was configured. Sentry will use 1024 instead.`),g=dl),"string"==typeof f&&(f=[f]);try{let a=c.event,b=!function(a){return!!a&&!!a.target}(a)?a:a.target;d=aM(b,{keyAttrs:f,maxStringLength:g}),e=function(a){if(!aL.HTMLElement)return null;let b=a;for(let a=0;a<5&&b;a++){if(b instanceof HTMLElement){if(b.dataset.sentryComponent)return b.dataset.sentryComponent;if(b.dataset.sentryElement)return b.dataset.sentryElement}b=b.parentNode}return null}(b)}catch(a){d="<unknown>"}if(0===d.length)return;let h={category:`ui.${c.name}`,message:d};e&&(h.data={"ui.component_name":e}),co(h,{event:c.event,name:c.name,global:c.global})}}(a,b.dom)),aq("dom",c4)),b.xhr&&function(a){ap("xhr",a),aq("xhr",db)}(function(a){return function(b){if(bs()!==a)return;let{startTimestamp:c,endTimestamp:d}=b,e=b.xhr[da];if(!c||!d||!e)return;let{method:f,url:g,status_code:h,body:i}=e,j={method:f,url:g,status_code:h},k={xhr:b.xhr,input:i,startTimestamp:c,endTimestamp:d};co({category:"xhr",data:j,type:"http",level:cF(h)},k)}}(a)),b.fetch&&cJ(function(a){return function(b){if(bs()!==a)return;let{startTimestamp:c,endTimestamp:d}=b;if(d&&(!b.fetchData.url.match(/sentry_key/)||"POST"!==b.fetchData.method))if(b.error)co({category:"fetch",data:b.fetchData,level:"error",type:"http"},{data:b.error,input:b.args,startTimestamp:c,endTimestamp:d});else{let a=b.response,e={...b.fetchData,status_code:a&&a.status},f={input:b.args,response:a,startTimestamp:c,endTimestamp:d};co({category:"fetch",data:e,type:"http",level:cF(e.status_code)},f)}}}(a)),b.history&&c6(function(a){return function(b){if(bs()!==a)return;let c=b.from,d=b.to,e=cy(cN.location.href),f=c?cy(c):void 0,g=cy(d);f&&f.path||(f=e),e.protocol===g.protocol&&e.host===g.host&&(d=g.relative),e.protocol===f.protocol&&e.host===f.host&&(c=f.relative),co({category:"navigation",data:{from:c,to:d}})}}(a)),b.sentry&&a.on("beforeSendEvent",function(a){return function(b){bs()===a&&co({category:"sentry."+("transaction"===b.type?"transaction":"event"),event_id:b.event_id,level:b.level,message:a3(b)},{event:b})}}(a))}}},dn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],dp=(a={})=>{let b={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...a};return{name:"BrowserApiErrors",setupOnce(){b.setTimeout&&aS(cN,"setTimeout",dq),b.setInterval&&aS(cN,"setInterval",dq),b.requestAnimationFrame&&aS(cN,"requestAnimationFrame",dr),b.XMLHttpRequest&&"XMLHttpRequest"in cN&&aS(XMLHttpRequest.prototype,"send",ds);let a=b.eventTarget;a&&(Array.isArray(a)?a:dn).forEach(dt)}}};function dq(a){return function(...b){let c=b[0];return b[0]=cQ(c,{mechanism:{data:{function:al(a)},handled:!1,type:"instrument"}}),a.apply(this,b)}}function dr(a){return function(b){return a.apply(this,[cQ(b,{mechanism:{data:{function:"requestAnimationFrame",handler:al(a)},handled:!1,type:"instrument"}})])}}function ds(a){return function(...b){let c=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in c&&"function"==typeof c[a]&&aS(c,a,function(b){let c={mechanism:{data:{function:a,handler:al(b)},handled:!1,type:"instrument"}},d=aV(b);return d&&(c.mechanism.data.handler=al(d)),cQ(b,c)})}),a.apply(this,b)}}function dt(a){let b=cN[a],c=b&&b.prototype;c&&c.hasOwnProperty&&c.hasOwnProperty("addEventListener")&&(aS(c,"addEventListener",function(b){return function(c,d,e){try{"function"==typeof d.handleEvent&&(d.handleEvent=cQ(d.handleEvent,{mechanism:{data:{function:"handleEvent",handler:al(d),target:a},handled:!1,type:"instrument"}}))}catch(a){}return b.apply(this,[c,cQ(d,{mechanism:{data:{function:"addEventListener",handler:al(d),target:a},handled:!1,type:"instrument"}}),e])}}),aS(c,"removeEventListener",function(a){return function(b,c,d){try{let e=c.__sentry_wrapped__;e&&a.call(this,b,e,d)}catch(a){}return a.call(this,b,c,d)}}))}let du=()=>({name:"BrowserSession",setupOnce(){void 0!==cN.document?(b6({ignoreDuration:!0}),b9(),c6(({from:a,to:b})=>{void 0!==a&&a!==b&&(b6({ignoreDuration:!0}),b9())})):cR&&af.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),dv=(a={})=>{let b={onerror:!0,onunhandledrejection:!0,...a};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(a){b.onerror&&(!function(a){!function(a){let b="error";ap(b,a),aq(b,at)}(b=>{let{stackParser:c,attachStacktrace:d}=dx();if(bs()!==a||cP())return;let{msg:e,url:f,line:g,column:h,error:i}=b,j=function(a,b,c,d){let e=a.exception=a.exception||{},f=e.values=e.values||[],g=f[0]=f[0]||{},h=g.stacktrace=g.stacktrace||{},i=h.frames=h.frames||[],j=d,k=c,l=aD(b)&&b.length>0?b:function(){try{return aL.document.location.href}catch(a){return""}}();return 0===i.length&&i.push({colno:j,filename:l,function:ag,in_app:!0,lineno:k}),a}(c$(c,i||e,void 0,d,!1),f,g,h);j.level="error",b5(j,{originalException:i,mechanism:{handled:!1,type:"onerror"}})})}(a),dw("onerror")),b.onunhandledrejection&&(!function(a){!function(a){let b="unhandledrejection";ap(b,a),aq(b,av)}(b=>{let{stackParser:c,attachStacktrace:d}=dx();if(bs()!==a||cP())return;let e=function(a){if(aF(a))return a;try{if("reason"in a)return a.reason;if("detail"in a&&"reason"in a.detail)return a.detail.reason}catch(a){}return a}(b),f=aF(e)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}:c$(c,e,void 0,d,!0);f.level="error",b5(f,{originalException:e,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(a),dw("onunhandledrejection"))}}};function dw(a){cR&&af.log(`Global Handler attached: ${a}`)}function dx(){let a=bs();return a&&a.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let dy=()=>({name:"HttpContext",preprocessEvent(a){if(!cN.navigator&&!cN.location&&!cN.document)return;let b=a.request&&a.request.url||cN.location&&cN.location.href,{referrer:c}=cN.document||{},{userAgent:d}=cN.navigator||{},e={...a.request&&a.request.headers,...c&&{Referer:c},...d&&{"User-Agent":d}},f={...a.request,...b&&{url:b},headers:e};a.request=f}}),dz=(a={})=>{let b=a.limit||5,c=a.key||"cause";return{name:"LinkedErrors",preprocessEvent(a,d,e){let f=e.getOptions();cu(cS,f.stackParser,f.maxValueLength,c,b,a,d)}}};var dA="new",dB="loading",dC="loaded",dD="joining-meeting",dE="joined-meeting",dF="left-meeting",dG="error",dH="blocked",dI="off",dJ="sendable",dK="loading",dL="interrupted",dM="playable",dN="unknown",dO="full",dP="lobby",dQ="none",dR="base",dS="*",dT="ejected",dU="nbf-room",dV="nbf-token",dW="exp-room",dX="exp-token",dY="no-room",dZ="meeting-full",d$="end-of-life",d_="not-allowed",d0="connection-error",d1="cam-in-use",d2="mic-in-use",d3="cam-mic-in-use",d4="permissions",d5="undefined-mediadevices",d6="not-found",d7="constraints",d8="unknown",d9="iframe-ready-for-launch-config",ea="iframe-launch-config",eb="theme-updated",ec="loading",ed="load-attempt-failed",ee="loaded",ef="started-camera",eg="camera-error",eh="joining-meeting",ei="joined-meeting",ej="left-meeting",ek="participant-joined",el="participant-updated",em="participant-left",en="participant-counts-updated",eo="access-state-updated",ep="meeting-session-summary-updated",eq="meeting-session-state-updated",er="meeting-session-data-error",es="waiting-participant-added",et="waiting-participant-updated",eu="waiting-participant-removed",ev="track-started",ew="track-stopped",ex="transcription-started",ey="transcription-stopped",ez="transcription-error",eA="recording-started",eB="recording-stopped",eC="recording-stats",eD="recording-error",eE="recording-upload-completed",eF="recording-data",eG="app-message",eH="transcription-message",eI="remote-media-player-started",eJ="remote-media-player-updated",eK="remote-media-player-stopped",eL="local-screen-share-started",eM="local-screen-share-stopped",eN="local-screen-share-canceled",eO="active-speaker-change",eP="active-speaker-mode-change",eQ="network-quality-change",eR="network-connection",eS="cpu-load-change",eT="face-counts-updated",eU="fullscreen",eV="exited-fullscreen",eW="live-streaming-started",eX="live-streaming-updated",eY="live-streaming-stopped",eZ="live-streaming-error",e$="lang-updated",e_="receive-settings-updated",e0="input-settings-updated",e1="nonfatal-error",e2="error",e3=4096,e4=102400,e5="iframe-call-message",e6="local-screen-start",e7="daily-method-update-live-streaming-endpoints",e8="transmit-log",e9="daily-custom-track",fa={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},fb={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},fc={PLAY:"play",PAUSE:"pause"},fd=["jpg","png","jpeg"],fe="add-endpoints",ff="remove-endpoints",fg="sip-call-transfer";function fh(){return!fi(),""}function fi(){return"undefined"!=typeof navigator&&navigator.product&&"ReactNative"===navigator.product}function fj(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function fk(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(a,b){if(!a||!b)return!0;switch(a){case"Chrome":return b.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&(13!==b.major||0!==b.minor||0!==b.point);case"Firefox":return b.major>=67}return!0}(fv(),fw())||fi())}function fl(){if(fi()||!document)return!1;var a=document.createElement("iframe");return!!a.requestFullscreen||!!a.webkitRequestFullscreen}var fm="none",fn="software",fo="hardware",fp=function(){try{var a,b=document.createElement("canvas"),c=!1;(a=b.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(c=!0,a=b.getContext("webgl2"));var d=null!=a;return b.remove(),d?c?fn:fo:fm}catch(a){return fm}}();function fq(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!fi()&&fp!==fm&&(a?function(){return!fu()&&["Chrome","Firefox"].includes(fv())}():function(){if(fu())return!1;var a=fv();if("Safari"===a){var b=fy();if(b.major<15||15===b.major&&b.minor<4)return!1}return"Chrome"===a?fx().major>=77:"Firefox"===a?fz().major>=97:["Chrome","Firefox","Safari"].includes(a)}())}function fr(){if(fi()||ft()||"undefined"==typeof AudioWorkletNode)return!1;switch(fv()){case"Chrome":case"Firefox":return!0;case"Safari":var a=fw();return a.major>17||17===a.major&&a.minor>=4}return!1}function fs(){return fj()&&!function(){if(fv(),!fh())return!0}()}function ft(){return fh().match(/Linux; Android/)}function fu(){var a=fh(),b=a.match(/Mac/)&&(!fi(),!1);return!!(a.match(/Mobi/)||a.match(/Android/)||b)||!!fh().match(/DailyAnd\//)||void 0}function fv(){}function fw(){switch(fv()){case"Chrome":return fx();case"Safari":return fy();case"Firefox":return fz();case"Edge":return function(){return{major:0,minor:0}}()}}function fx(){return{major:0,minor:0,build:0,patch:0,opera:!1}}function fy(){return{major:0,minor:0,point:0}}function fz(){return{major:0,minor:0}}var fA=function(){return o(function a(){k(this,a)},[{key:"addListenerForMessagesFromCallMachine",value:function(a,b,c){V()}},{key:"addListenerForMessagesFromDailyJs",value:function(a,b,c){V()}},{key:"sendMessageToCallMachine",value:function(a,b,c,d){V()}},{key:"sendMessageToDailyJs",value:function(a,b){V()}},{key:"removeListener",value:function(a){V()}}])}();function fB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function fC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?fB(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):fB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function fD(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(fD=function(){return!!a})()}var fE=function(){function a(){var b,c,d,e;return k(this,a),c=this,d=q(d=a),(b=p(c,fD()?Reflect.construct(d,e||[],q(c).constructor):d.apply(c,e)))._wrappedListeners={},b._messageCallbacks={},b}return s(a,fA),o(a,[{key:"addListenerForMessagesFromCallMachine",value:function(a,b,c){var d=this,e=function(e){if(e.data&&"iframe-call-message"===e.data.what&&(!e.data.callClientId||e.data.callClientId===b)&&(!e.data.from||"module"!==e.data.from)){var f=fC({},e.data);if(delete f.from,f.callbackStamp&&d._messageCallbacks[f.callbackStamp]){var g=f.callbackStamp;d._messageCallbacks[g].call(c,f),delete d._messageCallbacks[g]}delete f.what,delete f.callbackStamp,a.call(c,f)}};this._wrappedListeners[a]=e,window.addEventListener("message",e)}},{key:"addListenerForMessagesFromDailyJs",value:function(a,b,c){var d=function(d){var e;if(!(!d.data||d.data.what!==e5||!d.data.action||d.data.from&&"module"!==d.data.from||d.data.callClientId&&b&&d.data.callClientId!==b||null!=d&&null!=(e=d.data)&&e.callFrameId)){var f=d.data;a.call(c,f)}};this._wrappedListeners[a]=d,window.addEventListener("message",d)}},{key:"sendMessageToCallMachine",value:function(a,b,c,d){if(!c)throw Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var e=fC({},a);if(e.what=e5,e.from="module",e.callClientId=c,b){var f=U();this._messageCallbacks[f]=b,e.callbackStamp=f}var g=d?d.contentWindow:window,h=this._callMachineTargetOrigin(d);h&&g.postMessage(e,h)}},{key:"sendMessageToDailyJs",value:function(a,b){a.what=e5,a.callClientId=b,a.from="embedded",window.postMessage(a,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(a){var b=this._wrappedListeners[a];b&&(window.removeEventListener("message",b),delete this._wrappedListeners[a])}},{key:"forwardPackagedMessageToCallMachine",value:function(a,b,c){var d=fC({},a);d.callClientId=c;var e=b?b.contentWindow:window,f=this._callMachineTargetOrigin(b);f&&e.postMessage(d,f)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(a,b){var c=function(c){!c.data||"iframe-call-message"!==c.data.what||c.data.callClientId&&c.data.callClientId!==b||c.data.from&&"module"===c.data.from||a(c.data)};return this._wrappedListeners[a]=c,window.addEventListener("message",c),a}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(a){var b=this._wrappedListeners[a];b&&(window.removeEventListener("message",b),delete this._wrappedListeners[a])}},{key:"_callMachineTargetOrigin",value:function(a){return a?a.src?new URL(a.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return"file:"===window.location.protocol?"*":window.location.origin}}])}();function fF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function fG(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(fG=function(){return!!a})()}var fH=function(){function b(){var c,d,e,f;return k(this,b),d=this,e=q(e=b),c=p(d,fG()?Reflect.construct(e,f||[],q(d).constructor):e.apply(d,f)),a.g.callMachineToDailyJsEmitter=a.g.callMachineToDailyJsEmitter||new C.EventEmitter,a.g.dailyJsToCallMachineEmitter=a.g.dailyJsToCallMachineEmitter||new C.EventEmitter,c._wrappedListeners={},c._messageCallbacks={},c}return s(b,fA),o(b,[{key:"addListenerForMessagesFromCallMachine",value:function(b,c,d){this._addListener(b,a.g.callMachineToDailyJsEmitter,c,d,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(b,c,d){this._addListener(b,a.g.dailyJsToCallMachineEmitter,c,d,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(b,c,d){this._sendMessage(b,a.g.dailyJsToCallMachineEmitter,d,c,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(b,c){this._sendMessage(b,a.g.callMachineToDailyJsEmitter,c,null,"sending message to daily-js")}},{key:"removeListener",value:function(b){var c=this._wrappedListeners[b];c&&(a.g.callMachineToDailyJsEmitter.removeListener("message",c),a.g.dailyJsToCallMachineEmitter.removeListener("message",c),delete this._wrappedListeners[b])}},{key:"_addListener",value:function(a,b,c,d,e){var f=this,g=function(b){if(b.callClientId===c){if(b.callbackStamp&&f._messageCallbacks[b.callbackStamp]){var e=b.callbackStamp;f._messageCallbacks[e].call(d,b),delete f._messageCallbacks[e]}a.call(d,b)}};this._wrappedListeners[a]=g,b.addListener("message",g)}},{key:"_sendMessage",value:function(a,b,c,d,e){var f=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?fF(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):fF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);if(f.callClientId=c,d){var g=U();this._messageCallbacks[g]=d,f.callbackStamp=g}b.emit("message",f)}}])}(),fI="replace",fJ="shallow-merge",fK=[fI,fJ],fL=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.data,d=b.mergeStrategy,e=void 0===d?fI:d;k(this,a),a._validateMergeStrategy(e),a._validateData(c,e),this.mergeStrategy=e,this.data=c}return o(a,[{key:"isNoOp",value:function(){return a.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(a,b){return 0===Object.keys(a).length&&b===fJ}},{key:"_validateMergeStrategy",value:function(a){if(!fK.includes(a))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(fK,"]"))}},{key:"_validateData",value:function(a,b){if(!function(a){if(null==a||"object"!==l(a))return!1;var b=Object.getPrototypeOf(a);return null==b||b===Object.prototype}(a))throw Error("Meeting session data must be a plain (map-like) object");try{if(c=JSON.stringify(a),b===fI){var c,d=JSON.parse(c);G(d,a)||console.warn("The meeting session data provided will be modified when serialized.",d,a)}else if(b===fJ){for(var e in a)if(Object.hasOwnProperty.call(a,e)&&void 0!==a[e]){var f=JSON.parse(JSON.stringify(a[e]));G(a[e],f)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",f,a[e])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(c.length>e4)throw Error("Meeting session data is too large (".concat(c.length," characters). Maximum size suppported is ").concat(e4,"."))}}])}();function fM(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(fM=function(){return!!a})()}function fN(a){var b="function"==typeof Map?new Map:void 0;return(fN=function(a){if(null===a||!function(a){try{return -1!==Function.toString.call(a).indexOf("[native code]")}catch(b){return"function"==typeof a}}(a))return a;if("function"!=typeof a)throw TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return function(a,b,c){if(fM())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,b);var e=new(a.bind.apply(a,d));return c&&r(e,c.prototype),e}(a,arguments,q(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r(c,a)})(a)}function fO(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(fO=function(){return!!a})()}function fP(a){var b,c=null==(b=window._daily)?void 0:b.pendings;if(c){var d=c.indexOf(a);-1!==d&&c.splice(d,1)}}var fQ=function(){return o(function a(b){k(this,a),this._currentLoad=null,this._callClientId=b},[{key:"load",value:function(){var a,b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void d(!0);a=this._callClientId,window._daily.pendings.push(a),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new fR(c,function(){d(!1)},function(a,c){c||fP(b._callClientId),e(a,c)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),fP(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),fR=function(){return o(function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;k(this,a),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=b,this._successCallback=c,this._failureCallback=d},[{key:"start",value:function(){var a=this;if(!this._currentAttempt){var b=function(c){a._currentAttempt.cancelled||(a._attemptsRemaining--,a._failureCallback(c,a._attemptsRemaining>0),a._attemptsRemaining<=0||setTimeout(function(){a._currentAttempt.cancelled||(a._currentAttempt=new fU(a._dailyConfig,a._successCallback,b),a._currentAttempt.start())},3e3))};this._currentAttempt=new fU(this._dailyConfig,this._successCallback,b),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),fS=function(){function a(){var b,c,d;return k(this,a),b=this,d=arguments,c=q(c=a),p(b,fO()?Reflect.construct(c,d||[],q(b).constructor):c.apply(b,d))}return s(a,fN(Error)),o(a)}(),fT=2e4,fU=function(){var a;return o(function a(b,c,d){k(this,a),this._loadAttemptImpl=fi()||!b.avoidEval?new fV(b,c,d):new fW(b,c,d)},[{key:"start",value:(a=v(function*(){return this._loadAttemptImpl.start()}),function(){return a.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}])}(),fV=function(){var a,b,c,d;return o(function a(b,c,d){k(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache="undefined"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=b,this._successCallback=c,this._failureCallback=d},[{key:"start",value:(d=v(function*(){var a=X(this._dailyConfig);(yield this._tryLoadFromIOSCache(a))||this._loadFromNetwork(a)}),function(){return d.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(c=v(function*(a){if(!this._iosCache)return!1;try{var b=yield this._iosCache.get(a);return!!this.cancelled||!!b&&(b.code?(Function('"use strict";'+b.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=b.refetchHeaders,!1))}catch(a){return!1}}),function(a){return c.apply(this,arguments)})},{key:"_loadFromNetwork",value:(b=v(function*(a){var b=this;this._networkTimeout=setTimeout(function(){b._networkTimedOut=!0,b._failureCallback({msg:"Timed out (>".concat(fT," ms) when loading call object bundle ").concat(a),type:"timeout"})},fT);try{var c=this._refetchHeaders?{headers:this._refetchHeaders}:{},d=yield fetch(a,c);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new fS;var e=yield this._getBundleCodeFromResponse(a,d);if(this.cancelled)throw new fS;Function('"use strict";'+e)(),this._iosCache&&this._iosCache.set(a,e,d.headers),this.succeeded=!0,this._successCallback()}catch(b){if(clearTimeout(this._networkTimeout),b instanceof fS||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(b),type:b.message})}}),function(a){return b.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(a=v(function*(a,b){if(b.ok)return yield b.text();if(this._iosCache&&304===b.status)return(yield this._iosCache.renew(a,b.headers)).code;throw Error("Received ".concat(b.status," response"))}),function(b,c){return a.apply(this,arguments)})}])}(),fW=function(){return o(function a(b,c,d){k(this,a),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=b,this._successCallback=c,this._failureCallback=d,this._attemptId=U(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var a=X(this._dailyConfig);"object"===("undefined"==typeof document?"undefined":l(document))?this._startLoading(a):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(a){var b=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){b._stopLoading(),b._failureCallback({msg:"Timed out (>".concat(fT," ms) when loading call object bundle ").concat(a),type:"timeout"})},fT);var c=document.getElementsByTagName("head")[0],d=document.createElement("script");this._scriptElement=d,d.onload=function(){b._stopLoading(),b.succeeded=!0,b._successCallback()},d.onerror=function(a){b._stopLoading(),b._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},d.src=a,c.appendChild(d)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),fX=function(a,b,c){return!0===f$(a.local,b,c)},fY=function(a,b,c){return a.local.streams&&a.local.streams[b]&&a.local.streams[b].stream&&a.local.streams[b].stream["get".concat("video"===c?"Video":"Audio","Tracks")]()[0]},fZ=function(a,b,c,d){var e=f_(a,b,c,d);return e&&e.pendingTrack},f$=function(a,b,c){if(!a)return!1;var d=function(a){switch(a){case"avatar":return!0;case"staged":return a;default:return!!a}},e=a.public.subscribedTracks;return e&&e[b]?d(-1===["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(c)&&e[b].custom?[!0,"staged"].includes(e[b].custom)?e[b].custom:e[b].custom[c]:e[b][c]):!e||d(e.ALL)},f_=function(a,b,c,d){var e=Object.values(a.streams||{}).filter(function(a){return a.participantId===b&&a.type===c&&a.pendingTrack&&a.pendingTrack.kind===d}).sort(function(a,b){return new Date(b.starttime)-new Date(a.starttime)});return e&&e[0]},f0=function(a,b){var c=a.local.public.customTracks;if(c&&c[b])return c[b].track};function f1(a,b){for(var c=b.getState(),d=0,e=["cam","screen"];d<e.length;d++)for(var f=e[d],g=0,h=["video","audio"];g<h.length;g++){var i=h[g],j="cam"===f?i:"screen".concat(i.charAt(0).toUpperCase()+i.slice(1)),k=a.tracks[j];if(k){var l=a.local?fY(c,f,i):fZ(c,a.session_id,f,i);"playable"===k.state&&(k.track=l),k.persistentTrack=l}}}function f2(a,b){try{var c=b.getState();for(var d in a.tracks)if(!f3(d)){var e=a.tracks[d].kind;if(e){var f=a.tracks[d];if(f){var g=a.local?f0(c,d):fZ(c,a.session_id,d,e);"playable"===f.state&&(a.tracks[d].track=g),f.persistentTrack=g}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function f3(a){return["video","audio","screenVideo","screenAudio"].includes(a)}function f4(a,b,c){var d=c.getState();if(a.local){if(a.audio)try{a.audioTrack=d.local.streams.cam.stream.getAudioTracks()[0],a.audioTrack||(a.audio=!1)}catch(a){}if(a.video)try{a.videoTrack=d.local.streams.cam.stream.getVideoTracks()[0],a.videoTrack||(a.video=!1)}catch(a){}if(a.screen)try{a.screenVideoTrack=d.local.streams.screen.stream.getVideoTracks()[0],a.screenAudioTrack=d.local.streams.screen.stream.getAudioTracks()[0],a.screenVideoTrack||a.screenAudioTrack||(a.screen=!1)}catch(a){}}else{var e=!0;try{var f=d.participants[a.session_id];f&&f.public&&f.public.rtcType&&"peer-to-peer"===f.public.rtcType.impl&&f.private&&!["connected","completed"].includes(f.private.peeringState)&&(e=!1)}catch(a){console.error(a)}if(!e)return a.audio=!1,a.audioTrack=!1,a.video=!1,a.videoTrack=!1,a.screen=!1,void(a.screenTrack=!1);try{if(d.streams,a.audio&&fX(d,a.session_id,"cam-audio")){var g=fZ(d,a.session_id,"cam","audio");g&&(b&&b.audioTrack&&b.audioTrack.id===g.id?a.audioTrack=g:g.muted||(a.audioTrack=g)),a.audioTrack||(a.audio=!1)}if(a.video&&fX(d,a.session_id,"cam-video")){var h=fZ(d,a.session_id,"cam","video");h&&(b&&b.videoTrack&&b.videoTrack.id===h.id?a.videoTrack=h:h.muted||(a.videoTrack=h)),a.videoTrack||(a.video=!1)}if(a.screen&&fX(d,a.session_id,"screen-audio")){var i=fZ(d,a.session_id,"screen","audio");i&&(b&&b.screenAudioTrack&&b.screenAudioTrack.id===i.id?a.screenAudioTrack=i:i.muted||(a.screenAudioTrack=i))}if(a.screen&&fX(d,a.session_id,"screen-video")){var j=fZ(d,a.session_id,"screen","video");j&&(b&&b.screenVideoTrack&&b.screenVideoTrack.id===j.id?a.screenVideoTrack=j:j.muted||(a.screenVideoTrack=j))}a.screenVideoTrack||a.screenAudioTrack||(a.screen=!1)}catch(a){console.error("unexpected error matching up tracks",a)}}}function f5(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return f6(a,void 0);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?f6(a,void 0):void 0}}(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function f6(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var f7=new Map,f8=null;function f9(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return ga(a,void 0);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?ga(a,void 0):void 0}}(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function ga(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var gb=new Map,gc=null;function gd(a){gf()?function(a){f7.has(a)||(f7.set(a,{}),navigator.mediaDevices.enumerateDevices().then(function(b){f7.has(a)&&(f7.get(a).lastDevicesString=JSON.stringify(b),f8||(f8=function(){var a=v(function*(){var a,b=yield navigator.mediaDevices.enumerateDevices(),c=f5(f7.keys());try{for(c.s();!(a=c.n()).done;){var d=a.value,e=JSON.stringify(b);e!==f7.get(d).lastDevicesString&&(f7.get(d).lastDevicesString=e,d(b))}}catch(a){c.e(a)}finally{c.f()}});return function(){return a.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",f8)))}).catch(function(){}))}(a):function(a){gb.has(a)||(gb.set(a,{}),navigator.mediaDevices.enumerateDevices().then(function(b){gb.has(a)&&(gb.get(a).lastDevicesString=JSON.stringify(b),gc||(gc=setInterval(v(function*(){var a,b=yield navigator.mediaDevices.enumerateDevices(),c=f9(gb.keys());try{for(c.s();!(a=c.n()).done;){var d=a.value,e=JSON.stringify(b);e!==gb.get(d).lastDevicesString&&(gb.get(d).lastDevicesString=e,d(b))}}catch(a){c.e(a)}finally{c.f()}}),3e3)))}))}(a)}function ge(a){gf()?function(a){f7.has(a)&&(f7.delete(a),0===f7.size&&f8&&(navigator.mediaDevices.removeEventListener("devicechange",f8),f8=null))}(a):function(a){gb.has(a)&&(gb.delete(a),0===gb.size&&gc&&(clearInterval(gc),gc=null))}(a)}function gf(){var a;return fi()||void 0!==(null==(a=navigator.mediaDevices)?void 0:a.ondevicechange)}var gg=new Set;function gh(a,b){var c=b.isLocalScreenVideo;return a&&"live"===a.readyState&&!function(a,b){return(!b.isLocalScreenVideo||"Chrome"!==fv())&&a.muted&&!gg.has(a.id)}(a,{isLocalScreenVideo:c})}function gi(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function gj(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?gi(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):gi(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var gk=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),gl=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),gm=Object.values(gk),gn=["v","a","sv","sa","cv","ca"];Object.freeze(gm.reduce(function(a,b,c){return a[b]=gn[c],a},{})),Object.freeze(gn.reduce(function(a,b,c){return a[b]=gm[c],a},{}));var go=[gk.VIDEO,gk.AUDIO,gk.SCREEN_VIDEO,gk.SCREEN_AUDIO],gp=Object.values(gl),gq=["p","s","t"];Object.freeze(gp.reduce(function(a,b,c){return a[b]=gq[c],a},{})),Object.freeze(gq.reduce(function(a,b,c){return a[b]=gp[c],a},{}));var gr=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.base,d=b.byUserId,e=b.byParticipantId;k(this,a),this.base=c,this.byUserId=d,this.byParticipantId=e}return o(a,[{key:"clone",value:function(){var b=new a;if(this.base instanceof gs?b.base=this.base.clone():b.base=this.base,void 0!==this.byUserId)for(var c in b.byUserId={},this.byUserId){var d=this.byUserId[c];b.byUserId[c]=d instanceof gs?d.clone():d}if(void 0!==this.byParticipantId)for(var e in b.byParticipantId={},this.byParticipantId){var f=this.byParticipantId[e];b.byParticipantId[e]=f instanceof gs?f.clone():f}return b}},{key:"toJSONObject",value:function(){var a={};if("boolean"==typeof this.base?a.base=this.base:this.base instanceof gs&&(a.base=this.base.toJSONObject()),void 0!==this.byUserId)for(var b in a.byUserId={},this.byUserId){var c=this.byUserId[b];a.byUserId[b]=c instanceof gs?c.toJSONObject():c}if(void 0!==this.byParticipantId)for(var d in a.byParticipantId={},this.byParticipantId){var e=this.byParticipantId[d];a.byParticipantId[d]=e instanceof gs?e.toJSONObject():e}return a}},{key:"toMinifiedJSONObject",value:function(){var a={};if(void 0!==this.base&&("boolean"==typeof this.base?a.b=this.base:a.b=this.base.toMinifiedJSONObject()),void 0!==this.byUserId)for(var b in a.u={},this.byUserId){var c=this.byUserId[b];a.u[b]="boolean"==typeof c?c:c.toMinifiedJSONObject()}if(void 0!==this.byParticipantId)for(var d in a.p={},this.byParticipantId){var e=this.byParticipantId[d];a.p[d]="boolean"==typeof e?e:e.toMinifiedJSONObject()}return a}},{key:"normalize",value:function(){return this.base instanceof gs&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(a){var b=x(a,2),c=b[0],d=b[1];return[c,d instanceof gs?d.normalize():d]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(a){var b=x(a,2),c=b[0],d=b[1];return[c,d instanceof gs?d.normalize():d]}))),this}}],[{key:"fromJSONObject",value:function(b){var c,d,e;if(void 0!==b.base&&(c="boolean"==typeof b.base?b.base:gs.fromJSONObject(b.base)),void 0!==b.byUserId)for(var f in d={},b.byUserId){var g=b.byUserId[f];d[f]="boolean"==typeof g?g:gs.fromJSONObject(g)}if(void 0!==b.byParticipantId)for(var h in e={},b.byParticipantId){var i=b.byParticipantId[h];e[h]="boolean"==typeof i?i:gs.fromJSONObject(i)}return new a({base:c,byUserId:d,byParticipantId:e})}},{key:"fromMinifiedJSONObject",value:function(b){var c,d,e;if(void 0!==b.b&&(c="boolean"==typeof b.b?b.b:gs.fromMinifiedJSONObject(b.b)),void 0!==b.u)for(var f in d={},b.u){var g=b.u[f];d[f]="boolean"==typeof g?g:gs.fromMinifiedJSONObject(g)}if(void 0!==b.p)for(var h in e={},b.p){var i=b.p[h];e[h]="boolean"==typeof i?i:gs.fromMinifiedJSONObject(i)}return new a({base:c,byUserId:d,byParticipantId:e})}},{key:"validateJSONObject",value:function(a){if("object"!==l(a))return[!1,"canReceive must be an object"];for(var b=["base","byUserId","byParticipantId"],c=0,d=Object.keys(a);c<d.length;c++){var e=d[c];if(!b.includes(e))return[!1,"canReceive can only contain keys (".concat(b.join(", "),")")];if("base"===e){var f=x(gs.validateJSONObject(a.base,!0),2),g=f[0],h=f[1];if(!g)return[!1,h]}else{if("object"!==l(a[e]))return[!1,"invalid (non-object) value for field '".concat(e,"' in canReceive")];for(var i=0,j=Object.values(a[e]);i<j.length;i++){var k=j[i],m=x(gs.validateJSONObject(k),2),n=m[0],o=m[1];if(!n)return[!1,o]}}}return[!0]}}])}(),gs=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.video,d=b.audio,e=b.screenVideo,f=b.screenAudio,g=b.customVideo,h=b.customAudio;k(this,a),this.video=c,this.audio=d,this.screenVideo=e,this.screenAudio=f,this.customVideo=g,this.customAudio=h}return o(a,[{key:"clone",value:function(){var b=new a;return void 0!==this.video&&(b.video=this.video),void 0!==this.audio&&(b.audio=this.audio),void 0!==this.screenVideo&&(b.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(b.screenAudio=this.screenAudio),void 0!==this.customVideo&&(b.customVideo=gj({},this.customVideo)),void 0!==this.customAudio&&(b.customAudio=gj({},this.customAudio)),b}},{key:"toJSONObject",value:function(){var a={};return void 0!==this.video&&(a.video=this.video),void 0!==this.audio&&(a.audio=this.audio),void 0!==this.screenVideo&&(a.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(a.screenAudio=this.screenAudio),void 0!==this.customVideo&&(a.customVideo=gj({},this.customVideo)),void 0!==this.customAudio&&(a.customAudio=gj({},this.customAudio)),a}},{key:"toMinifiedJSONObject",value:function(){var a={};return void 0!==this.video&&(a.v=this.video),void 0!==this.audio&&(a.a=this.audio),void 0!==this.screenVideo&&(a.sv=this.screenVideo),void 0!==this.screenAudio&&(a.sa=this.screenAudio),void 0!==this.customVideo&&(a.cv=gj({},this.customVideo)),void 0!==this.customAudio&&(a.ca=gj({},this.customAudio)),a}},{key:"normalize",value:function(){function a(a,b){return a&&1===Object.keys(a).length&&a["*"]===b}return!(!0!==this.video||!0!==this.audio||!0!==this.screenVideo||!0!==this.screenAudio||!a(this.customVideo,!0)||!a(this.customAudio,!0))||(!1!==this.video||!1!==this.audio||!1!==this.screenVideo||!1!==this.screenAudio||!a(this.customVideo,!1)||!a(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(b){return new a({video:b,audio:b,screenVideo:b,screenAudio:b,customVideo:{"*":b},customAudio:{"*":b}})}},{key:"fromJSONObject",value:function(b){return new a({video:b.video,audio:b.audio,screenVideo:b.screenVideo,screenAudio:b.screenAudio,customVideo:void 0!==b.customVideo?gj({},b.customVideo):void 0,customAudio:void 0!==b.customAudio?gj({},b.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(b){return new a({video:b.v,audio:b.a,screenVideo:b.sv,screenAudio:b.sa,customVideo:b.cv,customAudio:b.ca})}},{key:"validateJSONObject",value:function(a,b){if("boolean"==typeof a)return[!0];if("object"!==l(a))return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var c=Object.keys(a),d=0,e=c;d<e.length;d++){var f=e[d];if(!gm.includes(f))return[!1,"invalid media type '".concat(f,"' in canReceive")];if(go.includes(f)){if("boolean"!=typeof a[f])return[!1,"invalid (non-boolean) value for media type '".concat(f,"' in canReceive")]}else{if("object"!==l(a[f]))return[!1,"invalid (non-object) value for media type '".concat(f,"' in canReceive")];for(var g=0,h=Object.values(a[f]);g<h.length;g++)if("boolean"!=typeof h[g])return[!1,"invalid (non-boolean) value for entry within '".concat(f,"' in canReceive")];if(b&&void 0===a[f]["*"])return[!1,'canReceive "base" permission must specify "*" as an entry within \''.concat(f,"'")]}}return b&&c.length!==gm.length?[!1,'canReceive "base" permission must specify all media types: '.concat(gm.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),gt=["result"],gu=["preserveIframe"];function gv(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function gw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?gv(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):gv(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function gx(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(gx=function(){return!!a})()}function gy(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return gz(a,void 0);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?gz(a,void 0):void 0}}(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function gz(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var gA={},gB="video",gC="voice",gD=fi()?{data:{}}:{data:{},topology:"none"},gE={present:0,hidden:0},gF={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},gG=Object.keys(gF),gH=["state","volume","simulcastEncodings"],gI={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},gJ={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},gK={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},gL={customIntegrations:{validate:g7,help:g5()},customTrayButtons:{validate:g6,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(gJ))},url:{validate:function(a){return"string"==typeof a},help:"url should be a string"},baseUrl:{validate:function(a){return"string"==typeof a},help:"baseUrl should be a string"},token:{validate:function(a){return"string"==typeof a},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(a,b){try{return b.validateDailyConfig(a),!0}catch(a){console.error("Failed to validate dailyConfig",a)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(a){return g8(a,gI)},help:"reactNativeConfig should look like ".concat(JSON.stringify(gI),", all fields optional")},lang:{validate:function(a){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(a)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(a){try{return gY(a),!0}catch(a){return console.error(a),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(a,b){var c;if("boolean"==typeof a)return b._preloadCache.allowLocalVideo=a,!0;if(a instanceof MediaStreamTrack)b._sharedTracks.videoTrack=a,c={customTrack:e9};else{if(delete b._sharedTracks.videoTrack,"string"!=typeof a)return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;c={deviceId:a}}return b._updatePreloadCacheInputSettings({video:{settings:c}},!1),!0}},audioSource:{validate:function(a,b){var c;if("boolean"==typeof a)return b._preloadCache.allowLocalAudio=a,!0;if(a instanceof MediaStreamTrack)b._sharedTracks.audioTrack=a,c={customTrack:e9};else{if(delete b._sharedTracks.audioTrack,"string"!=typeof a)return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;c={deviceId:a}}return b._updatePreloadCacheInputSettings({audio:{settings:c}},!1),!0}},subscribeToTracksAutomatically:{validate:function(a,b){return b._preloadCache.subscribeToTracksAutomatically=a,!0}},theme:{validate:function(a){var b=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],c=function(a){for(var c=0,d=Object.keys(a);c<d.length;c++){var e=d[c];if(!b.includes(e))return console.error('unsupported color "'.concat(e,'". Valid colors: ').concat(b.join(", "))),!1;if(!a[e].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(e,' theme color should be provided in valid hex color format. Received: "').concat(a[e],'"')),!1}return!0};return"object"===l(a)&&("light"in a&&"dark"in a||"colors"in a)?"light"in a&&"dark"in a?"colors"in a.light?"colors"in a.dark?c(a.light.colors)&&c(a.dark.colors):(console.error('Dark theme is missing "colors" property.',a),!1):(console.error('Light theme is missing "colors" property.',a),!1):c(a.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',a),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(a){if("grid"in a){var b=a.grid;if("maxTilesPerPage"in b){if(!Number.isInteger(b.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(b.maxTilesPerPage,".")),!1;if(b.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in b){if(!Number.isInteger(b.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(b.minTilesPerPage,".")),!1;if(b.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in b&&b.minTilesPerPage>b.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(a){return gZ(a,{allowAllParticipantsKey:!1})},help:g4({allowAllParticipantsKey:!1})},sendSettings:{validate:function(a,b){return!!function(a,b){try{return b.validateUpdateSendSettings(a),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(a,b)&&(b._preloadCache.sendSettings=a,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(a,b){var c;return!!g$(a)&&(b._inputSettings||(b._inputSettings={}),g_(a,null==(c=b.properties)?void 0:c.dailyConfig,b._sharedTracks),b._updatePreloadCacheInputSettings(a,!0),!0)},help:g3()},layout:{validate:function(a){return"custom-v1"===a||"browser"===a||"none"===a},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},gM={styles:{validate:function(a){for(var b in a)if("cam"!==b&&"screen"!==b)return!1;if(a.cam){for(var c in a.cam)if("div"!==c&&"video"!==c)return!1}if(a.screen){for(var d in a.screen)if("div"!==d&&"video"!==d)return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(a,b){if(b._preloadCache.subscribeToTracksAutomatically)return!1;var c=[!0,!1,"staged"];if(c.includes(a)||!fi()&&"avatar"===a)return!0;var d=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],e=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var f in a)if("custom"===f){if(!c.includes(a[f])&&!e(a[f],!0))return!1}else{var g=!b&&!d.includes(f),h=!c.includes(a[f]);if(g||h)return!1}return!0};return e(a)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(fi()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(a){return!1===a},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(a){for(var b=0,c=Object.entries(a);b<c.length;b++){var d=x(c[b],2),e=d[0],f=d[1];switch(e){case"hasPresence":if("boolean"!=typeof f)return!1;break;case"canSend":if(f instanceof Set||f instanceof Array||Array.isArray(f)){var g,h=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],i=gy(f);try{for(i.s();!(g=i.n()).done;){var j=g.value;if(!h.includes(j))return!1}}catch(a){i.e(a)}finally{i.f()}}else if("boolean"!=typeof f)return!1;(f instanceof Array||Array.isArray(f))&&(a.canSend=new Set(f));break;case"canReceive":var k=x(gr.validateJSONObject(f),2),l=k[0],m=k[1];if(!l)return console.error(m),!1;break;case"canAdmin":if(f instanceof Set||f instanceof Array||Array.isArray(f)){var n,o=["participants","streaming","transcription"],p=gy(f);try{for(p.s();!(n=p.n()).done;){var q=n.value;if(!o.includes(q))return!1}}catch(a){p.e(a)}finally{p.f()}}else if("boolean"!=typeof f)return!1;(f instanceof Array||Array.isArray(f))&&(a.canAdmin=new Set(f));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var a=v(function*(a){return new Promise(function(b,c){var d=[];a.forEach(function(e){return Promise.resolve(e).then(function(a){b(a)}).catch(function(b){d.push(b),d.length===a.length&&c(d)})})})});return function(b){return a.apply(this,arguments)}}());var gN=function(){var a,b,c,d,e,f,g,h,i,m,n,r,u,w,y,z,A,B,C,E,F,H,I,J,K,L,M,N,O,P,Q,R,S,V,Y,Z,$,_;function aa(a){var b,c,d,e,f,g,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(this,aa),d=this,e=q(e=aa),t(c=p(d,gx()?Reflect.construct(e,f||[],q(d).constructor):e.apply(d,f)),"startListeningForDeviceChanges",function(){gd(c.handleDeviceChange)}),t(c,"stopListeningForDeviceChanges",function(){ge(c.handleDeviceChange)}),t(c,"handleDeviceChange",function(a){a=a.map(function(a){return JSON.parse(JSON.stringify(a))}),c.emitDailyJSEvent({action:"available-devices-updated",availableDevices:a})}),t(c,"handleNativeAppStateChange",function(){var a=v(function*(a){if("destroyed"===a)return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield c.destroy());var b="active"===a;c.disableReactNativeAutoDeviceManagement("video")||(b?c.camUnmutedBeforeLosingNativeActiveState&&c.setLocalVideo(!0):(c.camUnmutedBeforeLosingNativeActiveState=c.localVideo(),c.camUnmutedBeforeLosingNativeActiveState&&c.setLocalVideo(!1)))});return function(b){return a.apply(this,arguments)}}()),t(c,"handleNativeAudioFocusChange",function(a){c.disableReactNativeAutoDeviceManagement("audio")||(c._hasNativeAudioFocus=a,c.toggleParticipantAudioBasedOnNativeAudioFocus(),c._hasNativeAudioFocus?c.micUnmutedBeforeLosingNativeAudioFocus&&c.setLocalAudio(!0):(c.micUnmutedBeforeLosingNativeAudioFocus=c.localAudio(),c.setLocalAudio(!1)))}),t(c,"handleNativeSystemScreenCaptureStop",function(){c.stopScreenShare()}),c.strictMode=void 0===h.strictMode||h.strictMode,c.allowMultipleCallInstances=null!=(b=h.allowMultipleCallInstances)&&b,Object.keys(gA).length&&(c._logDuplicateInstanceAttempt(),!c.allowMultipleCallInstances)){if(c.strictMode)throw Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),c.callClientId=U(),gA[(g=c).callClientId]=g,window._daily.instances[c.callClientId]={},c._sharedTracks={},window._daily.instances[c.callClientId].tracks=c._sharedTracks,h.dailyJsVersion=aa.version(),c._iframe=a,c._callObjectMode="none"===h.layout&&!c._iframe,c._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==h.showLocalVideo?c._callObjectMode?console.error("showLocalVideo is not available in call object mode"):c._showLocalVideo=!!h.showLocalVideo:c._showLocalVideo=!0,void 0!==h.showParticipantsBar?c._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):c._showParticipantsBar=!!h.showParticipantsBar:c._showParticipantsBar=!0,void 0!==h.customIntegrations?c._callObjectMode?console.error("customIntegrations is not available in call object mode"):c._customIntegrations=h.customIntegrations:c._customIntegrations={},void 0!==h.customTrayButtons?c._callObjectMode?console.error("customTrayButtons is not available in call object mode"):c._customTrayButtons=h.customTrayButtons:c._customTrayButtons={},void 0!==h.activeSpeakerMode?c._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):c._activeSpeakerMode=!!h.activeSpeakerMode:c._activeSpeakerMode=!1,h.receiveSettings?c._callObjectMode?c._receiveSettings=h.receiveSettings:console.error("receiveSettings is only available in call object mode"):c._receiveSettings={},c.validateProperties(h),c.properties=gw({},h),c._inputSettings||(c._inputSettings={}),c._callObjectLoader=c._callObjectMode?new fQ(c.callClientId):null,c._callState=dA,c._isPreparingToJoin=!1,c._accessState={access:dN},c._meetingSessionSummary={},c._finalSummaryOfPrevSession={},c._meetingSessionState=hc(gD,c._callObjectMode),c._nativeInCallAudioMode=gB,c._participants={},c._isScreenSharing=!1,c._participantCounts=gE,c._rmpPlayerState={},c._waitingParticipants={},c._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},c._activeSpeaker={},c._localAudioLevel=0,c._isLocalAudioLevelObserverRunning=!1,c._remoteParticipantsAudioLevel={},c._isRemoteParticipantsAudioLevelObserverRunning=!1,c._maxAppMessageSize=e3,c._messageChannel=fi()?new fH:new fE,c._iframe&&(c._iframe.requestFullscreen?c._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===c._iframe?(c.emitDailyJSEvent({action:eU}),c.sendMessageToCallMachine({action:eU})):(c.emitDailyJSEvent({action:eV}),c.sendMessageToCallMachine({action:eV}))}):c._iframe.webkitRequestFullscreen&&c._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===c._iframe?(c.emitDailyJSEvent({action:eU}),c.sendMessageToCallMachine({action:eU})):(c.emitDailyJSEvent({action:eV}),c.sendMessageToCallMachine({action:eV}))})),fi()){var i=c.nativeUtils();i.addAudioFocusChangeListener&&i.removeAudioFocusChangeListener&&i.addAppStateChangeListener&&i.removeAppStateChangeListener&&i.addSystemScreenCaptureStopListener&&i.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),c._hasNativeAudioFocus=!0,i.addAudioFocusChangeListener(c.handleNativeAudioFocusChange),i.addAppStateChangeListener(c.handleNativeAppStateChange),i.addSystemScreenCaptureStopListener(c.handleNativeSystemScreenCaptureStop)}return c._callObjectMode&&c.startListeningForDeviceChanges(),c._messageChannel.addListenerForMessagesFromCallMachine(c.handleMessageFromCallMachine,c.callClientId,c),c}return s(aa,D),o(aa,[{key:"destroy",value:(_=v(function*(){try{yield this.leave()}catch(a){}var a,b=this._iframe;if(b){var c=b.parentElement;c&&c.removeChild(b)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),fi()){var d=this.nativeUtils();d.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),d.removeAppStateChangeListener(this.handleNativeAppStateChange),d.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete gA[this.callClientId],(null==(a=window)||null==(a=a._daily)?void 0:a.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return _.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(a){var b=a.bodyClass,c=a.cssFile,d=a.cssText;return gW(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(c),bodyClass:b,cssText:d}),this}},{key:"iframe",value:function(){return gW(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return gU(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return gU(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(a,b){for(var c in b){if(!gM[c])throw Error("unrecognized updateParticipant property ".concat(c));if(gM[c].validate&&!gM[c].validate(b[c],this,this._participants[a]))throw Error(gM[c].help)}}},{key:"updateParticipant",value:function(a,b){return this._participants.local&&this._participants.local.session_id===a&&(a="local"),a&&b&&(this.validateParticipantProperties(a,b),this.sendMessageToCallMachine({action:"update-participant",id:a,properties:b})),this}},{key:"updateParticipants",value:function(a){var b=this._participants.local&&this._participants.local.session_id;for(var c in a)c===b&&(c="local"),c&&a[c]&&this.validateParticipantProperties(c,a[c]);return this.sendMessageToCallMachine({action:"update-participants",participants:a}),this}},{key:"updateWaitingParticipant",value:($=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(gU(this._callObjectMode,"updateWaitingParticipant()"),gP(this._callState,"updateWaitingParticipant()"),"string"!=typeof b||"object"!==l(c))throw Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(d,e){a.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:b,updates:c},function(a){a.error&&e(a.error),a.id||e(Error("unknown error in updateWaitingParticipant()")),d({id:a.id})})})}),function(){return $.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(Z=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gU(this._callObjectMode,"updateWaitingParticipants()"),gP(this._callState,"updateWaitingParticipants()"),"object"!==l(b))throw Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(c,d){a.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:b},function(a){a.error&&d(a.error),a.ids||d(Error("unknown error in updateWaitingParticipants()")),c({ids:a.ids})})})}),function(){return Z.apply(this,arguments)})},{key:"requestAccess",value:(Y=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.access,d=void 0===c?{level:dO}:c,e=b.name,f=void 0===e?"":e;return gU(this._callObjectMode,"requestAccess()"),gP(this._callState,"requestAccess()"),new Promise(function(b,c){a.sendMessageToCallMachine({action:"daily-method-request-access",access:d,name:f},function(a){a.error&&c(a.error),a.access||c(Error("unknown error in requestAccess()")),b({access:a.access,granted:a.granted})})})}),function(){return Y.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"forceDiscardTrack"in b&&(fi()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),b={}):a&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),b={})),this.sendMessageToCallMachine({action:"local-audio",state:a,options:b}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(a){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:a}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(a){return this.sendMessageToCallMachine({action:"local-video",state:a}),this}},{key:"_setAllowLocalAudio",value:function(a){if(this._preloadCache.allowLocalAudio=a,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:a}),this}},{key:"_setAllowLocalVideo",value:function(a){if(this._preloadCache.allowLocalVideo=a,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:a}),this}},{key:"getReceiveSettings",value:(V=v(function*(a){var b=this,c=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,d=void 0!==c&&c;if(gU(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(l(a)){case"string":return new Promise(function(c){b.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:a,showInheritedValues:d},function(a){c(a.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(a){return V.apply(this,arguments)})},{key:"updateReceiveSettings",value:(S=v(function*(a){var b=this;if(gU(this._callObjectMode,"updateReceiveSettings()"),!gZ(a,{allowAllParticipantsKey:!0}))throw Error(g4({allowAllParticipantsKey:!0}));return gP(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(c){b.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:a},function(a){c({receiveSettings:a.receiveSettings})})})}),function(a){return S.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(a,b){if(a){var c={};if(a.audio){a.audio.settings&&(!Object.keys(a.audio.settings).length&&b||(c.audio={settings:gw({},a.audio.settings)})),b&&null!=(d=c.audio)&&null!=(d=d.settings)&&d.customTrack&&(c.audio.settings={customTrack:this._sharedTracks.audioTrack});var d,e,f,g="none"===(null==(e=a.audio.processor)?void 0:e.type)&&(null==(f=a.audio.processor)?void 0:f._isDefaultWhenNone);if(a.audio.processor&&!g){var h=gw({},a.audio.processor);delete h._isDefaultWhenNone,c.audio=gw(gw({},c.audio),{},{processor:h})}}if(a.video){a.video.settings&&(!Object.keys(a.video.settings).length&&b||(c.video={settings:gw({},a.video.settings)})),b&&null!=(i=c.video)&&null!=(i=i.settings)&&i.customTrack&&(c.video.settings={customTrack:this._sharedTracks.videoTrack});var i,j,k,l="none"===(null==(j=a.video.processor)?void 0:j.type)&&(null==(k=a.video.processor)?void 0:k._isDefaultWhenNone);if(a.video.processor&&!l){var m=gw({},a.video.processor);delete m._isDefaultWhenNone,c.video=gw(gw({},c.video),{},{processor:m})}}return c}}},{key:"getInputSettings",value:function(){var a=this;return gW(),new Promise(function(b){b(a._getInputSettings())})}},{key:"_getInputSettings",value:function(){var a,b,c,d,e,f,g={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(a=(null==(c=this._inputSettings)?void 0:c.video)||g,b=(null==(d=this._inputSettings)?void 0:d.audio)||g):(a=(null==(e=this._preloadCache)||null==(e=e.inputSettings)?void 0:e.video)||g,b=(null==(f=this._preloadCache)||null==(f=f.inputSettings)?void 0:f.audio)||g);var h={audio:b,video:a};return this._prepInputSettingsForSharing(h,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(a,b){var c,d,e,f,g,h,i=this._inputSettings||{},j={};a.video?((j.video={},a.video.settings)?(j.video.settings={},b||a.video.settings.customTrack||null==(e=i.video)||!e.settings?j.video.settings=a.video.settings:j.video.settings=gw(gw({},i.video.settings),a.video.settings),Object.keys(j.video.settings).length||delete j.video.settings):null!=(c=i.video)&&c.settings&&(j.video.settings=i.video.settings),a.video.processor?j.video.processor=a.video.processor:null!=(d=i.video)&&d.processor&&(j.video.processor=i.video.processor)):i.video&&(j.video=i.video),a.audio?((j.audio={},a.audio.settings)?(j.audio.settings={},b||a.audio.settings.customTrack||null==(h=i.audio)||!h.settings?j.audio.settings=a.audio.settings:j.audio.settings=gw(gw({},i.audio.settings),a.audio.settings),Object.keys(j.audio.settings).length||delete j.audio.settings):null!=(f=i.audio)&&f.settings&&(j.audio.settings=i.audio.settings),a.audio.processor?j.audio.processor=a.audio.processor:null!=(g=i.audio)&&g.processor&&(j.audio.processor=i.audio.processor)):i.audio&&(j.audio=i.audio),this._maybeUpdateInputSettings(j)}},{key:"_devicesFromInputSettings",value:function(a){var b,c,d=(null==a||null==(b=a.video)||null==(b=b.settings)?void 0:b.deviceId)||null,e=(null==a||null==(c=a.audio)||null==(c=c.settings)?void 0:c.deviceId)||null,f=this._preloadCache.outputDeviceId||null;return{camera:d?{deviceId:d}:{},mic:e?{deviceId:e}:{},speaker:f?{deviceId:f}:{}}}},{key:"updateInputSettings",value:(R=v(function*(a){var b=this;return gW(),g$(a)?a.video||a.audio?(g_(a,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(a,!0),this._getInputSettings()):new Promise(function(c,d){b.sendMessageToCallMachine({action:"update-input-settings",inputSettings:a},function(e){if(e.error)d(e.error);else{if(e.returnPreloadCache)return b._updatePreloadCacheInputSettings(a,!0),void c(b._getInputSettings());b._maybeUpdateInputSettings(e.inputSettings),c(b._prepInputSettingsForSharing(e.inputSettings,!0))}})})):this._getInputSettings():(console.error(g3()),Promise.reject(g3()))}),function(a){return R.apply(this,arguments)})},{key:"setBandwidth",value:function(a){var b=a.kbs,c=a.trackConstraints;if(gW(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:b,trackConstraints:c}),this}},{key:"getDailyLang",value:function(){var a=this;if(gW(),this._callMachineInitialized)return new Promise(function(b){a.sendMessageToCallMachine({action:"get-daily-lang"},function(a){delete a.action,delete a.callbackStamp,b(a)})})}},{key:"setDailyLang",value:function(a){return gW(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:a}),this}},{key:"setProxyUrl",value:function(a){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:a}),this}},{key:"setIceConfig",value:function(a){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:a}),this}},{key:"meetingSessionSummary",value:function(){return[dF,dG].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Q=v(function*(){var a=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),gP(this._callState,"getMeetingSession()"),new Promise(function(b){a.sendMessageToCallMachine({action:"get-meeting-session"},function(a){delete a.action,delete a.callbackStamp,b(a)})})}),function(){return Q.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return gP(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";gU(this._callObjectMode,"setMeetingSessionData()"),gP(this._callState,"setMeetingSessionData");try{!function(a,b){new fL({data:a,mergeStrategy:b})}(a,b)}catch(a){throw console.error(a),a}try{this.sendMessageToCallMachine({action:"set-session-data",data:a,mergeStrategy:b})}catch(a){throw Error("Error setting meeting session data: ".concat(a))}}},{key:"setUserName",value:function(a,b){var c=this;return this.properties.userName=a,new Promise(function(d){c.sendMessageToCallMachine({action:"set-user-name",name:null!=a?a:"",thisMeetingOnly:fi()||!!b&&!!b.thisMeetingOnly},function(a){delete a.action,delete a.callbackStamp,d(a)})})}},{key:"setUserData",value:(P=v(function*(a){var b=this;try{gY(a)}catch(a){throw console.error(a),a}if(this.properties.userData=a,this._callMachineInitialized)return new Promise(function(c){try{b.sendMessageToCallMachine({action:"set-user-data",userData:a},function(a){delete a.action,delete a.callbackStamp,c(a)})}catch(a){throw Error("Error setting user data: ".concat(a))}})}),function(a){return P.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(a){if(a&&(a<100||"number"!=typeof a))throw Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(a){var b=this;if("undefined"==typeof AudioWorkletNode&&!fi())throw Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(a),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(c,d){b.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:a},function(a){b._isLocalAudioLevelObserverRunning=!a.error,a.error?d({error:a.error}):c()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:a}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(a){var b=this;if(this.validateAudioLevelInterval(a),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(c,d){b.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:a},function(a){b._isRemoteParticipantsAudioLevelObserverRunning=!a.error,a.error?d({error:a.error}):c()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:a}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(O=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gU(this._callObjectMode,"startCamera()"),gR(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(b)}catch(a){return Promise.reject(a)}else{if(this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(b),this.properties=gw(gw({},this.properties),b)}return new Promise(function(b){a._preloadCache.inputSettings=a._prepInputSettingsForSharing(a._inputSettings,!1),a.sendMessageToCallMachine({action:"start-camera",properties:gO(a.properties,a.callClientId),preloadCache:gO(a._preloadCache,a.callClientId)},function(a){b({camera:a.camera,mic:a.mic,speaker:a.speaker})})})}),function(){return O.apply(this,arguments)})},{key:"validateCustomTrack",value:function(a,b,c){if(c&&c.length>50)throw Error("Custom track `trackName` must not be more than 50 characters");if(b&&"music"!==b&&"speech"!==b&&!(b instanceof Object))throw Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(c&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(c))throw Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(a instanceof MediaStreamTrack))throw Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName,ignoreAudioLevel:ignoreAudioLevel};return gW(),gP(this._callState,"startCustomTrack()"),this.validateCustomTrack(b.track,b.mode,b.trackName),new Promise(function(c,d){a._sharedTracks.customTrack=b.track,b.track=e9,a.sendMessageToCallMachine({action:"start-custom-track",properties:b},function(a){a.error?d({error:a.error}):c(a.mediaTag)})})}},{key:"stopCustomTrack",value:function(a){var b=this;return gW(),gP(this._callState,"stopCustomTrack()"),new Promise(function(c){b.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:a},function(a){c(a.mediaTag)})})}},{key:"setCamera",value:function(a){var b=this;return gX(),gS(this._callMachineInitialized,"setCamera()"),new Promise(function(c){b.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:a},function(a){c({device:a.device})})})}},{key:"setAudioDevice",value:(N=v(function*(a){return gX(),this.nativeUtils().setAudioDevice(a),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(a){return N.apply(this,arguments)})},{key:"cycleCamera",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(c){a.sendMessageToCallMachine({action:"cycle-camera",properties:b},function(a){c({device:a.device})})})}},{key:"cycleMic",value:function(){var a=this;return gW(),new Promise(function(b){a.sendMessageToCallMachine({action:"cycle-mic"},function(a){b({device:a.device})})})}},{key:"getCameraFacingMode",value:function(){var a=this;return gX(),new Promise(function(b){a.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(a){b(a.facingMode)})})}},{key:"setInputDevicesAsync",value:(M=v(function*(a){var b=this,c=a.audioDeviceId,d=a.videoDeviceId,e=a.audioSource,f=a.videoSource;if(gW(),void 0!==e&&(c=e),void 0!==f&&(d=f),"boolean"==typeof c&&(this._setAllowLocalAudio(c),c=void 0),"boolean"==typeof d&&(this._setAllowLocalVideo(d),d=void 0),!c&&!d)return yield this.getInputDevices();var g={};return c&&(c instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=c,g.audio={settings:{customTrack:c=e9}}):(delete this._sharedTracks.audioTrack,g.audio={settings:{deviceId:c}})),d&&(d instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=d,g.video={settings:{customTrack:d=e9}}):(delete this._sharedTracks.videoTrack,g.video={settings:{deviceId:d}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(g,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(a){b.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:c,videoDeviceId:d},function(c){if(delete c.action,delete c.callbackStamp,c.returnPreloadCache)return b._updatePreloadCacheInputSettings(g,!1),void a(b._devicesFromInputSettings(b._inputSettings));a(c)})})}),function(a){return M.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(L=v(function*(a){var b=this,c=a.outputDeviceId;if(gW(),!c||"string"!=typeof c)throw Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=c,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(a,d){b.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:c},function(c){if(delete c.action,delete c.callbackStamp,c.error){var e=Error(c.error.message);return e.type=c.error.type,void d(e)}c.returnPreloadCache?a(b._devicesFromInputSettings(b._inputSettings)):a(c)})})}),function(a){return L.apply(this,arguments)})},{key:"getInputDevices",value:(K=v(function*(){var a=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(b){a.sendMessageToCallMachine({action:"get-input-devices"},function(c){c.returnPreloadCache?b(a._devicesFromInputSettings(a._inputSettings)):b({camera:c.camera,mic:c.mic,speaker:c.speaker})})})}),function(){return K.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return gX(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(a){if(gX(),[gB,gC].includes(a)){if(a!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=a,!this.disableReactNativeAutoDeviceManagement("audio")&&gQ(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",a)}},{key:"preAuth",value:(J=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gU(this._callObjectMode,"preAuth()"),gR(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(b)),!b.url)throw Error("preAuth() requires at least a url to be provided");return this.validateProperties(b),this.properties=gw(gw({},this.properties),b),new Promise(function(b,c){a._preloadCache.inputSettings=a._prepInputSettingsForSharing(a._inputSettings,!1),a.sendMessageToCallMachine({action:"daily-method-preauth",properties:gO(a.properties,a.callClientId),preloadCache:gO(a._preloadCache,a.callClientId)},function(d){return d.error?c(d.error):d.access?(a._didPreAuth=!0,void b({access:d.access})):c(Error("unknown error in preAuth()"))})})}),function(){return J.apply(this,arguments)})},{key:"load",value:(I=v(function*(a){var b=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");if(a&&(this.validateProperties(a),this.properties=gw(gw({},this.properties),a)),!this._callObjectMode&&!this.properties.url)throw Error("can't load iframe meeting because url property isn't set");return this._updateCallState(dB),this.emitDailyJSEvent({action:ec}),this._callObjectMode?new Promise(function(a,c){b._callObjectLoader.cancel();var d=Date.now();b._callObjectLoader.load(b.properties.dailyConfig,function(c){b._bundleLoadTime=c?"no-op":Date.now()-d,b._updateCallState(dC),c&&b.emitDailyJSEvent({action:ee}),a()},function(a,d){if(b.emitDailyJSEvent({action:ed}),!d){b._updateCallState(dG),b.resetMeetingDependentVars();var e={action:e2,errorMsg:a.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:a,bundleUrl:X(b.properties.dailyConfig)}}};b._maybeSendToSentry(e),b.emitDailyJSEvent(e),c(a.msg)}})}):(this._iframe.src=W(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(a,c){b._loadedCallback=function(d){b._callState!==dG?(b._updateCallState(dC),(b.properties.cssFile||b.properties.cssText)&&b.loadCss(b.properties),a()):c(d)}}))}}),function(a){return I.apply(this,arguments)})},{key:"join",value:(H=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var c=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(b)}catch(a){return this.updateIsPreparingToJoin(!1),Promise.reject(a)}}else{if(c=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(b.url&&!this._callObjectMode&&b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(b.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(b),this.properties=gw(gw({},this.properties),b)}return void 0!==b.showLocalVideo&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!b.showLocalVideo),void 0!==b.showParticipantsBar&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!b.showParticipantsBar),this._callState===dE||this._callState===dD?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(dD,!1),this.emitDailyJSEvent({action:eh}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:gO(this.properties,this.callClientId),preloadCache:gO(this._preloadCache,this.callClientId)}),new Promise(function(b,d){a._joinedCallback=function(e,f){if(a._callState!==dG){if(a._updateCallState(dE),e)for(var g in e){if(a._callObjectMode){var h=a._callMachine().store;f1(e[g],h),f2(e[g],h),f4(e[g],a._participants[g],h)}a._participants[g]=gw({},e[g]),a.toggleParticipantAudioBasedOnNativeAudioFocus()}c&&a.loadCss(a.properties),b(e)}else d(f)}}))}),function(){return H.apply(this,arguments)})},{key:"leave",value:(F=v(function*(){var a=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(b){a._callState===dF||a._callState===dG?b():a._callObjectLoader&&!a._callObjectLoader.loaded?(a._callObjectLoader.cancel(),a._updateCallState(dF),a.resetMeetingDependentVars(),a.emitDailyJSEvent({action:dF}),b()):(a._resolveLeave=b,a.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return F.apply(this,arguments)})},{key:"startScreenShare",value:(E=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gS(this._callMachineInitialized,"startScreenShare()"),b.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",b.screenVideoSendSettings),b.mediaStream&&(this._sharedTracks.screenMediaStream=b.mediaStream,b.mediaStream=e9),"undefined"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var c=this.nativeUtils();if(yield c.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:e1,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});c.setSystemScreenCaptureStartCallback(function(){c.setSystemScreenCaptureStartCallback(null),a.sendMessageToCallMachine({action:e6,captureOptions:b})}),c.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:e6,captureOptions:b})}),function(){return E.apply(this,arguments)})},{key:"stopScreenShare",value:function(){gS(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.type;if(b&&"cloud"!==b&&"raw-tracks"!==b&&"local"!==b)throw Error("invalid type: ".concat(b,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(gw({action:"local-recording-start"},a))}},{key:"updateRecording",value:function(a){var b=a.layout,c=void 0===b?{preset:"default"}:b,d=a.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:c,instanceId:d})}},{key:"stopRecording",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(gw({action:"local-recording-stop"},a))}},{key:"startLiveStreaming",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(gw({action:"daily-method-start-live-streaming"},a))}},{key:"updateLiveStreaming",value:function(a){var b=a.layout,c=void 0===b?{preset:"default"}:b,d=a.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:c,instanceId:d})}},{key:"addLiveStreamingEndpoints",value:function(a){var b=a.endpoints,c=a.instanceId;this.sendMessageToCallMachine({action:e7,endpointsOp:fe,endpoints:b,instanceId:c})}},{key:"removeLiveStreamingEndpoints",value:function(a){var b=a.endpoints,c=a.instanceId;this.sendMessageToCallMachine({action:e7,endpointsOp:ff,endpoints:b,instanceId:c})}},{key:"stopLiveStreaming",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(gw({action:"daily-method-stop-live-streaming"},a))}},{key:"validateDailyConfig",value:function(a){a.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(a.camSimulcastEncodings)),a.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),ft()&&a.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a){if(!(a instanceof Array||Array.isArray(a)))throw Error("encodings must be an Array");if(!hb(a.length,1,3))throw Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var d=0;d<a.length;d++){var e=a[d];for(var f in this._validateEncodingLayerHasValidProperties(e),e)if(gG.includes(f)){if("number"!=typeof e[f])throw Error("".concat(f," must be a number"));if(b){var g=b[f],h=g.min,i=g.max;if(!hb(e[f],h,i))throw Error("".concat(f," value not in range. valid range: ").concat(h," to ").concat(i))}}else if(!["active","scalabilityMode"].includes(f))throw Error("Invalid key ".concat(f,", valid keys are:")+Object.values(gG));if(c&&!e.hasOwnProperty("maxBitrate"))throw Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(C=v(function*(a){var b=this,c=a.url,d=a.settings,e=void 0===d?{state:fc.PLAY}:d;try{!function(a){if("string"!=typeof a)throw Error('url parameter must be "string" type')}(c),ha(e),function(a){for(var b in a)if(!gH.includes(b))throw Error("Invalid key ".concat(b,", valid keys are: ").concat(gH));a.simulcastEncodings&&this.validateSimulcastEncodings(a.simulcastEncodings,gF,!0)}(e)}catch(a){throw console.error("invalid argument Error: ".concat(a)),console.error('startRemoteMediaPlayer arguments must be of the form:\n  { url: "playback url",\n  settings?:\n  {state: "play"|"pause", simulcastEncodings?: [{}] } }'),a}return new Promise(function(a,d){b.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:c,settings:e},function(b){b.error?d({error:b.error,errorMsg:b.errorMsg}):a({session_id:b.session_id,remoteMediaPlayerState:{state:b.state,settings:b.settings}})})})}),function(a){return C.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(B=v(function*(a){var b=this;if("string"!=typeof a)throw Error(" remotePlayerID must be of type string");return new Promise(function(c,d){b.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:a},function(a){a.error?d({error:a.error,errorMsg:a.errorMsg}):c()})})}),function(a){return B.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(A=v(function*(a){var b=this,c=a.session_id,d=a.settings;try{ha(d)}catch(a){throw console.error("invalid argument Error: ".concat(a)),console.error('updateRemoteMediaPlayer arguments must be of the form:\n  session_id: "participant session",\n  { settings?: {state: "play"|"pause"} }'),a}return new Promise(function(a,e){b.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:c,settings:d},function(b){b.error?e({error:b.error,errorMsg:b.errorMsg}):a({session_id:b.session_id,remoteMediaPlayerState:{state:b.state,settings:b.settings}})})})}),function(a){return A.apply(this,arguments)})},{key:"startTranscription",value:function(a){gP(this._callState,"startTranscription()"),this.sendMessageToCallMachine(gw({action:"daily-method-start-transcription"},a))}},{key:"updateTranscription",value:function(a){if(gP(this._callState,"updateTranscription()"),!a)throw Error("updateTranscription Error: options is mandatory");if("object"!==l(a))throw Error("updateTranscription Error: options must be object type");if(a.participants&&!Array.isArray(a.participants))throw Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(gw({action:"daily-method-update-transcription"},a))}},{key:"stopTranscription",value:function(a){if(gP(this._callState,"stopTranscription()"),a&&"object"!==l(a))throw Error("stopTranscription Error: options must be object type");if(a&&!a.instanceId)throw Error('"instanceId" not provided');this.sendMessageToCallMachine(gw({action:"daily-method-stop-transcription"},a))}},{key:"startDialOut",value:(z=v(function*(a){var b=this;gP(this._callState,"startDialOut()");var c=function(a){if(a){if(!Array.isArray(a))throw Error("Error starting dial out: audio codec must be an array");if(a.length<=0)throw Error("Error starting dial out: audio codec array specified but empty");a.forEach(function(a){if("string"!=typeof a)throw Error("Error starting dial out: audio codec must be a string");if("OPUS"!==a&&"PCMU"!==a&&"PCMA"!==a&&"G722"!==a)throw Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!a.sipUri&&!a.phoneNumber)throw Error("Error starting dial out: either a sip uri or phone number must be provided");if(a.sipUri&&a.phoneNumber)throw Error("Error starting dial out: only one of sip uri or phone number must be provided");if(a.sipUri){if("string"!=typeof a.sipUri)throw Error("Error starting dial out: sipUri must be a string");if(!a.sipUri.startsWith("sip:"))throw Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(a.video&&"boolean"!=typeof a.video)throw Error("Error starting dial out: video must be a boolean value");!function(a){if(a&&(c(a.audio),a.video)){if(!Array.isArray(a.video))throw Error("Error starting dial out: video codec must be an array");if(a.video.length<=0)throw Error("Error starting dial out: video codec array specified but empty");a.video.forEach(function(a){if("string"!=typeof a)throw Error("Error starting dial out: video codec must be a string");if("H264"!==a&&"VP8"!==a)throw Error("Error starting dial out: video codec must be H264 or VP8")})}}(a.codecs)}if(a.phoneNumber){if("string"!=typeof a.phoneNumber)throw Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(a.phoneNumber))throw Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");a.codecs&&c(a.codecs.audio)}if(a.callerId){if("string"!=typeof a.callerId)throw Error("Error starting dial out: callerId must be a string");if(a.sipUri)throw Error("Error starting dial out: callerId not allowed with sipUri")}if(a.displayName){if("string"!=typeof a.displayName)throw Error("Error starting dial out: displayName must be a string");if(a.displayName.length>=200)throw Error("Error starting dial out: displayName length must be less than 200")}if(a.userId){if("string"!=typeof a.userId)throw Error("Error starting dial out: userId must be a string");if(a.userId.length>36)throw Error("Error starting dial out: userId length must be less than or equal to 36")}if(a.permissions&&a.permissions.canReceive){var d=x(gr.validateJSONObject(a.permissions.canReceive),2),e=d[0],f=d[1];if(!e)throw Error(f)}return new Promise(function(c,d){b.sendMessageToCallMachine(gw({action:"dialout-start"},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return z.apply(this,arguments)})},{key:"stopDialOut",value:function(a){var b=this;return gP(this._callState,"stopDialOut()"),new Promise(function(c,d){b.sendMessageToCallMachine(gw({action:"dialout-stop"},a),function(a){a.error?d(a.error):c(a)})})}},{key:"sipCallTransfer",value:(y=v(function*(a){var b=this;if(gP(this._callState,"sipCallTransfer()"),!a)throw Error("sipCallTransfer() requires a sessionId and toEndPoint");return a.useSipRefer=!1,g9(a,"sipCallTransfer"),new Promise(function(c,d){b.sendMessageToCallMachine(gw({action:fg},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return y.apply(this,arguments)})},{key:"sipRefer",value:(w=v(function*(a){var b=this;if(gP(this._callState,"sipRefer()"),!a)throw Error("sessionId and toEndPoint are mandatory parameter");return a.useSipRefer=!0,g9(a,"sipRefer"),new Promise(function(c,d){b.sendMessageToCallMachine(gw({action:fg},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return w.apply(this,arguments)})},{key:"sendDTMF",value:(u=v(function*(a){var b=this;return gP(this._callState,"sendDTMF()"),function(a){var b=a.sessionId,c=a.tones;if(!b||!c)throw Error("sessionId and tones are mandatory parameter");if("string"!=typeof b||"string"!=typeof c)throw Error("sessionId and tones should be of string type");if(c.length>20)throw Error("tones string must be upto 20 characters");var d=/[^0-9A-D*#]/g,e=c.match(d);if(e&&e[0])throw Error("".concat(e[0]," is not valid DTMF tone"))}(a),new Promise(function(c,d){b.sendMessageToCallMachine(gw({action:"send-dtmf"},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return u.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var a=this;return this._callState!==dE?Promise.resolve(gw({stats:{latest:{}}},this._network)):new Promise(function(b){a.sendMessageToCallMachine({action:"get-calc-stats"},function(c){b(gw(gw({},a._network),{},{stats:c.stats}))})})}},{key:"testWebsocketConnectivity",value:(r=v(function*(){var a=this;if(gT(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(a){return Promise.reject(a)}return new Promise(function(b,c){a.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(a){a.error?c(a.error):b(a.results)})})}),function(){return r.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(a){return a?a instanceof MediaStreamTrack?!!gh(a,{isLocalScreenVideo:!1})||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(n=v(function*(){var a=this;gW(),gU(this._callObjectMode,"testCallQuality()"),gS(this._callMachineInitialized,"testCallQuality()",null,!0),gR(this._callState,this._isPreparingToJoin,"testCallQuality()");var b=this._testCallAlreadyInProgress,c=function(c){b||(a._testCallInProgress=c)};if(c(!0),this.needsLoad())try{var d=this._callState;yield this.load(),this._callState=d}catch(a){return c(!1),Promise.reject(a)}return new Promise(function(b){a.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:a.properties.dailyJsVersion},function(d){var e=d.results,f=e.result,g=j(e,gt);if("failed"===f){var h,i=gw({},g);null!=(h=g.error)&&h.details?(g.error.details=JSON.parse(g.error.details),i.error=gw(gw({},i.error),{},{details:gw({},i.error.details)}),i.error.details.duringTest="testCallQuality"):(i.error=i.error?gw({},i.error):{},i.error.details={duringTest:"testCallQuality"}),a._maybeSendToSentry(i)}c(!1),b(gw({result:f},g))})})}),function(){return n.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(m=v(function*(a){fi()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),b=yield this.testPeerToPeerCallQuality(a)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),b=yield this.testCallQuality());var b,c={result:b.result,secondsElapsed:b.secondsElapsed};return b.data&&(c.data={maxRTT:b.data.maxRoundTripTime,packetLoss:b.data.avgRecvPacketLoss}),c}),function(a){return m.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(i=v(function*(a){var b=this;if(gT(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(a){return Promise.reject(a)}var c=a.videoTrack,d=a.duration;if(!this._validateVideoTrackForNetworkTests(c))throw Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=c,new Promise(function(a,c){b.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:d},function(b){b.error?c(b.error):a(b.results)})})}),function(a){return i.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){fi()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(h=v(function*(a){var b=this;if(gT(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(a){return Promise.reject(a)}if(!this._validateVideoTrackForNetworkTests(a))throw Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=a,new Promise(function(a,c){b.sendMessageToCallMachine({action:"test-network-connectivity"},function(b){b.error?c(b.error):a(b.results)})})}),function(a){return h.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var a=this;return new Promise(function(b){a._callState===dE?a.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(a){b(a.cpuStats)}):b({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(a){var b;if(!((null==(b=Object.keys(a))?void 0:b.length)>0))throw Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(gG))}},{key:"_validateVideoSendSettings",value:function(a,b){var c="screenVideo"===a?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],d="Video send settings should be either an object or one of the supported presets: ".concat(c.join());if("string"==typeof b){if(!c.includes(b))throw Error(d)}else{if("object"!==l(b))throw Error(d);if(!b.maxQuality&&!b.encodings&&void 0===b.allowAdaptiveLayers)throw Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(b.maxQuality&&-1===["low","medium","high"].indexOf(b.maxQuality))throw Error("maxQuality must be either low, medium or high");if(b.encodings){var e=!1;switch(Object.keys(b.encodings).length){case 1:e=!b.encodings.low;break;case 2:e=!b.encodings.low||!b.encodings.medium;break;case 3:e=!b.encodings.low||!b.encodings.medium||!b.encodings.high;break;default:e=!0}if(e)throw Error("Encodings must be defined as: low, low and medium, or low, medium and high.");b.encodings.low&&this._validateEncodingLayerHasValidProperties(b.encodings.low),b.encodings.medium&&this._validateEncodingLayerHasValidProperties(b.encodings.medium),b.encodings.high&&this._validateEncodingLayerHasValidProperties(b.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(a){var b=this;if(!a||0===Object.keys(a).length)throw Error("Send settings must contain at least information for one track!");Object.entries(a).forEach(function(a){var c=x(a,2),d=c[0],e=c[1];b._validateVideoSendSettings(d,e)})}},{key:"updateSendSettings",value:function(a){var b=this;return this.validateUpdateSendSettings(a),this.needsLoad()?(this._preloadCache.sendSettings=a,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(c,d){b.sendMessageToCallMachine({action:"update-send-settings",sendSettings:a},function(a){a.error?d(a.error):c(a.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return gW(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(a){return gW(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:a}),this}},{key:"activeSpeakerMode",value:function(){return gW(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(a){return gP(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=a,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:a}),this}},{key:"enumerateDevices",value:(g=v(function*(){var a=this;if(this._callObjectMode){var b=yield navigator.mediaDevices.enumerateDevices();return"Firefox"===fv()&&fw().major>115&&fw().major<123&&(b=b.filter(function(a){return"audiooutput"!==a.kind})),{devices:b.map(function(a){var b=JSON.parse(JSON.stringify(a));if(!fi()&&"videoinput"===a.kind&&a.getCapabilities){var c,d=a.getCapabilities();b.facing=(null==d||null==(c=d.facingMode)?void 0:c.length)>=1?d.facingMode[0]:void 0}return b})}}return new Promise(function(b){a.sendMessageToCallMachine({action:"enumerate-devices"},function(a){b({devices:a.devices})})})}),function(){return g.apply(this,arguments)})},{key:"sendAppMessage",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";if(gP(this._callState,"sendAppMessage()"),JSON.stringify(a).length>this._maxAppMessageSize)throw Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:a,to:b}),this}},{key:"addFakeParticipant",value:function(a){return gW(),gP(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(gw({action:"add-fake-participant"},a)),this}},{key:"setShowNamesMode",value:function(a){return gV(this._callObjectMode,"setShowNamesMode()"),gW(),a&&"always"!==a&&"never"!==a?console.error('setShowNamesMode argument should be "always", "never", or false'):this.sendMessageToCallMachine({action:"set-show-names",mode:a}),this}},{key:"setShowLocalVideo",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return gV(this._callObjectMode,"setShowLocalVideo()"),gW(),gP(this._callState,"setShowLocalVideo()"),"boolean"!=typeof a?console.error("setShowLocalVideo only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-local-video",show:a}),this._showLocalVideo=a),this}},{key:"showLocalVideo",value:function(){return gV(this._callObjectMode,"showLocalVideo()"),gW(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return gV(this._callObjectMode,"setShowParticipantsBar()"),gW(),gP(this._callState,"setShowParticipantsBar()"),"boolean"!=typeof a?console.error("setShowParticipantsBar only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:a}),this._showParticipantsBar=a),this}},{key:"showParticipantsBar",value:function(){return gV(this._callObjectMode,"showParticipantsBar()"),gW(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return gW(),gV(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(a){return gW(),gV(this._callObjectMode,"setCustomIntegrations()"),gP(this._callState,"setCustomIntegrations()"),g7(a)&&(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:a}),this._customIntegrations=a),this}},{key:"startCustomIntegrations",value:function(a){var b=this;if(gW(),gV(this._callObjectMode,"startCustomIntegrations()"),gP(this._callState,"startCustomIntegrations()"),Array.isArray(a)&&a.some(function(a){return"string"!=typeof a})||!Array.isArray(a)&&"string"!=typeof a)return console.error("startCustomIntegrations() only accepts string | string[]"),this;var c="string"==typeof a?[a]:a,d=c.filter(function(a){return!(a in b._customIntegrations)});return d.length?console.error("Can't find custom integration(s): \"".concat(d.join(", "),'"')):this.sendMessageToCallMachine({action:"start-custom-integrations",ids:c}),this}},{key:"stopCustomIntegrations",value:function(a){var b=this;if(gW(),gV(this._callObjectMode,"stopCustomIntegrations()"),gP(this._callState,"stopCustomIntegrations()"),Array.isArray(a)&&a.some(function(a){return"string"!=typeof a})||!Array.isArray(a)&&"string"!=typeof a)return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var c="string"==typeof a?[a]:a,d=c.filter(function(a){return!(a in b._customIntegrations)});return d.length?console.error("Can't find custom integration(s): \"".concat(d.join(", "),'"')):this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:c}),this}},{key:"customTrayButtons",value:function(){return gV(this._callObjectMode,"customTrayButtons()"),gW(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(a){return gV(this._callObjectMode,"updateCustomTrayButtons()"),gW(),gP(this._callState,"updateCustomTrayButtons()"),g6(a)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:a}),this._customTrayButtons=a):console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(gJ))),this}},{key:"theme",value:function(){return gV(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(a){var b=this;return gV(this._callObjectMode,"setTheme()"),new Promise(function(c,d){try{b.validateProperties({theme:a}),b.properties.theme=gw({},a),b.sendMessageToCallMachine({action:"set-theme",theme:b.properties.theme});try{b.emitDailyJSEvent({action:eb,theme:b.properties.theme})}catch(a){console.log("could not emit 'theme-updated'",a)}c(b.properties.theme)}catch(a){d(a)}})}},{key:"requestFullscreen",value:(f=v(function*(){if(gW(),this._iframe&&!document.fullscreenElement&&fl())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(a){console.log("could not make video call fullscreen",a)}}),function(){return f.apply(this,arguments)})},{key:"exitFullscreen",value:function(){gW(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(e=v(function*(){var a=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(b){a.sendMessageToCallMachine({action:"get-sidebar-view"},function(a){b(a.view)})})}),function(){return e.apply(this,arguments)})},{key:"setSidebarView",value:function(a){return this._callObjectMode?console.error("setSidebarView is not available in callObject mode"):this.sendMessageToCallMachine({action:"set-sidebar-view",view:a}),this}},{key:"room",value:(d=v(function*(){var a=this,b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,c=void 0===b||b;return this._accessState.access===dN||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(b){a.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:c},function(a){delete a.action,delete a.callbackStamp,b(a)})})}),function(){return d.apply(this,arguments)})},{key:"geo",value:(c=v(function*(){try{var a=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield a.json()).geo}}catch(a){return console.error("geo lookup failed",a),{current:""}}}),function(){return c.apply(this,arguments)})},{key:"setNetworkTopology",value:(b=v(function*(a){var b=this;return gW(),gP(this._callState,"setNetworkTopology()"),new Promise(function(c,d){b.sendMessageToCallMachine({action:"set-network-topology",opts:a},function(a){a.error?d({error:a.error}):c({workerId:a.workerId})})})}),function(a){return b.apply(this,arguments)})},{key:"getNetworkTopology",value:(a=v(function*(){var a=this;return new Promise(function(b,c){a.needsLoad()&&b({topology:"none"}),a.sendMessageToCallMachine({action:"get-network-topology"},function(a){a.error?c({error:a.error}):b({topology:a.topology})})})}),function(){return a.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(a){if(gW(),"number"!=typeof a&&!0!==a&&!1!==a)throw Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(a));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:a})}},{key:"on",value:function(a,b){return D.prototype.on.call(this,a,b)}},{key:"once",value:function(a,b){return D.prototype.once.call(this,a,b)}},{key:"off",value:function(a,b){return D.prototype.off.call(this,a,b)}},{key:"validateProperties",value:function(a){var b,c;if(null!=a&&null!=(b=a.dailyConfig)&&b.userMediaAudioConstraints){fi()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var d,e,f=a.inputSettings||{};f.audio=(null==(d=a.inputSettings)?void 0:d.audio)||{},f.audio.settings=(null==(e=a.inputSettings)||null==(e=e.audio)?void 0:e.settings)||{},f.audio.settings=gw(gw({},f.audio.settings),a.dailyConfig.userMediaAudioConstraints),a.inputSettings=f,delete a.dailyConfig.userMediaAudioConstraints}if(null!=a&&null!=(c=a.dailyConfig)&&c.userMediaVideoConstraints){fi()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var g,h,i=a.inputSettings||{};i.video=(null==(g=a.inputSettings)?void 0:g.video)||{},i.video.settings=(null==(h=a.inputSettings)||null==(h=h.video)?void 0:h.settings)||{},i.video.settings=gw(gw({},i.video.settings),a.dailyConfig.userMediaVideoConstraints),a.inputSettings=i,delete a.dailyConfig.userMediaVideoConstraints}for(var j in a){if(!gL[j])throw Error("unrecognized property '".concat(j,"'"));if(gL[j].validate&&!gL[j].validate(a[j],this))throw Error("property '".concat(j,"': ").concat(gL[j].help))}}},{key:"assembleMeetingUrl",value:function(){var a,b,c=gw(gw({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!=(a=this.properties.dailyConfig)&&a.proxyUrl?encodeURIComponent(null==(b=this.properties.dailyConfig)?void 0:b.proxyUrl):void 0}),d=c.url.match(/\?/)?"&":"?";return c.url+d+Object.keys(gL).filter(function(a){return gL[a].queryString&&void 0!==c[a]}).map(function(a){return"".concat(gL[a].queryString,"=").concat(c[a])}).join("&")}},{key:"needsLoad",value:function(){return[dA,dB,dF,dG].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(a,b){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(a,b,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(a){this._messageChannel.forwardPackagedMessageToCallMachine(a,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(a){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(a,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(a){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(a)}},{key:"handleMessageFromCallMachine",value:function(a){switch(a.action){case d9:this.sendMessageToCallMachine(gw({action:ea},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var b={action:e8,level:"log",code:1011,stats:{event:"bundle load",time:"no-op"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:"no-op"===this._bundleLoadTime,url:X(this.properties.dailyConfig)}};this.sendMessageToCallMachine(b),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case ee:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(a);break;case ei:var c,d=gw({},a);delete d.internal,this._maxAppMessageSize=(null==(c=a.internal)?void 0:c._maxAppMessageSize)||e3,this._joinedCallback&&(this._joinedCallback(a.participants),this._joinedCallback=null),this.emitDailyJSEvent(d);break;case ek:case el:if(this._callState===dF)return;if(a.participant&&a.participant.session_id){var e=a.participant.local?"local":a.participant.session_id;if(this._callObjectMode){var f=this._callMachine().store;f1(a.participant,f),f2(a.participant,f),f4(a.participant,this._participants[e],f)}try{this.maybeParticipantTracksStopped(this._participants[e],a.participant),this.maybeParticipantTracksStarted(this._participants[e],a.participant),this.maybeEventRecordingStopped(this._participants[e],a.participant),this.maybeEventRecordingStarted(this._participants[e],a.participant)}catch(a){console.error("track events error",a)}this.compareEqualForParticipantUpdateEvent(a.participant,this._participants[e])||(this._participants[e]=gw({},a.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(a))}break;case em:if(a.participant&&a.participant.session_id){var g=this._participants[a.participant.session_id];g&&this.maybeParticipantTracksStopped(g,null),delete this._participants[a.participant.session_id],this.emitDailyJSEvent(a)}break;case en:G(this._participantCounts,a.participantCounts)||(this._participantCounts=a.participantCounts,this.emitDailyJSEvent(a));break;case eo:var h={access:a.access};a.awaitingAccess&&(h.awaitingAccess=a.awaitingAccess),G(this._accessState,h)||(this._accessState=h,this.emitDailyJSEvent(a));break;case ep:if(a.meetingSession){this._meetingSessionSummary=a.meetingSession,this.emitDailyJSEvent(a);var i=gw(gw({},a),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(i)}break;case e2:this._iframe&&!a.preserveIframe&&(this._iframe.src=""),this._updateCallState(dG),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(a.errorMsg),this._loadedCallback=null),a.preserveIframe;var k,l=j(a,gu);null!=l&&null!=(k=l.error)&&k.details&&(l.error.details=JSON.parse(l.error.details)),this._maybeSendToSentry(a),this._joinedCallback&&(this._joinedCallback(null,l),this._joinedCallback=null),this.emitDailyJSEvent(l);break;case ej:this._callState!==dG&&this._updateCallState(dF),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(a);break;case"selected-devices-updated":a.devices&&this.emitDailyJSEvent(a);break;case eQ:var m=a.state,n=a.threshold,o=a.quality,p=m.state,q=m.reasons;p===this._network.networkState&&G(q,this._network.networkStateReasons)&&n===this._network.threshold&&o===this._network.quality||(this._network.networkState=p,this._network.networkStateReasons=q,this._network.quality=o,this._network.threshold=n,a.networkState=p,q.length&&(a.networkStateReasons=q),delete a.state,this.emitDailyJSEvent(a));break;case eS:a&&a.cpuLoadState&&this.emitDailyJSEvent(a);break;case eT:a&&void 0!==a.faceCounts&&this.emitDailyJSEvent(a);break;case eO:var r=a.activeSpeaker;this._activeSpeaker.peerId!==r.peerId&&(this._activeSpeaker.peerId=r.peerId,this.emitDailyJSEvent({action:a.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var s=a.show;this._showLocalVideo=s,this.emitDailyJSEvent({action:a.action,show:s});break;case eP:var t=a.enabled;this._activeSpeakerMode!==t&&(this._activeSpeakerMode=t,this.emitDailyJSEvent({action:a.action,enabled:this._activeSpeakerMode}));break;case es:case et:case eu:this._waitingParticipants=a.allWaitingParticipants,this.emitDailyJSEvent({action:a.action,participant:a.participant});break;case e_:G(this._receiveSettings,a.receiveSettings)||(this._receiveSettings=a.receiveSettings,this.emitDailyJSEvent({action:a.action,receiveSettings:a.receiveSettings}));break;case e0:this._maybeUpdateInputSettings(a.inputSettings);break;case"send-settings-updated":G(this._sendSettings,a.sendSettings)||(this._sendSettings=a.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:a.action,sendSettings:a.sendSettings}));break;case"local-audio-level":this._localAudioLevel=a.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(a);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=a.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(a);break;case eI:var u=a.session_id;this._rmpPlayerState[u]=a.playerState,this.emitDailyJSEvent(a);break;case eK:delete this._rmpPlayerState[a.session_id],this.emitDailyJSEvent(a);break;case eJ:var v=a.session_id,w=this._rmpPlayerState[v];w&&this.compareEqualForRMPUpdateEvent(w,a.remoteMediaPlayerState)||(this._rmpPlayerState[v]=a.remoteMediaPlayerState,this.emitDailyJSEvent(a));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(a);break;case eq:var x=this._meetingSessionState.topology!==(a.meetingSessionState&&a.meetingSessionState.topology);this._meetingSessionState=hc(a.meetingSessionState,this._callObjectMode),(this._callObjectMode||x)&&this.emitDailyJSEvent(a);break;case eL:this._isScreenSharing=!0,this.emitDailyJSEvent(a);break;case eM:case eN:this._isScreenSharing=!1,this.emitDailyJSEvent(a);break;case eA:case eB:case eC:case eD:case eE:case ex:case ey:case ez:case ef:case eg:case eG:case eH:case"test-completed":case eR:case eF:case eW:case eX:case eY:case eZ:case e1:case e$:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(a);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(a,b){var c="record";a&&(b.local||!1!==b[c]||a[c]===b[c]||this.emitDailyJSEvent({action:eB}))}},{key:"maybeEventRecordingStarted",value:function(a,b){var c="record";a&&(b.local||!0!==b[c]||a[c]===b[c]||this.emitDailyJSEvent({action:eA}))}},{key:"_trackStatePlayable",value:function(a){return!(!a||a.state!==dM)}},{key:"_trackChanged",value:function(a,b){return(null==a?void 0:a.id)!==(null==b?void 0:b.id)}},{key:"maybeEventTrackStopped",value:function(a,b,c){var d,e,f=null!=(d=null==b?void 0:b.tracks[a])?d:null,g=null!=(e=null==c?void 0:c.tracks[a])?e:null,h=null==f?void 0:f.track;if(h){var i=this._trackStatePlayable(f),j=this._trackStatePlayable(g),k=this._trackChanged(h,null==g?void 0:g.track);i&&(j&&!k||this.emitDailyJSEvent({action:ew,track:h,participant:null!=c?c:b,type:a}))}}},{key:"maybeEventTrackStarted",value:function(a,b,c){var d,e,f=null!=(d=null==b?void 0:b.tracks[a])?d:null,g=null!=(e=null==c?void 0:c.tracks[a])?e:null,h=null==g?void 0:g.track;if(h){var i=this._trackStatePlayable(f),j=this._trackStatePlayable(g),k=this._trackChanged(null==f?void 0:f.track,h);j&&(i&&!k||this.emitDailyJSEvent({action:ev,track:h,participant:c,type:a}))}}},{key:"maybeParticipantTracksStopped",value:function(a,b){if(a)for(var c in a.tracks)this.maybeEventTrackStopped(c,a,b)}},{key:"maybeParticipantTracksStarted",value:function(a,b){if(b)for(var c in b.tracks)this.maybeEventTrackStarted(c,a,b)}},{key:"compareEqualForRMPUpdateEvent",value:function(a,b){var c,d;return a.state===b.state&&(null==(c=a.settings)?void 0:c.volume)===(null==(d=b.settings)?void 0:d.volume)}},{key:"emitDailyJSEvent",value:function(a){try{a.callClientId=this.callClientId,this.emit(a.action,a)}catch(b){console.log("could not emit",a,b)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(a,b){return!!G(a,b)&&(!a.videoTrack||!b.videoTrack||a.videoTrack.id===b.videoTrack.id&&a.videoTrack.muted===b.videoTrack.muted&&a.videoTrack.enabled===b.videoTrack.enabled)&&(!a.audioTrack||!b.audioTrack||a.audioTrack.id===b.audioTrack.id&&a.audioTrack.muted===b.audioTrack.muted&&a.audioTrack.enabled===b.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return fi()?"undefined"==typeof DailyNativeUtils?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(a){this._updateCallState(this._callState,a)}},{key:"_updateCallState",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(a!==this._callState||b!==this._isPreparingToJoin){var c=this._callState,d=this._isPreparingToJoin;this._callState=a,this._isPreparingToJoin=b;var e=this._callState===dE;this.updateShowAndroidOngoingMeetingNotification(e);var f=gQ(c,d),g=gQ(this._callState,this._isPreparingToJoin);f!==g&&(this.updateKeepDeviceAwake(g),this.updateDeviceAudioMode(g),this.updateNoOpRecordingEnsuringBackgroundContinuity(g))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=gE,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:dN},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=hc(gD,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=e3,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(a){fi()&&this.nativeUtils().setKeepDeviceAwake(a,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(a){if(fi()&&!this.disableReactNativeAutoDeviceManagement("audio")){var b=a?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(b)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(a){if(fi()&&this.nativeUtils().setShowOngoingMeetingNotification){var b,c,d,e;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var f=this.properties.reactNativeConfig.androidInCallNotification;b=f.title,c=f.subtitle,d=f.iconName,e=f.disableForCustomOverride}e&&(a=!1),this.nativeUtils().setShowOngoingMeetingNotification(a,b,c,d,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(a){fi()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(a)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var a;if(fi()){var b=null==(a=this._callMachine())||null==(a=a.store)?void 0:a.getState();for(var c in null==b?void 0:b.streams){var d=b.streams[c];d&&d.pendingTrack&&"audio"===d.pendingTrack.kind&&(d.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(a){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[a]}},{key:"absoluteUrl",value:function(a){if(void 0!==a){var b=document.createElement("a");return b.href=a,b.href}}},{key:"sayHello",value:function(){var a="hello, world.";return console.log(a),a}},{key:"_logUseAfterDestroy",value:function(){var a=Object.values(gA)[0];if(this.needsLoad())if(a&&!a.needsLoad()){var b={action:e8,level:"error",code:this.strictMode?9995:9997};a.sendMessageToCallMachine(b)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var c={action:e8,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(c,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var a=0,b=Object.values(gA);a<b.length;a++){var c=b[a];c._callMachineInitialized?(c.sendMessageToCallMachine({action:e8,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),c._delayDuplicateInstanceLog=!1):c._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(a){if(!(null!=(d=a.error)&&d.type&&(![d0,d$,dY].includes(a.error.type)||a.error.type===dY&&a.error.msg.includes("deleted")))){var b=null!=(e=this.properties)&&e.url?new URL(this.properties.url):void 0,c="production";b&&b.host.includes(".staging.daily")&&(c="staging");var d,e,f,g,h,i,j,k,l,m=new c1({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:dc,stackParser:dj,integrations:(function(a){let b=[cs(),cq(),dp(),dm(),dv(),dz(),cB(),dy()];return!1!==a.autoSessionTracking&&b.push(du()),b})({}).filter(function(a){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(a.name)}),environment:c}),n=new bj;if(n.setClient(m),m.init(),this.session_id&&n.setExtra("sessionId",this.session_id),this.properties){var o=gw({},this.properties);o.userName=o.userName?"[Filtered]":void 0,o.userData=o.userData?"[Filtered]":void 0,o.token=o.token?"[Filtered]":void 0,n.setExtra("properties",o)}if(b){var p=b.searchParams.get("domain");if(!p){var q=b.host.match(/(.*?)\./);p=q&&q[1]||""}p&&n.setTag("domain",p)}a.error&&(n.setTag("fatalErrorType",a.error.type),n.setExtra("errorDetails",a.error.details),(null==(h=a.error.details)?void 0:h.uri)&&n.setTag("serverAddress",a.error.details.uri),(null==(i=a.error.details)?void 0:i.workerGroup)&&n.setTag("workerGroup",a.error.details.workerGroup),(null==(j=a.error.details)?void 0:j.geoGroup)&&n.setTag("geoGroup",a.error.details.geoGroup),(null==(k=a.error.details)?void 0:k.on)&&n.setTag("connectionAttempt",a.error.details.on),null!=(l=a.error.details)&&l.bundleUrl&&(n.setTag("bundleUrl",a.error.details.bundleUrl),n.setTag("bundleError",a.error.details.sourceError.type))),n.setTags({callMode:this._callObjectMode?fi()?"reactNative":null!=(f=this.properties)&&null!=(f=f.dailyConfig)&&null!=(f=f.callMode)&&f.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:aa.version()});var r=(null==(g=a.error)?void 0:g.msg)||a.errorMsg;n.captureException(Error(r))}}},{key:"_callMachine",value:function(){var a;return null==(a=window._daily)||null==(a=a.instances)||null==(a=a[this.callClientId])?void 0:a.callMachine}},{key:"_maybeUpdateInputSettings",value:function(a){if(!G(this._inputSettings,a)){var b=this._getInputSettings();this._inputSettings=a;var c=this._getInputSettings();G(b,c)||this.emitDailyJSEvent({action:e0,inputSettings:c})}}}],[{key:"supportedBrowser",value:function(){if(fi())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var a=T.getParser(fh());return{supported:!!fs(),mobile:"mobile"===a.getPlatformType(),name:a.getBrowserName(),version:a.getBrowserVersion(),supportsFullscreen:!!fl(),supportsScreenShare:!!fk(),supportsSfu:!!fs(),supportsVideoProcessing:fq(),supportsAudioProcessing:fr()}}},{key:"version",value:function(){return"0.83.1"}},{key:"createCallObject",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.layout="none",new aa(null,a)}},{key:"wrap",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(gW(),!a||!a.contentWindow||"string"!=typeof a.src)throw Error("DailyIframe::Wrap needs an iframe-like first argument");return b.layout||(b.customLayout?b.layout="custom-v1":b.layout="browser"),new aa(a,b)}},{key:"createFrame",value:function(a,b){gW(),a&&b?(c=a,d=b):a&&a.append?(c=a,d={}):(c=document.body,d=a||{});var c,d,e=d.iframeStyle;e||(e=c===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var f=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?f.allow="microphone, camera":f.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",f.style.visibility="hidden",c.appendChild(f),f.style.visibility=null,Object.keys(e).forEach(function(a){return f.style[a]=e[a]}),d.layout||(d.customLayout?d.layout="custom-v1":d.layout="browser");try{return new aa(f,d)}catch(a){throw c.removeChild(f),a}}},{key:"createTransparentFrame",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gW();var b=document.createElement("iframe");return b.allow="microphone; camera; autoplay",b.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 0;\n      pointer-events: none;\n    ",document.body.appendChild(b),a.layout||(a.layout="custom-v1"),aa.wrap(b,a)}},{key:"getCallInstance",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return a?gA[a]:Object.values(gA)[0]}}])}();function gO(a,b){var c={};for(var d in a)if(a[d]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",d),c[d]=e9;else if("dailyConfig"===d){if(a[d].modifyLocalSdpHook){var e=window._daily.instances[b].customCallbacks||{};e.modifyLocalSdpHook=a[d].modifyLocalSdpHook,window._daily.instances[b].customCallbacks=e,delete a[d].modifyLocalSdpHook}if(a[d].modifyRemoteSdpHook){var f=window._daily.instances[b].customCallbacks||{};f.modifyRemoteSdpHook=a[d].modifyRemoteSdpHook,window._daily.instances[b].customCallbacks=f,delete a[d].modifyRemoteSdpHook}c[d]=a[d]}else c[d]=a[d];return c}function gP(a){var b=arguments.length>2?arguments[2]:void 0;if(a!==dE){var c="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," only supported after join.");throw b&&(c+=" ".concat(b)),console.error(c),Error(c)}}function gQ(a,b){return[dD,dE].includes(a)||b}function gR(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"This daily-js method",d=arguments.length>3?arguments[3]:void 0;if(gQ(a,b)){var e="".concat(c," not supported after joining a meeting.");throw d&&(e+=" ".concat(d)),console.error(e),Error(e)}}function gS(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method",c=arguments.length>2?arguments[2]:void 0;if(!a){var d="".concat(b,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw c&&(d+=" ".concat(c)),console.error(d),Error(d)}}function gT(a){if(a){var b="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(b),Error(b)}}function gU(a){if(!a){var b="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(b),Error(b)}}function gV(a){if(a){var b="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(b),Error(b)}}function gW(){if(fi())throw Error("This daily-js method is not currently supported in React Native")}function gX(){if(!fi())throw Error("This daily-js method is only supported in React Native")}function gY(a){var b;if(void 0===a)return!0;if("string"==typeof a)b=a;else try{b=JSON.stringify(a),G(JSON.parse(b),a)||console.warn("The userData provided will be modified when serialized.")}catch(a){throw Error("userData must be serializable to JSON: ".concat(a))}if(b.length>4096)throw Error("userData is too large (".concat(b.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function gZ(a,b){for(var c=b.allowAllParticipantsKey,d=function(a){var b=["local"];return c||b.push("*"),a&&!b.includes(a)},e=function(a){return!!(void 0===a.layer||Number.isInteger(a.layer)&&a.layer>=0||"inherit"===a.layer)},f=function(a){return!!a&&!(a.video&&!e(a.video))&&!(a.screenVideo&&!e(a.screenVideo))},g=0,h=Object.entries(a);g<h.length;g++){var i=x(h[g],2),j=i[0],k=i[1];if(!d(j)||!f(k))return!1}return!0}function g$(a){if("object"!==l(a))return!1;for(var b=0,c=Object.entries(a);b<c.length;b++){var d=x(c[b],2),e=d[0],f=d[1];switch(e){case"video":if("object"!==l(f))return!1;for(var g=0,h=Object.entries(f);g<h.length;g++){var i=x(h[g],2),j=i[0],k=i[1];switch(j){case"processor":if(!g1(k))return!1;break;case"settings":if(!g2(k))return!1;break;default:return!1}}break;case"audio":if("object"!==l(f))return!1;for(var m=0,n=Object.entries(f);m<n.length;m++){var o=x(n[m],2),p=o[0],q=o[1];switch(p){case"processor":if(!g0(q))return!1;break;case"settings":if(!g2(q))return!1;break;default:return!1}}break;default:return!1}}return!0}function g_(a,b,c){var d,e=[];a.video&&a.video.processor&&(fq(null!=(d=null==b?void 0:b.useLegacyVideoProcessor)&&d)||(a.video.settings?delete a.video.processor:delete a.video,e.push("video"))),a.audio&&a.audio.processor&&(fr()||(a.audio.settings?delete a.audio.processor:delete a.audio,e.push("audio"))),e.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(e.join(", "))),a.audio&&a.audio.settings&&(a.audio.settings.customTrack?(c.audioTrack=a.audio.settings.customTrack,a.audio.settings={customTrack:e9}):delete c.audioTrack),a.video&&a.video.settings&&(a.video.settings.customTrack?(c.videoTrack=a.video.settings.customTrack,a.video.settings={customTrack:e9}):delete c.videoTrack)}function g0(a){if(fi())return console.warn("Video processing is not yet supported in React Native"),!1;var b=["type"];return!!a&&"object"===l(a)&&(Object.keys(a).filter(function(a){return!b.includes(a)}).forEach(function(b){console.warn("invalid key inputSettings -> audio -> processor : ".concat(b)),delete a[b]}),!!function(a){return"string"==typeof a&&(!!Object.values(fb).includes(a)||(console.error("inputSettings audio processor type invalid"),!1))}(a.type))}function g1(a){if(fi())return console.warn("Video processing is not yet supported in React Native"),!1;var b=["type","config"];return!!a&&"object"===l(a)&&!!function(a){return"string"==typeof a&&(!!Object.values(fa).includes(a)||(console.error("inputSettings video processor type invalid"),!1))}(a.type)&&(!a.config||"object"===l(a.config)&&!!function(a,b){var c=Object.keys(b);if(0===c.length)return!0;var d="invalid object in inputSettings -> video -> processor -> config";switch(a){case fa.BGBLUR:return c.length>1||"strength"!==c[0]?(console.error(d),!1):!("number"!=typeof b.strength||b.strength<=0||b.strength>1||isNaN(b.strength))||(console.error("".concat(d,"; expected: {0 < strength <= 1}, got: ").concat(b.strength)),!1);case fa.BGIMAGE:return!(void 0!==b.source&&!function(a){var b;return"default"===a.source?(a.type="default",!0):a.source instanceof ArrayBuffer||(Y(a.source)?(a.type="url",!!function(a){var b=new URL(a),c=b.pathname;if("data:"===b.protocol)try{var d=c.substring(c.indexOf(":")+1,c.indexOf(";")).split("/")[1];return fd.includes(d)}catch(a){return console.error("failed to deduce blob content type",a),!1}var e=c.split(".").at(-1).toLowerCase().trim();return fd.includes(e)}(a.source)||(console.error("invalid image type; supported types: [".concat(fd.join(", "),"]")),!1)):isNaN(b=Number(a.source))||!Number.isInteger(b)||b<=0||b>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0))}(b));default:return!0}}(a.type,a.config))&&(Object.keys(a).filter(function(a){return!b.includes(a)}).forEach(function(b){console.warn("invalid key inputSettings -> video -> processor : ".concat(b)),delete a[b]}),!0)}function g2(a){return"object"===l(a)&&(!a.customTrack||a.customTrack instanceof MediaStreamTrack)}function g3(){var a=Object.values(fa).join(" | "),b=Object.values(fb).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(a," ], config?: {} } }, audio?: { processor: {type: [ ").concat(b," ] } } }")}function g4(a){var b=a.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(dR).concat(b?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function g5(){return"customIntegrations should be an object of type ".concat(JSON.stringify(gK),".")}function g6(a){if(a&&"object"!==l(a)||Array.isArray(a))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(gJ),".")),!1;if(a)for(var b=0,c=Object.entries(a);b<c.length;b++)for(var d=x(c[b],1)[0],e=0,f=Object.entries(a[d]);e<f.length;e++){var g=x(f[e],2),h=g[0],i=g[1],j=gJ.id[h];if(!j)return console.error("customTrayButton does not support key ".concat(h)),!1;switch(h){case"iconPath":case"iconPathDarkMode":if(!Y(i))return console.error("customTrayButton ".concat(h," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(i))return console.error("customTrayButton ".concat(h," should be ").concat(j,". Got: ").concat(i)),!1;break;default:if(l(i)!==j)return console.error("customTrayButton ".concat(h," should be a ").concat(j,".")),!1}}return!0}function g7(a){if(!a||a&&"object"!==l(a)||Array.isArray(a))return console.error(g5()),!1;for(var b=function(a){return"".concat(a," should be ").concat(gK.id[a])},c=function(a,b){return console.error("customIntegration ".concat(a,": ").concat(b))},d=0,e=Object.entries(a);d<e.length;d++){var f=x(e[d],1)[0];if(!("label"in a[f]))return c(f,"label is required"),!1;if(!("location"in a[f]))return c(f,"location is required"),!1;if(!("src"in a[f])&&!("srcdoc"in a[f]))return c(f,"src or srcdoc is required"),!1;for(var g=0,h=Object.entries(a[f]);g<h.length;g++){var i=x(h[g],2),j=i[0],k=i[1];switch(j){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if("string"!=typeof k)return c(f,b(j)),!1;break;case"iconURL":if(!Y(k))return c(f,"".concat(j," should be a url")),!1;break;case"src":if("srcdoc"in a[f])return c(f,"cannot have both src and srcdoc"),!1;if(!Y(k))return c(f,'src "'.concat(k,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in a[f])return c(f,"cannot have both src and srcdoc"),!1;if("string"!=typeof k)return c(f,b(j)),!1;break;case"location":if(!["main","sidebar"].includes(k))return c(f,b(j)),!1;break;case"controlledBy":if("*"!==k&&"owners"!==k&&(!Array.isArray(k)||k.some(function(a){return"string"!=typeof a})))return c(f,b(j)),!1;break;case"shared":if((!Array.isArray(k)||k.some(function(a){return"string"!=typeof a}))&&"owners"!==k&&"boolean"!=typeof k)return c(f,b(j)),!1;break;default:if(!gK.id[j])return console.error("customIntegration does not support key ".concat(j)),!1}}}return!0}function g8(a,b){if(void 0===b)return!1;switch(l(b)){case"string":return l(a)===b;case"object":if("object"!==l(a))return!1;for(var c in a)if(!g8(a[c],b[c]))return!1;return!0;default:return!1}}function g9(a,b){var c=a.sessionId,d=a.toEndPoint,e=a.callerId,f=a.useSipRefer;if(!c||!d)throw Error("".concat(b,"() requires a sessionId and toEndPoint"));if("string"!=typeof c||"string"!=typeof d)throw Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(f&&!d.startsWith("sip:"))throw Error('"toEndPoint" must be a "sip" address');if(!d.startsWith("sip:")&&!d.startsWith("+"))throw Error("toEndPoint: ".concat(d,' must starts with either "sip:" or "+"'));if(e&&"string"!=typeof e)throw Error("callerId must be of type string");if(e&&!d.startsWith("+"))throw Error("callerId is only valid when transferring to a PSTN number")}function ha(a){if("object"!==l(a))throw Error('RemoteMediaPlayerSettings: must be "object" type');if(a.state&&!Object.values(fc).includes(a.state))throw Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(fc));if(a.volume){if("number"!=typeof a.volume)throw Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(a.volume<0||a.volume>2)throw Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function hb(a,b,c){return!("number"!=typeof a||a<b||a>c)}function hc(a,b){return a&&!b&&delete a.data,a}},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},74998,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.Api=c.HttpClient=c.ContentType=void 0,function(a){a.Json="application/json",a.JsonApi="application/vnd.api+json",a.FormData="multipart/form-data",a.UrlEncoded="application/x-www-form-urlencoded",a.Text="text/plain"}(d||(c.ContentType=d={}));class e{baseUrl="https://api.vapi.ai";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...a)=>fetch(...a);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(a={}){Object.assign(this,a)}setSecurityData=a=>{this.securityData=a};encodeQueryParam(a,b){let c=encodeURIComponent(a);return`${c}=${encodeURIComponent("number"==typeof b?b:`${b}`)}`}addQueryParam(a,b){return this.encodeQueryParam(b,a[b])}addArrayQueryParam(a,b){return a[b].map(a=>this.encodeQueryParam(b,a)).join("&")}toQueryString(a){let b=a||{};return Object.keys(b).filter(a=>void 0!==b[a]).map(a=>Array.isArray(b[a])?this.addArrayQueryParam(b,a):this.addQueryParam(b,a)).join("&")}addQueryParams(a){let b=this.toQueryString(a);return b?`?${b}`:""}contentFormatters={[d.Json]:a=>null!==a&&("object"==typeof a||"string"==typeof a)?JSON.stringify(a):a,[d.JsonApi]:a=>null!==a&&("object"==typeof a||"string"==typeof a)?JSON.stringify(a):a,[d.Text]:a=>null!==a&&"string"!=typeof a?JSON.stringify(a):a,[d.FormData]:a=>a instanceof FormData?a:Object.keys(a||{}).reduce((b,c)=>{let d=a[c];return b.append(c,d instanceof Blob?d:"object"==typeof d&&null!==d?JSON.stringify(d):`${d}`),b},new FormData),[d.UrlEncoded]:a=>this.toQueryString(a)};mergeRequestParams(a,b){return{...this.baseApiParams,...a,...b||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...b&&b.headers||{}}}}createAbortSignal=a=>{if(this.abortControllers.has(a)){let b=this.abortControllers.get(a);return b?b.signal:void 0}let b=new AbortController;return this.abortControllers.set(a,b),b.signal};abortRequest=a=>{let b=this.abortControllers.get(a);b&&(b.abort(),this.abortControllers.delete(a))};request=async({body:a,secure:b,path:c,type:e,query:f,format:g,baseUrl:h,cancelToken:i,...j})=>{let k=("boolean"==typeof b?b:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},l=this.mergeRequestParams(j,k),m=f&&this.toQueryString(f),n=this.contentFormatters[e||d.Json],o=g||l.format;return this.customFetch(`${h||this.baseUrl||""}${c}${m?`?${m}`:""}`,{...l,headers:{...l.headers||{},...e&&e!==d.FormData?{"Content-Type":e}:{}},signal:(i?this.createAbortSignal(i):l.signal)||null,body:null==a?null:n(a)}).then(async a=>{let b=a;b.data=null,b.error=null;let c=o?await a[o]().then(a=>(b.ok?b.data=a:b.error=a,b)).catch(a=>(b.error=a,b)):b;if(i&&this.abortControllers.delete(i),!a.ok)throw c;return c})}}c.HttpClient=e;class f extends e{assistant={assistantControllerCreate:(a,b={})=>this.request({path:"/assistant",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),assistantControllerFindAll:(a,b={})=>this.request({path:"/assistant",method:"GET",query:a,secure:!0,format:"json",...b}),assistantControllerFindOne:(a,b={})=>this.request({path:`/assistant/${a}`,method:"GET",secure:!0,format:"json",...b}),assistantControllerUpdate:(a,b,c={})=>this.request({path:`/assistant/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),assistantControllerReplace:(a,b,c={})=>this.request({path:`/assistant/${a}`,method:"PUT",body:b,secure:!0,type:d.Json,format:"json",...c}),assistantControllerRemove:(a,b={})=>this.request({path:`/assistant/${a}`,method:"DELETE",secure:!0,format:"json",...b}),assistantControllerFindVersions:(a,b,c={})=>this.request({path:`/assistant/${a}/version`,method:"GET",query:b,secure:!0,format:"json",...c})};v2={assistantControllerFindAllPaginated:(a,b={})=>this.request({path:"/v2/assistant",method:"GET",query:a,secure:!0,format:"json",...b}),callControllerCallsExport:(a,b={})=>this.request({path:"/v2/call/export",method:"GET",query:a,secure:!0,...b}),callControllerFindAllPaginated:(a,b={})=>this.request({path:"/v2/call",method:"GET",query:a,secure:!0,format:"json",...b}),callControllerFindAllMetadataPaginated:(a,b={})=>this.request({path:"/v2/call/metadata",method:"GET",query:a,secure:!0,format:"json",...b}),phoneNumberControllerFindAllPaginated:(a,b={})=>this.request({path:"/v2/phone-number",method:"GET",query:a,secure:!0,format:"json",...b})};squad={squadControllerCreate:(a,b={})=>this.request({path:"/squad",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),squadControllerFindAll:(a,b={})=>this.request({path:"/squad",method:"GET",query:a,secure:!0,format:"json",...b}),squadControllerFindOne:(a,b={})=>this.request({path:`/squad/${a}`,method:"GET",secure:!0,format:"json",...b}),squadControllerUpdate:(a,b,c={})=>this.request({path:`/squad/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),squadControllerRemove:(a,b={})=>this.request({path:`/squad/${a}`,method:"DELETE",secure:!0,format:"json",...b})};workflow={workflowControllerFindAll:(a={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...a}),workflowControllerCreate:(a,b={})=>this.request({path:"/workflow",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),workflowControllerFindOne:(a,b={})=>this.request({path:`/workflow/${a}`,method:"GET",secure:!0,format:"json",...b}),workflowControllerDelete:(a,b={})=>this.request({path:`/workflow/${a}`,method:"DELETE",secure:!0,format:"json",...b}),workflowControllerUpdate:(a,b,c={})=>this.request({path:`/workflow/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c})};call={callControllerCreate:(a,b={})=>this.request({path:"/call",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),callControllerFindAll:(a,b={})=>this.request({path:"/call",method:"GET",query:a,secure:!0,format:"json",...b}),callControllerFindOne:(a,b={})=>this.request({path:`/call/${a}`,method:"GET",secure:!0,format:"json",...b}),callControllerUpdate:(a,b,c={})=>this.request({path:`/call/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),callControllerDeleteCallData:(a,b={})=>this.request({path:`/call/${a}`,method:"DELETE",secure:!0,format:"json",...b}),callControllerCreatePhoneCall:(a,b={})=>this.request({path:"/call/phone",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),callControllerCreateWebCall:(a,b={})=>this.request({path:"/call/web",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b})};chat={chatControllerListChats:(a,b={})=>this.request({path:"/chat",method:"GET",query:a,secure:!0,format:"json",...b}),chatControllerCreateChat:(a,b={})=>this.request({path:"/chat",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),chatControllerGetChat:(a,b={})=>this.request({path:`/chat/${a}`,method:"GET",secure:!0,format:"json",...b}),chatControllerDeleteChat:(a,b={})=>this.request({path:`/chat/${a}`,method:"DELETE",secure:!0,format:"json",...b}),chatControllerCreateOpenAiChat:(a,b={})=>this.request({path:"/chat/responses",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),chatControllerCreateWebChat:(a,b={})=>this.request({path:"/chat/web",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),chatControllerCreateOpenAiWebChat:(a,b={})=>this.request({path:"/chat/web/responses",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b})};campaign={campaignControllerCreate:(a,b={})=>this.request({path:"/campaign",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),campaignControllerFindAll:(a,b={})=>this.request({path:"/campaign",method:"GET",query:a,secure:!0,format:"json",...b}),campaignControllerFindOne:(a,b={})=>this.request({path:`/campaign/${a}`,method:"GET",secure:!0,format:"json",...b}),campaignControllerUpdate:(a,b,c={})=>this.request({path:`/campaign/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),campaignControllerRemove:(a,b={})=>this.request({path:`/campaign/${a}`,method:"DELETE",secure:!0,format:"json",...b})};session={sessionControllerCreate:(a,b={})=>this.request({path:"/session",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),sessionControllerFindAllPaginated:(a,b={})=>this.request({path:"/session",method:"GET",query:a,secure:!0,format:"json",...b}),sessionControllerFindOne:(a,b={})=>this.request({path:`/session/${a}`,method:"GET",secure:!0,format:"json",...b}),sessionControllerUpdate:(a,b,c={})=>this.request({path:`/session/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),sessionControllerRemove:(a,b={})=>this.request({path:`/session/${a}`,method:"DELETE",secure:!0,format:"json",...b})};phoneNumber={phoneNumberControllerImportTwilio:(a,b={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),phoneNumberControllerImportVonage:(a,b={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),phoneNumberControllerCreate:(a,b={})=>this.request({path:"/phone-number",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),phoneNumberControllerFindAll:(a,b={})=>this.request({path:"/phone-number",method:"GET",query:a,secure:!0,format:"json",...b}),phoneNumberControllerFindOne:(a,b={})=>this.request({path:`/phone-number/${a}`,method:"GET",secure:!0,format:"json",...b}),phoneNumberControllerUpdate:(a,b,c={})=>this.request({path:`/phone-number/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),phoneNumberControllerRemove:(a,b={})=>this.request({path:`/phone-number/${a}`,method:"DELETE",secure:!0,format:"json",...b})};tool={toolControllerCreate:(a,b={})=>this.request({path:"/tool",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),toolControllerFindAll:(a,b={})=>this.request({path:"/tool",method:"GET",query:a,secure:!0,format:"json",...b}),toolControllerFindOne:(a,b={})=>this.request({path:`/tool/${a}`,method:"GET",secure:!0,format:"json",...b}),toolControllerUpdate:(a,b,c={})=>this.request({path:`/tool/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),toolControllerRemove:(a,b={})=>this.request({path:`/tool/${a}`,method:"DELETE",secure:!0,format:"json",...b})};file={fileControllerCreateDeprecated:(a,b={})=>this.request({path:"/file/upload",method:"POST",body:a,secure:!0,type:d.FormData,format:"json",...b}),fileControllerCreate:(a,b={})=>this.request({path:"/file",method:"POST",body:a,secure:!0,type:d.FormData,format:"json",...b}),fileControllerFindAll:(a={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...a}),fileControllerFindOne:(a,b={})=>this.request({path:`/file/${a}`,method:"GET",secure:!0,format:"json",...b}),fileControllerUpdate:(a,b,c={})=>this.request({path:`/file/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),fileControllerRemove:(a,b={})=>this.request({path:`/file/${a}`,method:"DELETE",secure:!0,format:"json",...b})};knowledgeBase={knowledgeBaseControllerCreate:(a,b={})=>this.request({path:"/knowledge-base",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),knowledgeBaseControllerFindAll:(a,b={})=>this.request({path:"/knowledge-base",method:"GET",query:a,secure:!0,format:"json",...b}),knowledgeBaseControllerFindOne:(a,b={})=>this.request({path:`/knowledge-base/${a}`,method:"GET",secure:!0,format:"json",...b}),knowledgeBaseControllerUpdate:(a,b,c={})=>this.request({path:`/knowledge-base/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),knowledgeBaseControllerRemove:(a,b={})=>this.request({path:`/knowledge-base/${a}`,method:"DELETE",secure:!0,format:"json",...b})};structuredOutput={structuredOutputControllerFindAll:(a,b={})=>this.request({path:"/structured-output",method:"GET",query:a,secure:!0,format:"json",...b}),structuredOutputControllerCreate:(a,b={})=>this.request({path:"/structured-output",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),structuredOutputControllerFindOne:(a,b={})=>this.request({path:`/structured-output/${a}`,method:"GET",secure:!0,format:"json",...b}),structuredOutputControllerUpdate:(a,b,c,e={})=>this.request({path:`/structured-output/${a}`,method:"PATCH",query:b,body:c,secure:!0,type:d.Json,format:"json",...e}),structuredOutputControllerRemove:(a,b={})=>this.request({path:`/structured-output/${a}`,method:"DELETE",secure:!0,format:"json",...b})};testSuite={testSuiteControllerFindAllPaginated:(a,b={})=>this.request({path:"/test-suite",method:"GET",query:a,secure:!0,format:"json",...b}),testSuiteControllerCreate:(a,b={})=>this.request({path:"/test-suite",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),testSuiteControllerFindOne:(a,b={})=>this.request({path:`/test-suite/${a}`,method:"GET",secure:!0,format:"json",...b}),testSuiteControllerUpdate:(a,b,c={})=>this.request({path:`/test-suite/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),testSuiteControllerRemove:(a,b={})=>this.request({path:`/test-suite/${a}`,method:"DELETE",secure:!0,format:"json",...b}),testSuiteTestControllerFindAllPaginated:(a,b,c={})=>this.request({path:`/test-suite/${a}/test`,method:"GET",query:b,secure:!0,format:"json",...c}),testSuiteTestControllerCreate:(a,b,c={})=>this.request({path:`/test-suite/${a}/test`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c}),testSuiteTestControllerFindOne:(a,b,c={})=>this.request({path:`/test-suite/${a}/test/${b}`,method:"GET",secure:!0,format:"json",...c}),testSuiteTestControllerUpdate:(a,b,c,e={})=>this.request({path:`/test-suite/${a}/test/${b}`,method:"PATCH",body:c,secure:!0,type:d.Json,format:"json",...e}),testSuiteTestControllerRemove:(a,b,c={})=>this.request({path:`/test-suite/${a}/test/${b}`,method:"DELETE",secure:!0,format:"json",...c}),testSuiteRunControllerFindAllPaginated:(a,b,c={})=>this.request({path:`/test-suite/${a}/run`,method:"GET",query:b,secure:!0,format:"json",...c}),testSuiteRunControllerCreate:(a,b,c={})=>this.request({path:`/test-suite/${a}/run`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c}),testSuiteRunControllerFindOne:(a,b,c={})=>this.request({path:`/test-suite/${a}/run/${b}`,method:"GET",secure:!0,format:"json",...c}),testSuiteRunControllerUpdate:(a,b,c,e={})=>this.request({path:`/test-suite/${a}/run/${b}`,method:"PATCH",body:c,secure:!0,type:d.Json,format:"json",...e}),testSuiteRunControllerRemove:(a,b,c={})=>this.request({path:`/test-suite/${a}/run/${b}`,method:"DELETE",secure:!0,format:"json",...c})};org={orgControllerCreate:(a,b={})=>this.request({path:"/org",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),orgControllerFindAll:(a={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...a}),orgControllerFeatureFlagEnabled:(a,b={})=>this.request({path:"/org/feature-flag",method:"GET",query:a,secure:!0,format:"json",...b}),orgControllerFindOne:(a,b={})=>this.request({path:`/org/${a}`,method:"GET",secure:!0,format:"json",...b}),orgControllerUpdate:(a,b,c={})=>this.request({path:`/org/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),orgControllerDeleteOrg:(a,b={})=>this.request({path:`/org/${a}`,method:"DELETE",secure:!0,...b}),orgControllerFindAllUsers:(a,b={})=>this.request({path:`/org/${a}/user`,method:"GET",secure:!0,format:"json",...b}),orgControllerOrgLeave:(a,b={})=>this.request({path:`/org/${a}/leave`,method:"DELETE",secure:!0,...b}),orgControllerOrgRemoveUser:(a,b,c={})=>this.request({path:`/org/${a}/member/${b}/leave`,method:"DELETE",secure:!0,...c}),orgControllerUsersInvite:(a,b,c={})=>this.request({path:`/org/${a}/invite`,method:"POST",body:b,secure:!0,type:d.Json,...c}),orgControllerUserUpdate:(a,b,c={})=>this.request({path:`/org/${a}/role`,method:"PATCH",body:b,secure:!0,type:d.Json,...c}),orgControllerOrgToken:(a,b={})=>this.request({path:`/org/${a}/auth`,method:"GET",secure:!0,format:"json",...b})};token={tokenControllerCreate:(a,b={})=>this.request({path:"/token",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),tokenControllerFindAll:(a,b={})=>this.request({path:"/token",method:"GET",query:a,secure:!0,format:"json",...b}),tokenControllerFindOne:(a,b={})=>this.request({path:`/token/${a}`,method:"GET",secure:!0,format:"json",...b}),tokenControllerUpdate:(a,b,c={})=>this.request({path:`/token/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),tokenControllerRemove:(a,b={})=>this.request({path:`/token/${a}`,method:"DELETE",secure:!0,format:"json",...b})};credential={credentialControllerCreate:(a,b={})=>this.request({path:"/credential",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),credentialControllerFindAll:(a,b={})=>this.request({path:"/credential",method:"GET",query:a,secure:!0,format:"json",...b}),credentialControllerFindOne:(a,b={})=>this.request({path:`/credential/${a}`,method:"GET",secure:!0,format:"json",...b}),credentialControllerUpdate:(a,b,c={})=>this.request({path:`/credential/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),credentialControllerRemove:(a,b={})=>this.request({path:`/credential/${a}`,method:"DELETE",secure:!0,format:"json",...b}),credentialControllerGenerateSession:(a,b={})=>this.request({path:"/credential/session",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),credentialControllerHandleWebhook:(a,b={})=>this.request({path:"/credential/webhook",method:"POST",body:a,type:d.Json,...b}),credentialControllerTriggerCredentialAction:(a,b={})=>this.request({path:"/credential/trigger",method:"POST",body:a,secure:!0,type:d.Json,...b})};template={templateControllerCreate:(a,b={})=>this.request({path:"/template",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),templateControllerFindAll:(a,b={})=>this.request({path:"/template",method:"GET",query:a,secure:!0,format:"json",...b}),templateControllerFindAllPinned:(a={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...a}),templateControllerFindOne:(a,b={})=>this.request({path:`/template/${a}`,method:"GET",secure:!0,format:"json",...b}),templateControllerUpdate:(a,b,c={})=>this.request({path:`/template/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),templateControllerRemove:(a,b={})=>this.request({path:`/template/${a}`,method:"DELETE",secure:!0,format:"json",...b})};voiceLibrary={voiceLibraryControllerVoiceGetByProvider:(a,b,c={})=>this.request({path:`/voice-library/${a}`,method:"GET",query:b,secure:!0,format:"json",...c}),voiceLibraryControllerVoiceGetAccentsByProvider:(a,b={})=>this.request({path:`/voice-library/${a}/accents`,method:"GET",secure:!0,format:"json",...b}),voiceLibraryControllerVoiceLibrarySyncByProvider:(a,b={})=>this.request({path:`/voice-library/sync/${a}`,method:"POST",secure:!0,format:"json",...b}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(a,b={})=>this.request({path:"/voice-library/sync",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(a,b={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:a,secure:!0,type:d.Json,...b})};provider={providerResourceControllerCreateProviderResource:(a,b,c={})=>this.request({path:`/provider/${a}/${b}`,method:"POST",secure:!0,format:"json",...c}),providerResourceControllerGetProviderResourcesPaginated:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}`,method:"GET",query:c,secure:!0,format:"json",...d}),providerResourceControllerGetProviderResource:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}/${c}`,method:"GET",secure:!0,format:"json",...d}),providerResourceControllerDeleteProviderResource:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}/${c}`,method:"DELETE",secure:!0,format:"json",...d}),providerResourceControllerUpdateProviderResource:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}/${c}`,method:"PATCH",secure:!0,format:"json",...d}),providerControllerGetWorkflows:(a,b,c={})=>this.request({path:`/${a}/workflows`,method:"GET",query:b,secure:!0,format:"json",...c}),providerControllerGetWorkflowTriggerHook:(a,b,c={})=>this.request({path:`/${a}/workflows/${b}/hooks`,method:"GET",secure:!0,format:"json",...c}),providerControllerGetLocations:(a,b={})=>this.request({path:`/${a}/locations`,method:"GET",secure:!0,format:"json",...b}),voiceProviderControllerSearchVoices:(a,b,c={})=>this.request({path:`/${a}/voices/search`,method:"GET",query:b,secure:!0,format:"json",...c}),voiceProviderControllerSearchVoice:(a,b,c={})=>this.request({path:`/${a}/voice/search`,method:"GET",query:b,secure:!0,format:"json",...c}),voiceProviderControllerAddVoices:(a,b,c={})=>this.request({path:`/${a}/voices/add`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c}),voiceProviderControllerAddVoice:(a,b,c={})=>this.request({path:`/${a}/voice/add`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c})};v11Labs={voiceProviderControllerCloneVoices:(a,b={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:a,secure:!0,type:d.FormData,...b})};analytics={analyticsControllerQuery:(a,b={})=>this.request({path:"/analytics",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b})}}c.Api=f},99451,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.client=void 0,c.client=new(a.r(74998)).Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async a=>{if(a)return{headers:{Authorization:`Bearer ${a}`}}}})},55786,(a,b,c)=>{"use strict";function d(a){if(!a)return{};let{alwaysIncludeMicInPermissionPrompt:b,...c}=a;return!1===b?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),c):a}function e(a,b){if(!a)throw Error("Call object is not available.");a.setLocalAudio(b)}async function f(a,b){if(!a)throw Error("Call object is not available.");if("audioSource"in b&&!1===b.audioSource){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");let{audioSource:c,...d}=b;await a.setInputDevicesAsync(d);return}await a.setInputDevicesAsync(b)}function g(a){return a?!1===a.audioSource?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...a,audioSource:!0}):a:{}}Object.defineProperty(c,"__esModule",{value:!0}),c.createSafeDailyConfig=d,c.safeSetLocalAudio=e,c.safeSetInputDevicesAsync=f,c.createSafeDailyFactoryOptions=g},96226,(a,b,c)=>{"use strict";var d=a.e&&a.e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});let e=d(a.r(43449)),f=d(a.r(27699)),g=a.r(99451),h=a.r(55786);async function i(a,b){a.muted=!1,a.autoplay=!0,null!=b&&(a.srcObject=new MediaStream([b]),await a.play())}async function j(a,b){let c=document.createElement("audio");return c.dataset.participantId=b,document.body.appendChild(c),await i(c,a),c}function k(a){let b=document.querySelector(`audio[data-participant-id="${a}"]`);b?.remove()}function l(a,b,c,d){a.participant.local||b.updateParticipant(a.participant.session_id,{setSubscribedTracks:{audio:!0,video:c||d}})}class m extends f.default{on(a,b){return super.on(a,b),this}once(a,b){return super.once(a,b),this}emit(a,...b){return super.emit(a,...b)}removeListener(a,b){return super.removeListener(a,b),this}removeAllListeners(a){return super.removeAllListeners(a),this}}class n extends m{started=!1;call=null;speakingTimeout=null;dailyCallConfig={};dailyCallObject={};hasEmittedCallEndedStatus=!1;constructor(a,b,c,d){super(),g.client.baseUrl=b??"https://api.vapi.ai",g.client.setSecurityData(a),this.dailyCallConfig=(0,h.createSafeDailyConfig)(c),this.dailyCallObject=(0,h.createSafeDailyFactoryOptions)(d)}cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call?.destroy(),this.call=null,this.speakingTimeout=null}isMobileDevice(){if("undefined"==typeof navigator)return!1;let a=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(a.toLowerCase())}async sleep(a){return new Promise(b=>setTimeout(b,a))}async start(a,b,c,d,f){let i=Date.now();if(!a&&!c&&!d){let a=Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",message:a.message,timestamp:new Date().toISOString()}),a}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!a,hasSquad:!!c,hasWorkflow:!!d}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});let m=Date.now(),n=(await g.client.call.callControllerCreateWebCall({assistant:"string"==typeof a?void 0:a,assistantId:"string"==typeof a?a:void 0,assistantOverrides:b,squad:"string"==typeof c?void 0:c,squadId:"string"==typeof c?c:void 0,workflow:"string"==typeof d?void 0:d,workflowId:"string"==typeof d?d:void 0,workflowOverrides:f})).data,o=Date.now()-m;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:o,timestamp:new Date().toISOString(),metadata:{callId:n?.id||"unknown",videoRecordingEnabled:n?.artifactPlan?.videoRecordingEnabled??!1,voiceProvider:n?.assistant?.voice?.provider||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),this.cleanup());let p=n?.artifactPlan?.videoRecordingEnabled??!1,q=n?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??p,isVideoRecordingEnabled:p,isVideoEnabled:q}});let r=Date.now();try{this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??p,dailyConfig:this.dailyCallConfig});let a=Date.now()-r;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-r;throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:b,timestamp:new Date().toISOString()}),b}this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),p&&this.call?.stopRecording(),this.cleanup()}),this.call.on("error",a=>{this.emit("error",a),p&&this.call?.stopRecording()}),this.call.on("camera-error",a=>{this.emit("camera-error",a)}),this.call.on("network-quality-change",a=>{this.emit("network-quality-change",a)}),this.call.on("network-connection",a=>{this.emit("network-connection",a)}),this.call.on("track-started",async a=>{!a||!a.participant||a.participant?.local||a.participant?.user_name==="Vapi Speaker"&&("video"===a.track.kind&&this.emit("video",a.track),"audio"===a.track.kind&&await j(a.track,a.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",a=>{a&&this.call&&l(a,this.call,p,q)}),this.call.on("participant-updated",a=>{a&&this.emit("daily-participant-updated",a.participant)}),this.call.on("participant-left",a=>{a&&k(a.participant.session_id)});let s=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:s}}),s){let a=Date.now();await this.sleep(1e3);let b=Date.now()-a;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let t=Date.now();try{await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});let a=Date.now()-t;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-t;throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:b,duration:a,timestamp:new Date().toISOString()}),b}if(p){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let a=new Date().getTime(),b=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let c=Date.now()-b;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:c,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let b=(new Date().getTime()-a)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:b}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:b})})}catch(c){let a=Date.now()-b;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:c?.toString()}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:c,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let u=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let a=Date.now()-u;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-u;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:b,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",a=>{a&&this.handleRemoteParticipantsAudioLevel(a)}),this.call.on("app-message",a=>this.onAppMessage(a)),this.call.on("nonfatal-error",a=>{a?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,h.safeSetLocalAudio)(this.call,!0)})}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let v=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let a=Date.now()-v;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-v;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:b,timestamp:new Date().toISOString()})}let w=Date.now()-i;return this.emit("call-start-success",{totalDuration:w,callId:n?.id||"unknown",timestamp:new Date().toISOString()}),n}catch(e){let b=Date.now()-i;return this.emit("call-start-failed",{stage:"unknown",totalDuration:b,error:e?.toString()||"Unknown error occurred",errorStack:e instanceof Error?e.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!a,hasSquad:!!c,hasWorkflow:!!d,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:e,totalDuration:b,timestamp:new Date().toISOString(),context:{hasAssistant:!!a,hasSquad:!!c,hasWorkflow:!!d,isMobile:this.isMobileDevice()}}),this.cleanup(),null}}onAppMessage(a){if(a)try{if("listening"===a.data)return this.emit("call-start");try{let b=JSON.parse(a.data);this.emit("message",b),b&&"type"in b&&"status"in b&&"status-update"===b.type&&"ended"===b.status&&(this.hasEmittedCallEndedStatus=!0)}catch(a){console.log("Error parsing message data: ",a)}}catch(a){console.error(a)}}handleRemoteParticipantsAudioLevel(a){let b=Object.values(a.participantsAudioLevel).reduce((a,b)=>a+b,0);this.emit("volume-level",Math.min(1,b/.15)),b>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}stop(){this.started=!1,this.call?.destroy(),this.call=null}send(a){this.call?.sendAppMessage(JSON.stringify(a))}setMuted(a){(0,h.safeSetLocalAudio)(this.call,!a)}isMuted(){return!!this.call&&!1===this.call.localAudio()}say(a,b,c,d){this.send({type:"say",message:a,endCallAfterSpoken:b,interruptionsEnabled:c??!1,interruptAssistantEnabled:d??!1})}setInputDevicesAsync(a){return(0,h.safeSetInputDevicesAsync)(this.call,a)}async increaseMicLevel(a){if(!this.call)throw Error("Call object is not available.");try{let b=await navigator.mediaDevices.getUserMedia({audio:!0}),c=new AudioContext,d=c.createMediaStreamSource(b),e=c.createGain();e.gain.value=a,d.connect(e);let f=c.createMediaStreamDestination();e.connect(f);let[g]=f.stream.getAudioTracks();await (0,h.safeSetInputDevicesAsync)(this.call,{audioSource:g})}catch(a){console.error("Error adjusting microphone level:",a)}}setOutputDeviceAsync(a){this.call?.setOutputDeviceAsync(a)}getDailyCallObject(){return this.call}startScreenSharing(a,b){this.call?.startScreenShare({displayMediaOptions:a,screenVideoSendSettings:b})}stopScreenSharing(){this.call?.stopScreenShare()}}c.default=n},24144,(__turbopack_context__,module,exports)=>{"undefined"!=typeof document&&"undefined"!=typeof navigator&&function(a,b){module.exports=b()}(__turbopack_context__.e,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(a){_useWebWorker=!!a},getWebWorker=function(){return _useWebWorker},setLocationHref=function(a){locationHref=a},getLocationHref=function(){return locationHref};function createTag(a){return document.createElement(a)}function extendPrototype(a,b){var c,d,e=a.length;for(c=0;c<e;c+=1)for(var f in d=a[c].prototype)Object.prototype.hasOwnProperty.call(d,f)&&(b.prototype[f]=d[f])}function getDescriptor(a,b){return Object.getOwnPropertyDescriptor(a,b)}function createProxyFunction(a){function b(){}return b.prototype=a,b}var audioControllerFactory=function(){function a(a){this.audios=[],this.audioFactory=a,this._volume=1,this._isMuted=!1}return a.prototype={addAudio:function(a){this.audios.push(a)},pause:function(){var a,b=this.audios.length;for(a=0;a<b;a+=1)this.audios[a].pause()},resume:function(){var a,b=this.audios.length;for(a=0;a<b;a+=1)this.audios[a].resume()},setRate:function(a){var b,c=this.audios.length;for(b=0;b<c;b+=1)this.audios[b].setRate(a)},createAudio:function(a){return this.audioFactory?this.audioFactory(a):window.Howl?new window.Howl({src:[a]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(a){this.audioFactory=a},setVolume:function(a){this._volume=a,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var a,b=this.audios.length;for(a=0;a<b;a+=1)this.audios[a].volume(!this._isMuted*this._volume)}},function(){return new a}}(),createTypedArray=function(){function a(a,b){var c,d=0,e=[];switch(a){case"int16":case"uint8c":c=1;break;default:c=1.1}for(d=0;d<b;d+=1)e.push(c);return e}function b(b,c){return"float32"===b?new Float32Array(c):"int16"===b?new Int16Array(c):"uint8c"===b?new Uint8ClampedArray(c):a(b,c)}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?b:a}();function createSizedArray(a){return Array.apply(null,{length:a})}function _typeof$6(a){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var a,b=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],c=b.length;for(a=0;a<c;a+=1)BMMath[b[a]]=Math[b[a]]}(),BMMath.random=Math.random,BMMath.abs=function(a){if("object"===_typeof$6(a)&&a.length){var b,c=createSizedArray(a.length),d=a.length;for(b=0;b<d;b+=1)c[b]=Math.abs(a[b]);return c}return Math.abs(a)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(a){_shouldRoundValues=!!a}function bmRnd(a){return _shouldRoundValues?Math.round(a):a}function styleDiv(a){a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.display="block",a.style.transformOrigin="0 0",a.style.webkitTransformOrigin="0 0",a.style.backfaceVisibility="visible",a.style.webkitBackfaceVisibility="visible",a.style.transformStyle="preserve-3d",a.style.webkitTransformStyle="preserve-3d",a.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(a,b,c,d){this.type=a,this.currentTime=b,this.totalTime=c,this.direction=d<0?-1:1}function BMCompleteEvent(a,b){this.type=a,this.direction=b<0?-1:1}function BMCompleteLoopEvent(a,b,c,d){this.type=a,this.currentLoop=c,this.totalLoops=b,this.direction=d<0?-1:1}function BMSegmentStartEvent(a,b,c){this.type=a,this.firstFrame=b,this.totalFrames=c}function BMDestroyEvent(a,b){this.type=a,this.target=b}function BMRenderFrameErrorEvent(a,b){this.type="renderFrameError",this.nativeError=a,this.currentTime=b}function BMConfigErrorEvent(a){this.type="configError",this.nativeError=a}function BMAnimationConfigErrorEvent(a,b){this.type=a,this.nativeError=b}var createElementID=function(){var a=0;return function(){return a+=1,idPrefix$1+"__lottie_element_"+a}}();function HSVtoRGB(a,b,c){var d,e,f,g,h,i,j,k;switch(g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b),g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return[d,e,f]}function RGBtoHSV(a,b,c){var d,e=Math.max(a,b,c),f=Math.min(a,b,c),g=e-f,h=0===e?0:g/e,i=e/255;switch(e){case f:d=0;break;case a:d=(b-c+6*(b<c)*g)/(6*g);break;case b:d=(c-a+2*g)/(6*g);break;case c:d=(a-b+4*g)/(6*g)}return[d,h,i]}function addSaturationToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[1]+=b,c[1]>1?c[1]=1:c[1]<=0&&(c[1]=0),HSVtoRGB(c[0],c[1],c[2])}function addBrightnessToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[2]+=b,c[2]>1?c[2]=1:c[2]<0&&(c[2]=0),HSVtoRGB(c[0],c[1],c[2])}function addHueToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[0]+=b/360,c[0]>1?c[0]-=1:c[0]<0&&(c[0]+=1),HSVtoRGB(c[0],c[1],c[2])}var rgbToHex=function(){var a,b,c=[];for(a=0;a<256;a+=1)b=a.toString(16),c[a]=1===b.length?"0"+b:b;return function(a,b,d){return a<0&&(a=0),b<0&&(b=0),d<0&&(d=0),"#"+c[a]+c[b]+c[d]}}(),setSubframeEnabled=function(a){subframeEnabled=!!a},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(a){expressionsPlugin=a},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(a){expressionsInterfaces=a},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(a){defaultCurveSegments=a},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(a){idPrefix$1=a},getIdPrefix=function(){return idPrefix$1};function createNS(a){return document.createElementNS(svgNS,a)}function _typeof$5(a){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var dataManager=function(){var a,b,c=1,d=[],e={onmessage:function(){},postMessage:function(b){a({data:b})}},f={postMessage:function(a){e.onmessage({data:a})}};function g(b){if(window.Worker&&window.Blob&&getWebWorker()){var c=new Blob(["var _workerSelf = self; self.onmessage = ",b.toString()],{type:"text/javascript"});return new Worker(URL.createObjectURL(c))}return a=b,e}function h(){b||((b=g(function(a){function b(){function a(b,c){var g,h,i,j,k,l,n=b.length;for(h=0;h<n;h+=1)if("ks"in(g=b[h])&&!g.completed){if(g.completed=!0,g.hasMask){var o=g.masksProperties;for(i=0,j=o.length;i<j;i+=1)if(o[i].pt.k.i)f(o[i].pt.k);else for(k=0,l=o[i].pt.k.length;k<l;k+=1)o[i].pt.k[k].s&&f(o[i].pt.k[k].s[0]),o[i].pt.k[k].e&&f(o[i].pt.k[k].e[0])}0===g.ty?(g.layers=d(g.refId,c),a(g.layers,c)):4===g.ty?e(g.shapes):5===g.ty&&m(g)}}function b(b,c){if(b){var e=0,f=b.length;for(e=0;e<f;e+=1)1===b[e].t&&(b[e].data.layers=d(b[e].data.refId,c),a(b[e].data.layers,c))}}function c(a,b){for(var c=0,d=b.length;c<d;){if(b[c].id===a)return b[c];c+=1}return null}function d(a,b){var d=c(a,b);return d?d.layers.__used?JSON.parse(JSON.stringify(d.layers)):(d.layers.__used=!0,d.layers):null}function e(a){var b,c,d;for(b=a.length-1;b>=0;b-=1)if("sh"===a[b].ty)if(a[b].ks.k.i)f(a[b].ks.k);else for(c=0,d=a[b].ks.k.length;c<d;c+=1)a[b].ks.k[c].s&&f(a[b].ks.k[c].s[0]),a[b].ks.k[c].e&&f(a[b].ks.k[c].e[0]);else"gr"===a[b].ty&&e(a[b].it)}function f(a){var b,c=a.i.length;for(b=0;b<c;b+=1)a.i[b][0]+=a.v[b][0],a.i[b][1]+=a.v[b][1],a.o[b][0]+=a.v[b][0],a.o[b][1]+=a.v[b][1]}function g(a,b){var c=b?b.split("."):[100,100,100];return a[0]>c[0]||!(c[0]>a[0])&&(a[1]>c[1]||!(c[1]>a[1])&&(a[2]>c[2]||!(c[2]>a[2])&&null))}var h=function(){var a=[4,4,14];function b(a){var b=a.t.d;a.t.d={k:[{s:b,t:0}]}}function c(a){var c,d=a.length;for(c=0;c<d;c+=1)5===a[c].ty&&b(a[c])}return function(b){if(g(a,b.v)&&(c(b.layers),b.assets)){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}(),i=function(){var a=[4,7,99];return function(b){if(b.chars&&!g(a,b.v)){var c,d=b.chars.length;for(c=0;c<d;c+=1){var f=b.chars[c];f.data&&f.data.shapes&&(e(f.data.shapes),f.data.ip=0,f.data.op=99999,f.data.st=0,f.data.sr=1,f.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},b.chars[c].t||(f.data.shapes.push({ty:"no"}),f.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),j=function(){var a=[5,7,15];function b(a){var b=a.t.p;"number"==typeof b.a&&(b.a={a:0,k:b.a}),"number"==typeof b.p&&(b.p={a:0,k:b.p}),"number"==typeof b.r&&(b.r={a:0,k:b.r})}function c(a){var c,d=a.length;for(c=0;c<d;c+=1)5===a[c].ty&&b(a[c])}return function(b){if(g(a,b.v)&&(c(b.layers),b.assets)){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}(),k=function(){var a=[4,1,9];function b(a){var c,d,e,f=a.length;for(c=0;c<f;c+=1)if("gr"===a[c].ty)b(a[c].it);else if("fl"===a[c].ty||"st"===a[c].ty)if(a[c].c.k&&a[c].c.k[0].i)for(d=0,e=a[c].c.k.length;d<e;d+=1)a[c].c.k[d].s&&(a[c].c.k[d].s[0]/=255,a[c].c.k[d].s[1]/=255,a[c].c.k[d].s[2]/=255,a[c].c.k[d].s[3]/=255),a[c].c.k[d].e&&(a[c].c.k[d].e[0]/=255,a[c].c.k[d].e[1]/=255,a[c].c.k[d].e[2]/=255,a[c].c.k[d].e[3]/=255);else a[c].c.k[0]/=255,a[c].c.k[1]/=255,a[c].c.k[2]/=255,a[c].c.k[3]/=255}function c(a){var c,d=a.length;for(c=0;c<d;c+=1)4===a[c].ty&&b(a[c].shapes)}return function(b){if(g(a,b.v)&&(c(b.layers),b.assets)){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}(),l=function(){var a=[4,4,18];function b(a){var c,d,e;for(c=a.length-1;c>=0;c-=1)if("sh"===a[c].ty)if(a[c].ks.k.i)a[c].ks.k.c=a[c].closed;else for(d=0,e=a[c].ks.k.length;d<e;d+=1)a[c].ks.k[d].s&&(a[c].ks.k[d].s[0].c=a[c].closed),a[c].ks.k[d].e&&(a[c].ks.k[d].e[0].c=a[c].closed);else"gr"===a[c].ty&&b(a[c].it)}function c(a){var c,d,e,f,g,h,i=a.length;for(d=0;d<i;d+=1){if((c=a[d]).hasMask){var j=c.masksProperties;for(e=0,f=j.length;e<f;e+=1)if(j[e].pt.k.i)j[e].pt.k.c=j[e].cl;else for(g=0,h=j[e].pt.k.length;g<h;g+=1)j[e].pt.k[g].s&&(j[e].pt.k[g].s[0].c=j[e].cl),j[e].pt.k[g].e&&(j[e].pt.k[g].e[0].c=j[e].cl)}4===c.ty&&b(c.shapes)}}return function(b){if(g(a,b.v)&&(c(b.layers),b.assets)){var d,e=b.assets.length;for(d=0;d<e;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}();function m(a){0===a.t.a.length&&a.t.p}var n={};return n.completeData=function(c){c.__complete||(k(c),h(c),i(c),j(c),l(c),a(c.layers,c.assets),b(c.chars,c.assets),c.__complete=!0)},n.checkColors=k,n.checkChars=i,n.checkPathProperties=j,n.checkShapes=l,n.completeLayers=a,n}if(f.dataManager||(f.dataManager=b()),f.assetLoader||(f.assetLoader=function(){function a(a){var b=a.getResponseHeader("content-type");return b&&"json"===a.responseType&&-1!==b.indexOf("json")||a.response&&"object"===_typeof$5(a.response)?a.response:a.response&&"string"==typeof a.response?JSON.parse(a.response):a.responseText?JSON.parse(a.responseText):null}return{load:function(b,c,d,e){var f,g=new XMLHttpRequest;try{g.responseType="json"}catch(a){}g.onreadystatechange=function(){if(4===g.readyState)if(200===g.status)d(f=a(g));else try{f=a(g),d(f)}catch(a){e&&e(a)}};try{g.open("GET",b,!0)}catch(a){g.open("GET",c+"/"+b,!0)}g.send()}}}()),"loadAnimation"===a.data.type)f.assetLoader.load(a.data.path,a.data.fullPath,function(b){f.dataManager.completeData(b),f.postMessage({id:a.data.id,payload:b,status:"success"})},function(){f.postMessage({id:a.data.id,status:"error"})});else if("complete"===a.data.type){var c=a.data.animation;f.dataManager.completeData(c),f.postMessage({id:a.data.id,payload:c,status:"success"})}else"loadData"===a.data.type&&f.assetLoader.load(a.data.path,a.data.fullPath,function(b){f.postMessage({id:a.data.id,payload:b,status:"success"})},function(){f.postMessage({id:a.data.id,status:"error"})})})).onmessage=function(a){var b=a.data,c=b.id,e=d[c];d[c]=null,"success"===b.status?e.onComplete(b.payload):e.onError&&e.onError()})}function i(a,b){var e="processId_"+(c+=1);return d[e]={onComplete:a,onError:b},e}return{loadAnimation:function(a,c,d){h();var e=i(c,d);b.postMessage({type:"loadAnimation",path:a,fullPath:window.location.origin+window.location.pathname,id:e})},loadData:function(a,c,d){h();var e=i(c,d);b.postMessage({type:"loadData",path:a,fullPath:window.location.origin+window.location.pathname,id:e})},completeAnimation:function(a,c,d){h();var e=i(c,d);b.postMessage({type:"complete",animation:a,id:e})}}}(),ImagePreloader=function(){var a=function(){var a=createTag("canvas");a.width=1,a.height=1;var b=a.getContext("2d");return b.fillStyle="rgba(0,0,0,0)",b.fillRect(0,0,1,1),a}();function b(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function c(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function d(a,b,c){var d="";if(a.e)d=a.p;else if(b){var e=a.p;-1!==e.indexOf("images/")&&(e=e.split("/")[1]),d=b+e}else d=c+(a.u?a.u:"")+a.p;return d}function e(a){var b=0,c=setInterval((function(){(a.getBBox().width||b>500)&&(this._imageLoaded(),clearInterval(c)),b+=1}).bind(this),50)}function f(a){var b={assetData:a},c=d(a,this.assetsPath,this.path);return dataManager.loadData(c,(function(a){b.img=a,this._footageLoaded()}).bind(this),(function(){b.img={},this._footageLoaded()}).bind(this)),b}function g(){this._imageLoaded=b.bind(this),this._footageLoaded=c.bind(this),this.testImageLoaded=e.bind(this),this.createFootageData=f.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return g.prototype={loadAssets:function(a,b){this.imagesLoadedCb=b;var c,d=a.length;for(c=0;c<d;c+=1)a[c].layers||(a[c].t&&"seq"!==a[c].t?3===a[c].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(a[c]))):(this.totalImages+=1,this.images.push(this._createImageData(a[c]))))},setAssetsPath:function(a){this.assetsPath=a||""},setPath:function(a){this.path=a||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(a){for(var b=0,c=this.images.length;b<c;){if(this.images[b].assetData===a)return this.images[b].img;b+=1}return null},createImgData:function(b){var c=d(b,this.assetsPath,this.path),e=createTag("img");e.crossOrigin="anonymous",e.addEventListener("load",this._imageLoaded,!1),e.addEventListener("error",(function(){f.img=a,this._imageLoaded()}).bind(this),!1),e.src=c;var f={img:e,assetData:b};return f},createImageData:function(b){var c=d(b,this.assetsPath,this.path),e=createNS("image");isSafari?this.testImageLoaded(e):e.addEventListener("load",this._imageLoaded,!1),e.addEventListener("error",(function(){f.img=a,this._imageLoaded()}).bind(this),!1),e.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this._elementHelper.append?this._elementHelper.append(e):this._elementHelper.appendChild(e);var f={img:e,assetData:b};return f},imageLoaded:b,footageLoaded:c,setCacheType:function(a,b){"svg"===a?(this._elementHelper=b,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},g}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(a,b){if(this._cbs[a])for(var c=this._cbs[a],d=0;d<c.length;d+=1)c[d](b)},addEventListener:function(a,b){return this._cbs[a]||(this._cbs[a]=[]),this._cbs[a].push(b),(function(){this.removeEventListener(a,b)}).bind(this)},removeEventListener:function(a,b){if(b){if(this._cbs[a]){for(var c=0,d=this._cbs[a].length;c<d;)this._cbs[a][c]===b&&(this._cbs[a].splice(c,1),c-=1,d-=1),c+=1;this._cbs[a].length||(this._cbs[a]=null)}}else this._cbs[a]=null}};var markerParser=function(){function a(a){for(var b,c=a.split("\r\n"),d={},e=0,f=0;f<c.length;f+=1)2===(b=c[f].split(":")).length&&(d[b[0]]=b[1].trim(),e+=1);if(0===e)throw Error();return d}return function(b){for(var c=[],d=0;d<b.length;d+=1){var e=b[d],f={time:e.tm,duration:e.dr};try{f.payload=JSON.parse(b[d].cm)}catch(c){try{f.payload=a(b[d].cm)}catch(a){f.payload={name:b[d].cm}}}c.push(f)}return c}}(),ProjectInterface=function(){function a(a){this.compositions.push(a)}return function(){function b(a){for(var b=0,c=this.compositions.length;b<c;){if(this.compositions[b].data&&this.compositions[b].data.nm===a)return this.compositions[b].prepareFrame&&this.compositions[b].data.xt&&this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}return null}return b.compositions=[],b.currentFrame=0,b.registerComposition=a,b}}(),renderers={},registerRenderer=function(a,b){renderers[a]=b};function getRenderer(a){return renderers[a]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var a in renderers)if(renderers[a])return a;return""}function _typeof$4(a){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(a){(a.wrapper||a.container)&&(this.wrapper=a.wrapper||a.container);var b="svg";a.animType?b=a.animType:a.renderer&&(b=a.renderer);var c=getRenderer(b);this.renderer=new c(this,a.rendererSettings),this.imagePreloader.setCacheType(b,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=b,""===a.loop||null===a.loop||void 0===a.loop||!0===a.loop?this.loop=!0:!1===a.loop?this.loop=!1:this.loop=parseInt(a.loop,10),this.autoplay=!("autoplay"in a)||a.autoplay,this.name=a.name?a.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(a,"autoloadSegments")||a.autoloadSegments,this.assetsPath=a.assetsPath,this.initialSegment=a.initialSegment,a.audioFactory&&this.audioController.setAudioFactory(a.audioFactory),a.animationData?this.setupAnimation(a.animationData):a.path&&(-1!==a.path.lastIndexOf("\\")?this.path=a.path.substr(0,a.path.lastIndexOf("\\")+1):this.path=a.path.substr(0,a.path.lastIndexOf("/")+1),this.fileName=a.path.substr(a.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(a.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(a){dataManager.completeAnimation(a,this.configAnimation)},AnimationItem.prototype.setData=function(a,b){b&&"object"!==_typeof$4(b)&&(b=JSON.parse(b));var c={wrapper:a,animationData:b},d=a.attributes;c.path=d.getNamedItem("data-animation-path")?d.getNamedItem("data-animation-path").value:d.getNamedItem("data-bm-path")?d.getNamedItem("data-bm-path").value:d.getNamedItem("bm-path")?d.getNamedItem("bm-path").value:"",c.animType=d.getNamedItem("data-anim-type")?d.getNamedItem("data-anim-type").value:d.getNamedItem("data-bm-type")?d.getNamedItem("data-bm-type").value:d.getNamedItem("bm-type")?d.getNamedItem("bm-type").value:d.getNamedItem("data-bm-renderer")?d.getNamedItem("data-bm-renderer").value:d.getNamedItem("bm-renderer")?d.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var e=d.getNamedItem("data-anim-loop")?d.getNamedItem("data-anim-loop").value:d.getNamedItem("data-bm-loop")?d.getNamedItem("data-bm-loop").value:d.getNamedItem("bm-loop")?d.getNamedItem("bm-loop").value:"";"false"===e?c.loop=!1:"true"===e?c.loop=!0:""!==e&&(c.loop=parseInt(e,10)),c.autoplay="false"!==(d.getNamedItem("data-anim-autoplay")?d.getNamedItem("data-anim-autoplay").value:d.getNamedItem("data-bm-autoplay")?d.getNamedItem("data-bm-autoplay").value:!d.getNamedItem("bm-autoplay")||d.getNamedItem("bm-autoplay").value),c.name=d.getNamedItem("data-name")?d.getNamedItem("data-name").value:d.getNamedItem("data-bm-name")?d.getNamedItem("data-bm-name").value:d.getNamedItem("bm-name")?d.getNamedItem("bm-name").value:"","false"===(d.getNamedItem("data-anim-prerender")?d.getNamedItem("data-anim-prerender").value:d.getNamedItem("data-bm-prerender")?d.getNamedItem("data-bm-prerender").value:d.getNamedItem("bm-prerender")?d.getNamedItem("bm-prerender").value:"")&&(c.prerender=!1),c.path?this.setParams(c):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(a){a.op>this.animationData.op&&(this.animationData.op=a.op,this.totalFrames=Math.floor(a.op-this.animationData.ip));var b,c,d=this.animationData.layers,e=d.length,f=a.layers,g=f.length;for(c=0;c<g;c+=1)for(b=0;b<e;){if(d[b].id===f[c].id){d[b]=f[c];break}b+=1}if((a.chars||a.fonts)&&(this.renderer.globalData.fontManager.addChars(a.chars),this.renderer.globalData.fontManager.addFonts(a.fonts,this.renderer.globalData.defs)),a.assets)for(b=0,e=a.assets.length;b<e;b+=1)this.animationData.assets.push(a.assets[b]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(a){this.animationData=a;var b=getExpressionsPlugin();b&&b.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var a=this.animationData.segments;if(!a||0===a.length||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var b=a.shift();this.timeCompleted=b.time*this.frameRate;var c=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(c,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(a){if(this.renderer)try{this.animationData=a,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(a),a.assets||(a.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(a.assets),this.markers=markerParser(a.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(a){this.triggerConfigError(a)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var a=getExpressionsPlugin();a&&a.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(a,b){var c="number"==typeof a?a:void 0,d="number"==typeof b?b:void 0;this.renderer.updateContainerSize(c,d)},AnimationItem.prototype.setSubframe=function(a){this.isSubframeEnabled=!!a},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(a){this.triggerRenderFrameError(a)}},AnimationItem.prototype.play=function(a){(!a||this.name===a)&&!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(a){a&&this.name!==a||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(a){a&&this.name!==a||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(a){a&&this.name!==a||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(a){for(var b,c=0;c<this.markers.length;c+=1)if((b=this.markers[c]).payload&&b.payload.name===a)return b;return null},AnimationItem.prototype.goToAndStop=function(a,b,c){if(!c||this.name===c){var d=Number(a);if(isNaN(d)){var e=this.getMarkerData(a);e&&this.goToAndStop(e.time,!0)}else b?this.setCurrentRawFrameValue(a):this.setCurrentRawFrameValue(a*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(a,b,c){if(!c||this.name===c){var d=Number(a);if(isNaN(d)){var e=this.getMarkerData(a);e&&(e.duration?this.playSegments([e.time,e.time+e.duration],!0):this.goToAndStop(e.time,!0))}else this.goToAndStop(d,b,c);this.play()}},AnimationItem.prototype.advanceTime=function(a){if(!0!==this.isPaused&&!1!==this.isLoaded){var b=this.currentRawFrame+a*this.frameModifier,c=!1;b>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?b>=this.totalFrames?(this.playCount+=1,this.checkSegments(b%this.totalFrames)||(this.setCurrentRawFrameValue(b%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(b):this.checkSegments(b>this.totalFrames?b%this.totalFrames:0)||(c=!0,b=this.totalFrames-1):b<0?this.checkSegments(b%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&!0!==this.loop)?(this.setCurrentRawFrameValue(this.totalFrames+b%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(c=!0,b=0)):this.setCurrentRawFrameValue(b),c&&(this.setCurrentRawFrameValue(b),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(a,b){this.playCount=0,a[1]<a[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=a[0]-a[1],this.timeCompleted=this.totalFrames,this.firstFrame=a[1],this.setCurrentRawFrameValue(this.totalFrames-.001-b)):a[1]>a[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=a[1]-a[0],this.timeCompleted=this.totalFrames,this.firstFrame=a[0],this.setCurrentRawFrameValue(.001+b)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(a,b){var c=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<a?c=a:this.currentRawFrame+this.firstFrame>b&&(c=b-a)),this.firstFrame=a,this.totalFrames=b-a,this.timeCompleted=this.totalFrames,-1!==c&&this.goToAndStop(c,!0)},AnimationItem.prototype.playSegments=function(a,b){if(b&&(this.segments.length=0),"object"===_typeof$4(a[0])){var c,d=a.length;for(c=0;c<d;c+=1)this.segments.push(a[c])}else this.segments.push(a);this.segments.length&&b&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(a){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),a&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(a){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),a),!0)},AnimationItem.prototype.destroy=function(a){(!a||this.name===a)&&this.renderer&&(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(a){this.currentRawFrame=a,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(a){this.playSpeed=a,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(a){this.playDirection=a<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(a){this.loop=a},AnimationItem.prototype.setVolume=function(a,b){b&&this.name!==b||this.audioController.setVolume(a)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(a){a&&this.name!==a||this.audioController.mute()},AnimationItem.prototype.unmute=function(a){a&&this.name!==a||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(a){var b="";if(a.e)b=a.p;else if(this.assetsPath){var c=a.p;-1!==c.indexOf("images/")&&(c=c.split("/")[1]),b=this.assetsPath+c}else b=this.path+(a.u?a.u:"")+a.p;return b},AnimationItem.prototype.getAssetData=function(a){for(var b=0,c=this.assets.length;b<c;){if(a===this.assets[b].id)return this.assets[b];b+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(a){return a?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(a,b,c){try{this.renderer.getElementByPath(a).updateDocumentData(b,c)}catch(a){}},AnimationItem.prototype.trigger=function(a){if(this._cbs&&this._cbs[a])switch(a){case"enterFrame":this.triggerEvent(a,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(a,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(a,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(a,new BMCompleteEvent(a,this.frameMult));break;case"segmentStart":this.triggerEvent(a,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(a,new BMDestroyEvent(a,this));break;default:this.triggerEvent(a)}"enterFrame"===a&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===a&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult)),"complete"===a&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(a,this.frameMult)),"segmentStart"===a&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames)),"destroy"===a&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(a,this))},AnimationItem.prototype.triggerRenderFrameError=function(a){var b=new BMRenderFrameErrorEvent(a,this.currentFrame);this.triggerEvent("error",b),this.onError&&this.onError.call(this,b)},AnimationItem.prototype.triggerConfigError=function(a){var b=new BMConfigErrorEvent(a,this.currentFrame);this.triggerEvent("error",b),this.onError&&this.onError.call(this,b)};var animationManager=function(){var a={},b=[],c=0,d=0,e=0,f=!0,g=!1;function h(a){for(var c=0,e=a.target;c<d;)b[c].animation===e&&(b.splice(c,1),c-=1,d-=1,e.isPaused||l()),c+=1}function i(a,c){if(!a)return null;for(var e=0;e<d;){if(b[e].elem===a&&null!==b[e].elem)return b[e].animation;e+=1}var f=new AnimationItem;return m(f,a),f.setData(a,c),f}function j(){var a,c=b.length,d=[];for(a=0;a<c;a+=1)d.push(b[a].animation);return d}function k(){e+=1,A()}function l(){e-=1}function m(a,c){a.addEventListener("destroy",h),a.addEventListener("_active",k),a.addEventListener("_idle",l),b.push({elem:c,animation:a}),d+=1}function n(a){var b=new AnimationItem;return m(b,null),b.setParams(a),b}function o(a,c){var e;for(e=0;e<d;e+=1)b[e].animation.setSpeed(a,c)}function p(a,c){var e;for(e=0;e<d;e+=1)b[e].animation.setDirection(a,c)}function q(a){var c;for(c=0;c<d;c+=1)b[c].animation.play(a)}function r(a){var h,i=a-c;for(h=0;h<d;h+=1)b[h].animation.advanceTime(i);c=a,e&&!g?window.requestAnimationFrame(r):f=!0}function s(a){c=a,window.requestAnimationFrame(r)}function t(a){var c;for(c=0;c<d;c+=1)b[c].animation.pause(a)}function u(a,c,e){var f;for(f=0;f<d;f+=1)b[f].animation.goToAndStop(a,c,e)}function v(a){var c;for(c=0;c<d;c+=1)b[c].animation.stop(a)}function w(a){var c;for(c=0;c<d;c+=1)b[c].animation.togglePause(a)}function x(a){var c;for(c=d-1;c>=0;c-=1)b[c].animation.destroy(a)}function y(a,b,c){var d,e=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),f=e.length;for(d=0;d<f;d+=1)c&&e[d].setAttribute("data-bm-type",c),i(e[d],a);if(b&&0===f){c||(c="svg");var g=document.getElementsByTagName("body")[0];g.innerText="";var h=createTag("div");h.style.width="100%",h.style.height="100%",h.setAttribute("data-bm-type",c),g.appendChild(h),i(h,a)}}function z(){var a;for(a=0;a<d;a+=1)b[a].animation.resize()}function A(){!g&&e&&f&&(window.requestAnimationFrame(s),f=!1)}function B(){g=!0}function C(){g=!1,A()}function D(a,c){var e;for(e=0;e<d;e+=1)b[e].animation.setVolume(a,c)}function E(a){var c;for(c=0;c<d;c+=1)b[c].animation.mute(a)}function F(a){var c;for(c=0;c<d;c+=1)b[c].animation.unmute(a)}return a.registerAnimation=i,a.loadAnimation=n,a.setSpeed=o,a.setDirection=p,a.play=q,a.pause=t,a.stop=v,a.togglePause=w,a.searchAnimations=y,a.resize=z,a.goToAndStop=u,a.destroy=x,a.freeze=B,a.unfreeze=C,a.setVolume=D,a.mute=E,a.unmute=F,a.getRegisteredAnimations=j,a}(),BezierFactory=function(){var a={};a.getBezierEasing=c;var b={};function c(a,c,d,e,f){var g=f||("bez_"+a+"_"+c+"_"+d+"_"+e).replace(/\./g,"p");if(b[g])return b[g];var h=new r([a,c,d,e]);return b[g]=h,h}var d=4,e=.001,f=1e-7,g=10,h=11,i=.1,j="function"==typeof Float32Array;function k(a,b){return 1-3*b+3*a}function l(a,b){return 3*b-6*a}function m(a){return 3*a}function n(a,b,c){return((k(b,c)*a+l(b,c))*a+m(b))*a}function o(a,b,c){return 3*k(b,c)*a*a+2*l(b,c)*a+m(b)}function p(a,b,c,d,e){var h,i,j=0;do(h=n(i=b+(c-b)/2,d,e)-a)>0?c=i:b=i;while(Math.abs(h)>f&&++j<g)return i}function q(a,b,c,e){for(var f=0;f<d;++f){var g=o(b,c,e);if(0===g)break;var h=n(b,c,e)-a;b-=h/g}return b}function r(a){this._p=a,this._mSampleValues=j?new Float32Array(h):Array(h),this._precomputed=!1,this.get=this.get.bind(this)}return r.prototype={get:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],e=this._p[3];return(this._precomputed||this._precompute(),b===c&&d===e)?a:0===a?0:1===a?1:n(this._getTForX(a),c,e)},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0,(a!==b||c!==d)&&this._calcSampleValues()},_calcSampleValues:function(){for(var a=this._p[0],b=this._p[2],c=0;c<h;++c)this._mSampleValues[c]=n(c*i,a,b)},_getTForX:function(a){for(var b=this._p[0],c=this._p[2],d=this._mSampleValues,f=0,g=1,j=h-1;g!==j&&d[g]<=a;++g)f+=i;var k=f+(a-d[--g])/(d[g+1]-d[g])*i,l=o(k,b,c);return l>=e?q(a,k,b,c):0===l?k:p(a,f,f+i,b,c)}},a}(),pooling=function(){return{double:function(a){return a.concat(createSizedArray(a.length))}}}(),poolFactory=function(){return function(a,b,c){var d=0,e=a,f=createSizedArray(e);return{newElement:function(){var a;return d?(d-=1,a=f[d]):a=b(),a},release:function(a){d===e&&(f=pooling.double(f),e*=2),c&&c(a),f[d]=a,d+=1}}}}(),bezierLengthPool=function(){return poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})}(),segmentsLengthPool=function(){return poolFactory(8,function(){return{lengths:[],totalLength:0}},function(a){var b,c=a.lengths.length;for(b=0;b<c;b+=1)bezierLengthPool.release(a.lengths[b]);a.lengths.length=0})}();function bezFunction(){var a=Math;function b(a,b,c,d,e,f){var g=a*d+b*e+c*f-e*d-f*a-c*b;return g>-.001&&g<.001}function c(c,d,e,f,g,h,i,j,k){if(0===e&&0===h&&0===k)return b(c,d,f,g,i,j);var l,m=a.sqrt(a.pow(f-c,2)+a.pow(g-d,2)+a.pow(h-e,2)),n=a.sqrt(a.pow(i-c,2)+a.pow(j-d,2)+a.pow(k-e,2)),o=a.sqrt(a.pow(i-f,2)+a.pow(j-g,2)+a.pow(k-h,2));return(l=m>n?m>o?m-n-o:o-n-m:o>n?o-n-m:n-m-o)>-1e-4&&l<1e-4}var d=function(){return function(a,b,c,d){var e,f,g,h,i,j,k=getDefaultCurveSegments(),l=0,m=[],n=[],o=bezierLengthPool.newElement();for(e=0,g=c.length;e<k;e+=1){for(f=0,i=e/(k-1),j=0;f<g;f+=1)h=bmPow(1-i,3)*a[f]+3*bmPow(1-i,2)*i*c[f]+3*(1-i)*bmPow(i,2)*d[f]+bmPow(i,3)*b[f],m[f]=h,null!==n[f]&&(j+=bmPow(m[f]-n[f],2)),n[f]=m[f];j&&(l+=j=bmSqrt(j)),o.percents[e]=i,o.lengths[e]=l}return o.addedLength=l,o}}();function e(a){var b,c=segmentsLengthPool.newElement(),e=a.c,f=a.v,g=a.o,h=a.i,i=a._length,j=c.lengths,k=0;for(b=0;b<i-1;b+=1)j[b]=d(f[b],f[b+1],g[b],h[b+1]),k+=j[b].addedLength;return e&&i&&(j[b]=d(f[b],f[0],g[b],h[0]),k+=j[b].addedLength),c.totalLength=k,c}function f(a){this.segmentLength=0,this.points=Array(a)}function g(a,b){this.partialLength=a,this.point=b}var h=function(){var a={};return function(c,d,e,h){var i=(c[0]+"_"+c[1]+"_"+d[0]+"_"+d[1]+"_"+e[0]+"_"+e[1]+"_"+h[0]+"_"+h[1]).replace(/\./g,"p");if(!a[i]){var j,k,l,m,n,o,p,q=getDefaultCurveSegments(),r=0,s=null;2===c.length&&(c[0]!==d[0]||c[1]!==d[1])&&b(c[0],c[1],d[0],d[1],c[0]+e[0],c[1]+e[1])&&b(c[0],c[1],d[0],d[1],d[0]+h[0],d[1]+h[1])&&(q=2);var t=new f(q);for(j=0,l=e.length;j<q;j+=1){for(k=0,p=createSizedArray(l),n=j/(q-1),o=0;k<l;k+=1)m=bmPow(1-n,3)*c[k]+3*bmPow(1-n,2)*n*(c[k]+e[k])+3*(1-n)*bmPow(n,2)*(d[k]+h[k])+bmPow(n,3)*d[k],p[k]=m,null!==s&&(o+=bmPow(p[k]-s[k],2));r+=o=bmSqrt(o),t.points[j]=new g(o,p),s=p}t.segmentLength=r,a[i]=t}return a[i]}}();function i(a,b){var c=b.percents,d=b.lengths,e=c.length,f=bmFloor((e-1)*a),g=a*b.addedLength,h=0;if(f===e-1||0===f||g===d[f])return c[f];for(var i=d[f]>g?-1:1,j=!0;j;)if(d[f]<=g&&d[f+1]>g?(h=(g-d[f])/(d[f+1]-d[f]),j=!1):f+=i,f<0||f>=e-1){if(f===e-1)return c[f];j=!1}return c[f]+(c[f+1]-c[f])*h}function j(b,c,d,e,f,g){var h=i(f,g),j=1-h;return[a.round((j*j*j*b[0]+(h*j*j+j*h*j+j*j*h)*d[0]+(h*h*j+j*h*h+h*j*h)*e[0]+h*h*h*c[0])*1e3)/1e3,a.round((j*j*j*b[1]+(h*j*j+j*h*j+j*j*h)*d[1]+(h*h*j+j*h*h+h*j*h)*e[1]+h*h*h*c[1])*1e3)/1e3]}var k=createTypedArray("float32",8);return{getSegmentsLength:e,getNewSegment:function(b,c,d,e,f,g,h){f<0?f=0:f>1&&(f=1);var j,l=i(f,h),m=i(g=g>1?1:g,h),n=b.length,o=1-l,p=1-m,q=o*o*o,r=l*o*o*3,s=l*l*o*3,t=l*l*l,u=o*o*p,v=l*o*p+o*l*p+o*o*m,w=l*l*p+o*l*m+l*o*m,x=l*l*m,y=o*p*p,z=l*p*p+o*m*p+o*p*m,A=l*m*p+o*m*m+l*p*m,B=l*m*m,C=p*p*p,D=m*p*p+p*m*p+p*p*m,E=m*m*p+p*m*m+m*p*m,F=m*m*m;for(j=0;j<n;j+=1)k[4*j]=a.round((q*b[j]+r*d[j]+s*e[j]+t*c[j])*1e3)/1e3,k[4*j+1]=a.round((u*b[j]+v*d[j]+w*e[j]+x*c[j])*1e3)/1e3,k[4*j+2]=a.round((y*b[j]+z*d[j]+A*e[j]+B*c[j])*1e3)/1e3,k[4*j+3]=a.round((C*b[j]+D*d[j]+E*e[j]+F*c[j])*1e3)/1e3;return k},getPointInSegment:j,buildBezierData:h,pointOnLine2D:b,pointOnLine3D:c}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(a,b){var c,d,e,f,g,h=this.offsetTime;"multidimensional"===this.propType&&(q=createTypedArray("float32",this.pv.length));for(var i=b.lastIndex,j=i,k=this.keyframes.length-1,l=!0;l;){if(r=this.keyframes[j],s=this.keyframes[j+1],j===k-1&&a>=s.t-h){r.h&&(r=s),i=0;break}if(s.t-h>a){i=j;break}j<k-1?j+=1:(i=0,l=!1)}t=this.keyframesMetadata[j]||{};var m=s.t-h,n=r.t-h;if(r.to){t.bezierData||(t.bezierData=bez.buildBezierData(r.s,s.s||r.e,r.to,r.ti));var o=t.bezierData;if(a>=m||a<n){var p=a>=m?o.points.length-1:0;for(u=0,v=o.points[p].point.length;u<v;u+=1)q[u]=o.points[p].point[u]}else{t.__fnct?y=t.__fnct:t.__fnct=y=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get;var q,r,s,t,u,v,w,x,y,z,A,B=y((a-n)/(m-n)),C=o.segmentLength*B,D=b.lastFrame<a&&b._lastKeyframeIndex===j?b._lastAddedLength:0;for(x=b.lastFrame<a&&b._lastKeyframeIndex===j?b._lastPoint:0,l=!0,w=o.points.length;l;){if(D+=o.points[x].partialLength,0===C||0===B||x===o.points.length-1){for(u=0,v=o.points[x].point.length;u<v;u+=1)q[u]=o.points[x].point[u];break}if(C>=D&&C<D+o.points[x+1].partialLength){for(u=0,A=(C-D)/o.points[x+1].partialLength,v=o.points[x].point.length;u<v;u+=1)q[u]=o.points[x].point[u]+(o.points[x+1].point[u]-o.points[x].point[u])*A;break}x<w-1?x+=1:l=!1}b._lastPoint=x,b._lastAddedLength=D-o.points[x].partialLength,b._lastKeyframeIndex=j}}else if(k=r.s.length,z=s.s||r.e,this.sh&&1!==r.h)a>=m?(q[0]=z[0],q[1]=z[1],q[2]=z[2]):a<=n?(q[0]=r.s[0],q[1]=r.s[1],q[2]=r.s[2]):quaternionToEuler(q,slerp(createQuaternion(r.s),createQuaternion(z),(a-n)/(m-n)));else for(j=0;j<k;j+=1)1!==r.h&&(a>=m?B=1:a<n?B=0:(r.o.x.constructor===Array?(t.__fnct||(t.__fnct=[]),t.__fnct[j]?y=t.__fnct[j]:(c=void 0===r.o.x[j]?r.o.x[0]:r.o.x[j],d=void 0===r.o.y[j]?r.o.y[0]:r.o.y[j],e=void 0===r.i.x[j]?r.i.x[0]:r.i.x[j],f=void 0===r.i.y[j]?r.i.y[0]:r.i.y[j],y=BezierFactory.getBezierEasing(c,d,e,f).get,t.__fnct[j]=y)):t.__fnct?y=t.__fnct:(c=r.o.x,d=r.o.y,e=r.i.x,f=r.i.y,y=BezierFactory.getBezierEasing(c,d,e,f).get,r.keyframeMetadata=y),B=y((a-n)/(m-n)))),z=s.s||r.e,g=1===r.h?r.s[j]:r.s[j]+(z[j]-r.s[j])*B,"multidimensional"===this.propType?q[j]=g:q=g;return b.lastIndex=i,q}function slerp(a,b,c){var d,e,f,g,h,i=[],j=a[0],k=a[1],l=a[2],m=a[3],n=b[0],o=b[1],p=b[2],q=b[3];return(e=j*n+k*o+l*p+m*q)<0&&(e=-e,n=-n,o=-o,p=-p,q=-q),1-e>1e-6?(f=Math.sin(d=Math.acos(e)),g=Math.sin((1-c)*d)/f,h=Math.sin(c*d)/f):(g=1-c,h=c),i[0]=g*j+h*n,i[1]=g*k+h*o,i[2]=g*l+h*p,i[3]=g*m+h*q,i}function quaternionToEuler(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=Math.atan2(2*d*f-2*c*e,1-2*d*d-2*e*e),h=Math.asin(2*c*d+2*e*f),i=Math.atan2(2*c*f-2*d*e,1-2*c*c-2*e*e);a[0]=g/degToRads,a[1]=h/degToRads,a[2]=i/degToRads}function createQuaternion(a){var b=a[0]*degToRads,c=a[1]*degToRads,d=a[2]*degToRads,e=Math.cos(b/2),f=Math.cos(c/2),g=Math.cos(d/2),h=Math.sin(b/2),i=Math.sin(c/2),j=Math.sin(d/2),k=e*f*g-h*i*j;return[h*i*g+e*f*j,h*f*g+e*i*j,e*i*g-h*f*j,k]}function getValueAtCurrentTime(){var a=this.comp.renderedFrame-this.offsetTime,b=this.keyframes[0].t-this.offsetTime,c=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(a===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=c&&a>=c||this._caching.lastFrame<b&&a<b))){this._caching.lastFrame>=a&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var d=this.interpolateValue(a,this._caching);this.pv=d}return this._caching.lastFrame=a,this.pv}function setVValue(a){var b;if("unidimensional"===this.propType)b=a*this.mult,mathAbs(this.v-b)>1e-5&&(this.v=b,this._mdf=!0);else for(var c=0,d=this.v.length;c<d;)b=a[c]*this.mult,mathAbs(this.v[c]-b)>1e-5&&(this.v[c]=b,this._mdf=!0),c+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var a,b=this.effectsSequence.length,c=this.kf?this.pv:this.data.k;for(a=0;a<b;a+=1)c=this.effectsSequence[a](c);this.setVValue(c),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}function ValueProperty(a,b,c,d){this.propType="unidimensional",this.mult=c||1,this.data=b,this.v=c?b.k*c:b.k,this.pv=b.k,this._mdf=!1,this.elem=a,this.container=d,this.comp=a.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(a,b,c,d){this.propType="multidimensional",this.mult=c||1,this.data=b,this._mdf=!1,this.elem=a,this.container=d,this.comp=a.comp,this.k=!1,this.kf=!1,this.frameId=-1;var e,f=b.k.length;for(e=0,this.v=createTypedArray("float32",f),this.pv=createTypedArray("float32",f),this.vel=createTypedArray("float32",f);e<f;e+=1)this.v[e]=b.k[e]*this.mult,this.pv[e]=b.k[e];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(a,b,c,d){this.propType="unidimensional",this.keyframes=b.k,this.keyframesMetadata=[],this.offsetTime=a.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=b,this.mult=c||1,this.elem=a,this.container=d,this.comp=a.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(a,b,c,d){this.propType="multidimensional";var e,f,g,h,i,j=b.k.length;for(e=0;e<j-1;e+=1)b.k[e].to&&b.k[e].s&&b.k[e+1]&&b.k[e+1].s&&(f=b.k[e].s,g=b.k[e+1].s,h=b.k[e].to,i=b.k[e].ti,(2===f.length&&(f[0]!==g[0]||f[1]!==g[1])&&bez.pointOnLine2D(f[0],f[1],g[0],g[1],f[0]+h[0],f[1]+h[1])&&bez.pointOnLine2D(f[0],f[1],g[0],g[1],g[0]+i[0],g[1]+i[1])||3===f.length&&(f[0]!==g[0]||f[1]!==g[1]||f[2]!==g[2])&&bez.pointOnLine3D(f[0],f[1],f[2],g[0],g[1],g[2],f[0]+h[0],f[1]+h[1],f[2]+h[2])&&bez.pointOnLine3D(f[0],f[1],f[2],g[0],g[1],g[2],g[0]+i[0],g[1]+i[1],g[2]+i[2]))&&(b.k[e].to=null,b.k[e].ti=null),f[0]===g[0]&&f[1]===g[1]&&0===h[0]&&0===h[1]&&0===i[0]&&0===i[1]&&(2===f.length||f[2]===g[2]&&0===h[2]&&0===i[2])&&(b.k[e].to=null,b.k[e].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=b,this.keyframes=b.k,this.keyframesMetadata=[],this.offsetTime=a.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=c||1,this.elem=a,this.container=d,this.comp=a.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var k=b.k[0].s.length;for(e=0,this.v=createTypedArray("float32",k),this.pv=createTypedArray("float32",k);e<k;e+=1)this.v[e]=initFrame,this.pv[e]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",k)},this.addEffect=addEffect}var PropertyFactory=function(){return{getProp:function(a,b,c,d,e){var f;if(b.sid&&(b=a.globalData.slotManager.getProp(b)),b.k.length)if("number"==typeof b.k[0])f=new MultiDimensionalProperty(a,b,d,e);else switch(c){case 0:f=new KeyframedValueProperty(a,b,d,e);break;case 1:f=new KeyframedMultidimensionalProperty(a,b,d,e)}else f=new ValueProperty(a,b,d,e);return f.effectsSequence.length&&e.addDynamicProperty(f),f}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(a){-1===this.dynamicProperties.indexOf(a)&&(this.dynamicProperties.push(a),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var a,b=this.dynamicProperties.length;for(a=0;a<b;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(a){this.container=a,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){return poolFactory(8,function(){return createTypedArray("float32",2)})}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(a,b){this.c=a,this.setLength(b);for(var c=0;c<b;)this.v[c]=pointPool.newElement(),this.o[c]=pointPool.newElement(),this.i[c]=pointPool.newElement(),c+=1},ShapePath.prototype.setLength=function(a){for(;this._maxLength<a;)this.doubleArrayLength();this._length=a},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(a,b,c,d,e){var f;switch(this._length=Math.max(this._length,d+1),this._length>=this._maxLength&&this.doubleArrayLength(),c){case"v":f=this.v;break;case"i":f=this.i;break;case"o":f=this.o;break;default:f=[]}f[d]&&(!f[d]||e)||(f[d]=pointPool.newElement()),f[d][0]=a,f[d][1]=b},ShapePath.prototype.setTripleAt=function(a,b,c,d,e,f,g,h){this.setXYAt(a,b,"v",g,h),this.setXYAt(c,d,"o",g,h),this.setXYAt(e,f,"i",g,h)},ShapePath.prototype.reverse=function(){var a,b=new ShapePath;b.setPathData(this.c,this._length);var c=this.v,d=this.o,e=this.i,f=0;this.c&&(b.setTripleAt(c[0][0],c[0][1],e[0][0],e[0][1],d[0][0],d[0][1],0,!1),f=1);var g=this._length-1,h=this._length;for(a=f;a<h;a+=1)b.setTripleAt(c[g][0],c[g][1],e[g][0],e[g][1],d[g][0],d[g][1],a,!1),g-=1;return b},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function a(a){var c,d=b.newElement(),e=void 0===a._length?a.v.length:a._length;for(d.setLength(e),d.c=a.c,c=0;c<e;c+=1)d.setTripleAt(a.v[c][0],a.v[c][1],a.o[c][0],a.o[c][1],a.i[c][0],a.i[c][1],c);return d}var b=poolFactory(4,function(){return new ShapePath},function(a){var b,c=a._length;for(b=0;b<c;b+=1)pointPool.release(a.v[b]),pointPool.release(a.i[b]),pointPool.release(a.o[b]),a.v[b]=null,a.i[b]=null,a.o[b]=null;a._length=0,a.c=!1});return b.clone=a,b}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(a){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=a,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var a;for(a=0;a<this._length;a+=1)shapePool.release(this.shapes[a]);this._length=0};var shapeCollectionPool=function(){var a={newShapeCollection:e,release:f},b=0,c=4,d=createSizedArray(4);function e(){var a;return b?(b-=1,a=d[b]):a=new ShapeCollection,a}function f(a){var e,f=a._length;for(e=0;e<f;e+=1)shapePool.release(a.shapes[e]);a._length=0,b===c&&(d=pooling.double(d),c*=2),d[b]=a,b+=1}return a}(),ShapePropertyFactory=function(){var a=-999999;function b(a,b,c){var d=c.lastIndex,e=this.keyframes;if(a<e[0].t-this.offsetTime)f=e[0].s[0],h=!0,d=0;else if(a>=e[e.length-1].t-this.offsetTime)f=e[e.length-1].s?e[e.length-1].s[0]:e[e.length-2].e[0],h=!0;else{for(var f,g,h,i,j,k,l,m,n,o,p,q,r,s=d,t=e.length-1,u=!0;u&&(o=e[s],!((p=e[s+1]).t-this.offsetTime>a));)s<t-1?s+=1:u=!1;q=this.keyframesMetadata[s]||{},h=1===o.h,d=s,h||(a>=p.t-this.offsetTime?m=1:a<o.t-this.offsetTime?m=0:(q.__fnct?r=q.__fnct:q.__fnct=r=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,m=r((a-(o.t-this.offsetTime))/(p.t-this.offsetTime-(o.t-this.offsetTime)))),g=p.s?p.s[0]:o.e[0]),f=o.s[0]}for(i=0,k=b._length,l=f.i[0].length,c.lastIndex=d;i<k;i+=1)for(j=0;j<l;j+=1)n=h?f.i[i][j]:f.i[i][j]+(g.i[i][j]-f.i[i][j])*m,b.i[i][j]=n,n=h?f.o[i][j]:f.o[i][j]+(g.o[i][j]-f.o[i][j])*m,b.o[i][j]=n,n=h?f.v[i][j]:f.v[i][j]+(g.v[i][j]-f.v[i][j])*m,b.v[i][j]=n}function c(){var b=this.comp.renderedFrame-this.offsetTime,c=this.keyframes[0].t-this.offsetTime,d=this.keyframes[this.keyframes.length-1].t-this.offsetTime,e=this._caching.lastFrame;return e!==a&&(e<c&&b<c||e>d&&b>d)||(this._caching.lastIndex=e<b?this._caching.lastIndex:0,this.interpolateShape(b,this.pv,this._caching)),this._caching.lastFrame=b,this.pv}function d(){this.paths=this.localShapeCollection}function e(a,b){if(a._length!==b._length||a.c!==b.c)return!1;var c,d=a._length;for(c=0;c<d;c+=1)if(a.v[c][0]!==b.v[c][0]||a.v[c][1]!==b.v[c][1]||a.o[c][0]!==b.o[c][0]||a.o[c][1]!==b.o[c][1]||a.i[c][0]!==b.i[c][0]||a.i[c][1]!==b.i[c][1])return!1;return!0}function f(a){e(this.v,a)||(this.v=shapePool.clone(a),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function g(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=!1,a=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var a,b,c=this.effectsSequence.length;for(b=0;b<c;b+=1)a=this.effectsSequence[b](a);this.setVValue(a),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function h(a,b,c){this.propType="shape",this.comp=a.comp,this.container=a,this.elem=a,this.data=b,this.k=!1,this.kf=!1,this._mdf=!1;var e=3===c?b.pt.k:b.ks.k;this.v=shapePool.clone(e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=d,this.effectsSequence=[]}function i(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}function j(b,e,f){this.propType="shape",this.comp=b.comp,this.elem=b,this.container=b,this.offsetTime=b.data.st,this.keyframes=3===f?e.pt.k:e.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var g=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,g),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=a,this.reset=d,this._caching={lastFrame:a,lastIndex:0},this.effectsSequence=[c.bind(this)]}h.prototype.interpolateShape=b,h.prototype.getValue=g,h.prototype.setVValue=f,h.prototype.addEffect=i,j.prototype.getValue=g,j.prototype.interpolateShape=b,j.prototype.setVValue=f,j.prototype.addEffect=i;var k=function(){var a=roundCorner;function b(a,b){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=b.d,this.elem=a,this.comp=a.comp,this.frameId=-1,this.initDynamicPropertyContainer(a),this.p=PropertyFactory.getProp(a,b.p,1,0,this),this.s=PropertyFactory.getProp(a,b.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return b.prototype={reset:d,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var b=this.p.v[0],c=this.p.v[1],d=this.s.v[0]/2,e=this.s.v[1]/2,f=3!==this.d,g=this.v;g.v[0][0]=b,g.v[0][1]=c-e,g.v[1][0]=f?b+d:b-d,g.v[1][1]=c,g.v[2][0]=b,g.v[2][1]=c+e,g.v[3][0]=f?b-d:b+d,g.v[3][1]=c,g.i[0][0]=f?b-d*a:b+d*a,g.i[0][1]=c-e,g.i[1][0]=f?b+d:b-d,g.i[1][1]=c-e*a,g.i[2][0]=f?b+d*a:b-d*a,g.i[2][1]=c+e,g.i[3][0]=f?b-d:b+d,g.i[3][1]=c+e*a,g.o[0][0]=f?b+d*a:b-d*a,g.o[0][1]=c-e,g.o[1][0]=f?b+d:b-d,g.o[1][1]=c+e*a,g.o[2][0]=f?b-d*a:b+d*a,g.o[2][1]=c+e,g.o[3][0]=f?b-d:b+d,g.o[3][1]=c-e*a}},extendPrototype([DynamicPropertyContainer],b),b}(),l=function(){function a(a,b){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=a,this.comp=a.comp,this.data=b,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(a),1===b.sy?(this.ir=PropertyFactory.getProp(a,b.ir,0,0,this),this.is=PropertyFactory.getProp(a,b.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(a,b.pt,0,0,this),this.p=PropertyFactory.getProp(a,b.p,1,0,this),this.r=PropertyFactory.getProp(a,b.r,0,degToRads,this),this.or=PropertyFactory.getProp(a,b.or,0,0,this),this.os=PropertyFactory.getProp(a,b.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return a.prototype={reset:d,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var a,b,c,d,e=2*Math.floor(this.pt.v),f=2*Math.PI/e,g=!0,h=this.or.v,i=this.ir.v,j=this.os.v,k=this.is.v,l=2*Math.PI*h/(2*e),m=2*Math.PI*i/(2*e),n=-Math.PI/2;n+=this.r.v;var o=3===this.data.d?-1:1;for(a=0,this.v._length=0;a<e;a+=1){b=g?h:i,c=g?j:k,d=g?l:m;var p=b*Math.cos(n),q=b*Math.sin(n),r=0===p&&0===q?0:q/Math.sqrt(p*p+q*q),s=0===p&&0===q?0:-p/Math.sqrt(p*p+q*q);p+=+this.p.v[0],q+=+this.p.v[1],this.v.setTripleAt(p,q,p-r*d*c*o,q-s*d*c*o,p+r*d*c*o,q+s*d*c*o,a,!0),g=!g,n+=f*o}},convertPolygonToPath:function(){var a,b=Math.floor(this.pt.v),c=2*Math.PI/b,d=this.or.v,e=this.os.v,f=2*Math.PI*d/(4*b),g=-(.5*Math.PI),h=3===this.data.d?-1:1;for(g+=this.r.v,this.v._length=0,a=0;a<b;a+=1){var i=d*Math.cos(g),j=d*Math.sin(g),k=0===i&&0===j?0:j/Math.sqrt(i*i+j*j),l=0===i&&0===j?0:-i/Math.sqrt(i*i+j*j);i+=+this.p.v[0],j+=+this.p.v[1],this.v.setTripleAt(i,j,i-k*f*e*h,j-l*f*e*h,i+k*f*e*h,j+l*f*e*h,a,!0),g+=c*h}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],a),a}(),m=function(){function a(a,b){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=a,this.comp=a.comp,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(a),this.p=PropertyFactory.getProp(a,b.p,1,0,this),this.s=PropertyFactory.getProp(a,b.s,1,0,this),this.r=PropertyFactory.getProp(a,b.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return a.prototype={convertRectToPath:function(){var a=this.p.v[0],b=this.p.v[1],c=this.s.v[0]/2,d=this.s.v[1]/2,e=bmMin(c,d,this.r.v),f=e*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(a+c,b-d+e,a+c,b-d+e,a+c,b-d+f,0,!0),this.v.setTripleAt(a+c,b+d-e,a+c,b+d-f,a+c,b+d-e,1,!0),0!==e?(this.v.setTripleAt(a+c-e,b+d,a+c-e,b+d,a+c-f,b+d,2,!0),this.v.setTripleAt(a-c+e,b+d,a-c+f,b+d,a-c+e,b+d,3,!0),this.v.setTripleAt(a-c,b+d-e,a-c,b+d-e,a-c,b+d-f,4,!0),this.v.setTripleAt(a-c,b-d+e,a-c,b-d+f,a-c,b-d+e,5,!0),this.v.setTripleAt(a-c+e,b-d,a-c+e,b-d,a-c+f,b-d,6,!0),this.v.setTripleAt(a+c-e,b-d,a+c-f,b-d,a+c-e,b-d,7,!0)):(this.v.setTripleAt(a-c,b+d,a-c+f,b+d,a-c,b+d,2),this.v.setTripleAt(a-c,b-d,a-c,b-d+f,a-c,b-d,3))):(this.v.setTripleAt(a+c,b-d+e,a+c,b-d+f,a+c,b-d+e,0,!0),0!==e?(this.v.setTripleAt(a+c-e,b-d,a+c-e,b-d,a+c-f,b-d,1,!0),this.v.setTripleAt(a-c+e,b-d,a-c+f,b-d,a-c+e,b-d,2,!0),this.v.setTripleAt(a-c,b-d+e,a-c,b-d+e,a-c,b-d+f,3,!0),this.v.setTripleAt(a-c,b+d-e,a-c,b+d-f,a-c,b+d-e,4,!0),this.v.setTripleAt(a-c+e,b+d,a-c+e,b+d,a-c+f,b+d,5,!0),this.v.setTripleAt(a+c-e,b+d,a+c-f,b+d,a+c-e,b+d,6,!0),this.v.setTripleAt(a+c,b+d-e,a+c,b+d-e,a+c,b+d-f,7,!0)):(this.v.setTripleAt(a-c,b-d,a-c+f,b-d,a-c,b-d,1,!0),this.v.setTripleAt(a-c,b+d,a-c,b+d-f,a-c,b+d,2,!0),this.v.setTripleAt(a+c,b+d,a+c-f,b+d,a+c,b+d,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:d},extendPrototype([DynamicPropertyContainer],a),a}();function n(){return h}function o(){return j}var p={};return p.getShapeProp=function(a,b,c){var d;return 3===c||4===c?d=(3===c?b.pt:b.ks).k.length?new j(a,b,c):new h(a,b,c):5===c?d=new m(a,b):6===c?d=new k(a,b):7===c&&(d=new l(a,b)),d.k&&a.addDynamicProperty(d),d},p.getConstructorFunction=n,p.getKeyframedConstructorFunction=o,p}(),Matrix=function(){var a=Math.cos,b=Math.sin,c=Math.tan,d=Math.round;function e(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function f(c){if(0===c)return this;var d=a(c),e=b(c);return this._t(d,-e,0,0,e,d,0,0,0,0,1,0,0,0,0,1)}function g(c){if(0===c)return this;var d=a(c),e=b(c);return this._t(1,0,0,0,0,d,-e,0,0,e,d,0,0,0,0,1)}function h(c){if(0===c)return this;var d=a(c),e=b(c);return this._t(d,0,e,0,0,1,0,0,-e,0,d,0,0,0,0,1)}function i(c){if(0===c)return this;var d=a(c),e=b(c);return this._t(d,-e,0,0,e,d,0,0,0,0,1,0,0,0,0,1)}function j(a,b){return this._t(1,b,a,1,0,0)}function k(a,b){return this.shear(c(a),c(b))}function l(d,e){var f=a(e),g=b(e);return this._t(f,g,0,0,-g,f,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,c(d),1,0,0,0,0,1,0,0,0,0,1)._t(f,-g,0,0,g,f,0,0,0,0,1,0,0,0,0,1)}function m(a,b,c){return(c||0===c||(c=1),1===a&&1===b&&1===c)?this:this._t(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1)}function n(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return this.props[0]=a,this.props[1]=b,this.props[2]=c,this.props[3]=d,this.props[4]=e,this.props[5]=f,this.props[6]=g,this.props[7]=h,this.props[8]=i,this.props[9]=j,this.props[10]=k,this.props[11]=l,this.props[12]=m,this.props[13]=n,this.props[14]=o,this.props[15]=p,this}function o(a,b,c){return(c=c||0,0!==a||0!==b||0!==c)?this._t(1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1):this}function p(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.props;if(1===a&&0===b&&0===c&&0===d&&0===e&&1===f&&0===g&&0===h&&0===i&&0===j&&1===k&&0===l)return q[12]=q[12]*a+q[15]*m,q[13]=q[13]*f+q[15]*n,q[14]=q[14]*k+q[15]*o,q[15]*=p,this._identityCalculated=!1,this;var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=q[6],y=q[7],z=q[8],A=q[9],B=q[10],C=q[11],D=q[12],E=q[13],F=q[14],G=q[15];return q[0]=r*a+s*e+t*i+u*m,q[1]=r*b+s*f+t*j+u*n,q[2]=r*c+s*g+t*k+u*o,q[3]=r*d+s*h+t*l+u*p,q[4]=v*a+w*e+x*i+y*m,q[5]=v*b+w*f+x*j+y*n,q[6]=v*c+w*g+x*k+y*o,q[7]=v*d+w*h+x*l+y*p,q[8]=z*a+A*e+B*i+C*m,q[9]=z*b+A*f+B*j+C*n,q[10]=z*c+A*g+B*k+C*o,q[11]=z*d+A*h+B*l+C*p,q[12]=D*a+E*e+F*i+G*m,q[13]=D*b+E*f+F*j+G*n,q[14]=D*c+E*g+F*k+G*o,q[15]=D*d+E*h+F*l+G*p,this._identityCalculated=!1,this}function q(a){var b=a.props;return this.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])}function r(){return this._identityCalculated||(this._identity=1===this.props[0]&&0===this.props[1]&&0===this.props[2]&&0===this.props[3]&&0===this.props[4]&&1===this.props[5]&&0===this.props[6]&&0===this.props[7]&&0===this.props[8]&&0===this.props[9]&&1===this.props[10]&&0===this.props[11]&&0===this.props[12]&&0===this.props[13]&&0===this.props[14]&&1===this.props[15],this._identityCalculated=!0),this._identity}function s(a){for(var b=0;b<16;){if(a.props[b]!==this.props[b])return!1;b+=1}return!0}function t(a){var b;for(b=0;b<16;b+=1)a.props[b]=this.props[b];return a}function u(a){var b;for(b=0;b<16;b+=1)this.props[b]=a[b]}function v(a,b,c){return{x:a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],y:a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],z:a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}}function w(a,b,c){return a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12]}function x(a,b,c){return a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13]}function y(a,b,c){return a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}function z(){var a=this.props[0]*this.props[5]-this.props[1]*this.props[4],b=this.props[5]/a,c=-this.props[1]/a,d=-this.props[4]/a,e=this.props[0]/a,f=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/a,g=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/a,h=new Matrix;return h.props[0]=b,h.props[1]=c,h.props[4]=d,h.props[5]=e,h.props[12]=f,h.props[13]=g,h}function A(a){return this.getInverseMatrix().applyToPointArray(a[0],a[1],a[2]||0)}function B(a){var b,c=a.length,d=[];for(b=0;b<c;b+=1)d[b]=A(a[b]);return d}function C(a,b,c){var d=createTypedArray("float32",6);if(this.isIdentity())d[0]=a[0],d[1]=a[1],d[2]=b[0],d[3]=b[1],d[4]=c[0],d[5]=c[1];else{var e=this.props[0],f=this.props[1],g=this.props[4],h=this.props[5],i=this.props[12],j=this.props[13];d[0]=a[0]*e+a[1]*g+i,d[1]=a[0]*f+a[1]*h+j,d[2]=b[0]*e+b[1]*g+i,d[3]=b[0]*f+b[1]*h+j,d[4]=c[0]*e+c[1]*g+i,d[5]=c[0]*f+c[1]*h+j}return d}function D(a,b,c){var d;return this.isIdentity()?[a,b,c]:[a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]]}function E(a,b){if(this.isIdentity())return a+","+b;var c=this.props;return Math.round((a*c[0]+b*c[4]+c[12])*100)/100+","+Math.round((a*c[1]+b*c[5]+c[13])*100)/100}function F(){for(var a=0,b=this.props,c="matrix3d(",e=1e4;a<16;)c+=d(b[a]*e)/e,c+=15===a?")":",",a+=1;return c}function G(a){var b=1e4;return a<1e-6&&a>0||a>-1e-6&&a<0?d(a*b)/b:a}function H(){var a=this.props;return"matrix("+G(a[0])+","+G(a[1])+","+G(a[4])+","+G(a[5])+","+G(a[12])+","+G(a[13])+")"}return function(){this.reset=e,this.rotate=f,this.rotateX=g,this.rotateY=h,this.rotateZ=i,this.skew=k,this.skewFromAxis=l,this.shear=j,this.scale=m,this.setTransform=n,this.translate=o,this.transform=p,this.multiply=q,this.applyToPoint=v,this.applyToX=w,this.applyToY=x,this.applyToZ=y,this.applyToPointArray=D,this.applyToTriplePoints=C,this.applyToPointStringified=E,this.toCSS=F,this.to2dCSS=H,this.clone=t,this.cloneFromProps=u,this.equals=s,this.inversePoints=B,this.inversePoint=A,this.getInverseMatrix=z,this._t=this.transform,this.isIdentity=r,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(a){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(a){setLocationHref(a)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(a){setSubframeEnabled(a)}function setPrefix(a){setIdPrefix(a)}function loadAnimation(a){return animationManager.loadAnimation(a)}function setQuality(a){if("string"==typeof a)switch(a){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(a)&&a>1&&setDefaultCurveSegments(a);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(a,b){"expressions"===a&&setExpressionsPlugin(b)}function getFactory(a){switch(a){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(a){for(var b=queryString.split("&"),c=0;c<b.length;c+=1){var d=b[c].split("=");if(decodeURIComponent(d[0])==a)return decodeURIComponent(d[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";var queryString="",scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer");var readyStateCheckInterval=setInterval(checkReady,100);try{"object"===_typeof$3(exports)||"function"==typeof define&&define.amd||(window.bodymovin=lottie)}catch(err){}var ShapeModifiers=function(){var a={},b={};function c(a,c,d){return new b[a](c,d)}return a.registerModifier=function a(a,c){b[a]||(b[a]=c)},a.getModifier=c,a}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(a){if(!this.closed){a.sh.container.addDynamicProperty(a.sh);var b={shape:a.sh,data:a,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(b),this.addShapeToModifier(b),this._isAnimated&&a.setAsAnimated()}},ShapeModifier.prototype.init=function(a,b){this.shapes=[],this.elem=a,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,b),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(a,b){this.s=PropertyFactory.getProp(a,b.s,0,.01,this),this.e=PropertyFactory.getProp(a,b.e,0,.01,this),this.o=PropertyFactory.getProp(a,b.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=b.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(a){a.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(a,b,c,d,e){var f,g,h,i=[];b<=1?i.push({s:a,e:b}):a>=1?i.push({s:a-1,e:b-1}):(i.push({s:a,e:1}),i.push({s:0,e:b-1}));var j=[],k=i.length;for(f=0;f<k;f+=1)(g=i[f]).e*e<d||g.s*e>d+c||(h=g.s*e<=d?0:(g.s*e-d)/c,j.push([h,g.e*e>=d+c?1:(g.e*e-d)/c]));return j.length||j.push([0,0]),j},TrimModifier.prototype.releasePathsData=function(a){var b,c=a.length;for(b=0;b<c;b+=1)segmentsLengthPool.release(a[b]);return a.length=0,a},TrimModifier.prototype.processShapes=function(a){if(this._mdf||a){var b=this.o.v%360/360;if(b<0&&(b+=1),(f=this.s.v>1?1+b:this.s.v<0?0+b:this.s.v+b)>(g=this.e.v>1?1+b:this.e.v<0?0+b:this.e.v+b)){var c=f;f=g,g=c}f=1e-4*Math.round(1e4*f),g=1e-4*Math.round(1e4*g),this.sValue=f,this.eValue=g}else f=this.sValue,g=this.eValue;var d=this.shapes.length,e=0;if(g===f)for(i=0;i<d;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if((1!==g||0!==f)&&(0!==g||1!==f)){var f,g,h,i,j,k,l,m,n,o,p,q,r=[];for(i=0;i<d;i+=1)if((o=this.shapes[i]).shape._mdf||this._mdf||a||2===this.m){if(k=(h=o.shape.paths)._length,n=0,!o.shape._mdf&&o.pathsData.length)n=o.totalShapeLength;else{for(j=0,l=this.releasePathsData(o.pathsData);j<k;j+=1)m=bez.getSegmentsLength(h.shapes[j]),l.push(m),n+=m.totalLength;o.totalShapeLength=n,o.pathsData=l}e+=n,o.shape._mdf=!0}else o.shape.paths=o.localShapeCollection;var s=f,t=g,u=0;for(i=d-1;i>=0;i-=1)if((o=this.shapes[i]).shape._mdf){for((p=o.localShapeCollection).releaseShapes(),2===this.m&&d>1?(q=this.calculateShapeEdges(f,g,o.totalShapeLength,u,e),u+=o.totalShapeLength):q=[[s,t]],k=q.length,j=0;j<k;j+=1){s=q[j][0],t=q[j][1],r.length=0,t<=1?r.push({s:o.totalShapeLength*s,e:o.totalShapeLength*t}):s>=1?r.push({s:o.totalShapeLength*(s-1),e:o.totalShapeLength*(t-1)}):(r.push({s:o.totalShapeLength*s,e:o.totalShapeLength}),r.push({s:0,e:o.totalShapeLength*(t-1)}));var v=this.addShapes(o,r[0]);if(r[0].s!==r[0].e){if(r.length>1)if(o.shape.paths.shapes[o.shape.paths._length-1].c){var w=v.pop();this.addPaths(v,p),v=this.addShapes(o,r[1],w)}else this.addPaths(v,p),v=this.addShapes(o,r[1]);this.addPaths(v,p)}}o.shape.paths=p}}else if(this._mdf)for(i=0;i<d;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0},TrimModifier.prototype.addPaths=function(a,b){var c,d=a.length;for(c=0;c<d;c+=1)b.addShape(a[c])},TrimModifier.prototype.addSegment=function(a,b,c,d,e,f,g){e.setXYAt(b[0],b[1],"o",f),e.setXYAt(c[0],c[1],"i",f+1),g&&e.setXYAt(a[0],a[1],"v",f),e.setXYAt(d[0],d[1],"v",f+1)},TrimModifier.prototype.addSegmentFromArray=function(a,b,c,d){b.setXYAt(a[1],a[5],"o",c),b.setXYAt(a[2],a[6],"i",c+1),d&&b.setXYAt(a[0],a[4],"v",c),b.setXYAt(a[3],a[7],"v",c+1)},TrimModifier.prototype.addShapes=function(a,b,c){var d,e,f,g,h,i,j,k,l=a.pathsData,m=a.shape.paths.shapes,n=a.shape.paths._length,o=0,p=[],q=!0;for(c?(h=c._length,k=c._length):(c=shapePool.newElement(),h=0,k=0),p.push(c),d=0;d<n;d+=1){for(e=1,i=l[d].lengths,c.c=m[d].c,f=m[d].c?i.length:i.length+1;e<f;e+=1)if(o+(g=i[e-1]).addedLength<b.s)o+=g.addedLength,c.c=!1;else if(o>b.e){c.c=!1;break}else b.s<=o&&b.e>=o+g.addedLength?(this.addSegment(m[d].v[e-1],m[d].o[e-1],m[d].i[e],m[d].v[e],c,h,q),q=!1):(j=bez.getNewSegment(m[d].v[e-1],m[d].v[e],m[d].o[e-1],m[d].i[e],(b.s-o)/g.addedLength,(b.e-o)/g.addedLength,i[e-1]),this.addSegmentFromArray(j,c,h,q),q=!1,c.c=!1),o+=g.addedLength,h+=1;if(m[d].c&&i.length){if(g=i[e-1],o<=b.e){var r=i[e-1].addedLength;b.s<=o&&b.e>=o+r?(this.addSegment(m[d].v[e-1],m[d].o[e-1],m[d].i[0],m[d].v[0],c,h,q),q=!1):(j=bez.getNewSegment(m[d].v[e-1],m[d].v[0],m[d].o[e-1],m[d].i[0],(b.s-o)/r,(b.e-o)/r,i[e-1]),this.addSegmentFromArray(j,c,h,q),q=!1,c.c=!1)}else c.c=!1;o+=g.addedLength,h+=1}if(c._length&&(c.setXYAt(c.v[k][0],c.v[k][1],"i",k),c.setXYAt(c.v[c._length-1][0],c.v[c._length-1][1],"o",c._length-1)),o>b.e)break;d<n-1&&(c=shapePool.newElement(),q=!0,p.push(c),h=0)}return p},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(a,b.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(a,b){var c,d,e,f,g,h,i=b/100,j=[0,0],k=a._length,l=0;for(l=0;l<k;l+=1)j[0]+=a.v[l][0],j[1]+=a.v[l][1];j[0]/=k,j[1]/=k;var m=shapePool.newElement();for(l=0,m.c=a.c;l<k;l+=1)c=a.v[l][0]+(j[0]-a.v[l][0])*i,d=a.v[l][1]+(j[1]-a.v[l][1])*i,e=a.o[l][0]+-((j[0]-a.o[l][0])*i),f=a.o[l][1]+-((j[1]-a.o[l][1])*i),g=a.i[l][0]+-((j[0]-a.i[l][0])*i),h=a.i[l][1]+-((j[1]-a.i[l][1])*i),m.setTripleAt(c,d,e,f,g,h,l);return m},PuckerAndBloatModifier.prototype.processShapes=function(a){var b,c,d,e,f,g,h=this.shapes.length,i=this.amount.v;if(0!==i)for(c=0;c<h;c+=1){if(g=(f=this.shapes[c]).localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!a))for(g.releaseShapes(),f.shape._mdf=!0,b=f.shape.paths.shapes,e=f.shape.paths._length,d=0;d<e;d+=1)g.addShape(this.processPath(b[d],i));f.shape.paths=f.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var a=[0,0];function b(a){this._addDynamicProperty(a),this.elem.addDynamicProperty(a),this._isDirty=!0}function c(a,b,c){if(this.elem=a,this.frameId=-1,this.propType="transform",this.data=b,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(c||a),b.p&&b.p.s?(this.px=PropertyFactory.getProp(a,b.p.x,0,0,this),this.py=PropertyFactory.getProp(a,b.p.y,0,0,this),b.p.z&&(this.pz=PropertyFactory.getProp(a,b.p.z,0,0,this))):this.p=PropertyFactory.getProp(a,b.p||{k:[0,0,0]},1,0,this),b.rx){if(this.rx=PropertyFactory.getProp(a,b.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(a,b.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(a,b.rz,0,degToRads,this),b.or.k[0].ti){var d,e=b.or.k.length;for(d=0;d<e;d+=1)b.or.k[d].to=null,b.or.k[d].ti=null}this.or=PropertyFactory.getProp(a,b.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(a,b.r||{k:0},0,degToRads,this);b.sk&&(this.sk=PropertyFactory.getProp(a,b.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(a,b.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(a,b.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(a,b.s||{k:[100,100,100]},1,.01,this),b.o?this.o=PropertyFactory.getProp(a,b.o,0,.01,a):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return c.prototype={applyToMatrix:function(a){var b=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||b,this.a&&a.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&a.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&a.skewFromAxis(-this.sk.v,this.sa.v),this.r?a.rotate(-this.r.v):a.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?a.translate(this.px.v,this.py.v,-this.pz.v):a.translate(this.px.v,this.py.v,0):a.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(b){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||b){var c;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){if(c=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(d=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/c,0),e=this.p.getValueAtTime(this.p.keyframes[0].t/c,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(d=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/c,0),e=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/c,0)):(d=this.p.pv,e=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/c,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){var d=[],e=[],f=this.px,g=this.py;f._caching.lastFrame+f.offsetTime<=f.keyframes[0].t?(d[0]=f.getValueAtTime((f.keyframes[0].t+.01)/c,0),d[1]=g.getValueAtTime((g.keyframes[0].t+.01)/c,0),e[0]=f.getValueAtTime(f.keyframes[0].t/c,0),e[1]=g.getValueAtTime(g.keyframes[0].t/c,0)):f._caching.lastFrame+f.offsetTime>=f.keyframes[f.keyframes.length-1].t?(d[0]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/c,0),d[1]=g.getValueAtTime(g.keyframes[g.keyframes.length-1].t/c,0),e[0]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/c,0),e[1]=g.getValueAtTime((g.keyframes[g.keyframes.length-1].t-.01)/c,0)):(d=[f.pv,g.pv],e[0]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/c,f.offsetTime),e[1]=g.getValueAtTime((g._caching.lastFrame+g.offsetTime-.01)/c,g.offsetTime))}else d=e=a;this.v.rotate(-Math.atan2(d[1]-e[1],d[0]-e[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length){if(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk)if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;else this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],c),c.prototype.addDynamicProperty=b,c.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(a,b,d){return new c(a,b,d)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(a,b){return 1e5*Math.abs(a-b)<=Math.min(Math.abs(a),Math.abs(b))}function floatZero(a){return 1e-5>=Math.abs(a)}function lerp(a,b,c){return a*(1-c)+b*c}function lerpPoint(a,b,c){return[lerp(a[0],b[0],c),lerp(a[1],b[1],c)]}function quadRoots(a,b,c){if(0===a)return[];var d=b*b-4*a*c;if(d<0)return[];var e=-b/(2*a);if(0===d)return[e];var f=Math.sqrt(d)/(2*a);return[e-f,e+f]}function polynomialCoefficients(a,b,c,d){return[-a+3*b-3*c+d,3*a-6*b+3*c,-3*a+3*b,a]}function singlePoint(a){return new PolynomialBezier(a,a,a,a,!1)}function PolynomialBezier(a,b,c,d,e){e&&pointEqual(a,b)&&(b=lerpPoint(a,d,1/3)),e&&pointEqual(c,d)&&(c=lerpPoint(a,d,2/3));var f=polynomialCoefficients(a[0],b[0],c[0],d[0]),g=polynomialCoefficients(a[1],b[1],c[1],d[1]);this.a=[f[0],g[0]],this.b=[f[1],g[1]],this.c=[f[2],g[2]],this.d=[f[3],g[3]],this.points=[a,b,c,d]}function extrema(a,b){var c=a.points[0][b],d=a.points[a.points.length-1][b];if(c>d){var e=d;d=c,c=e}for(var f=quadRoots(3*a.a[b],2*a.b[b],a.c[b]),g=0;g<f.length;g+=1)if(f[g]>0&&f[g]<1){var h=a.point(f[g])[b];h<c?c=h:h>d&&(d=h)}return{min:c,max:d}}function intersectData(a,b,c){var d=a.boundingBox();return{cx:d.cx,cy:d.cy,width:d.width,height:d.height,bez:a,t:(b+c)/2,t1:b,t2:c}}function splitData(a){var b=a.bez.split(.5);return[intersectData(b[0],a.t1,a.t),intersectData(b[1],a.t,a.t2)]}function boxIntersect(a,b){return 2*Math.abs(a.cx-b.cx)<a.width+b.width&&2*Math.abs(a.cy-b.cy)<a.height+b.height}function intersectsImpl(a,b,c,d,e,f){if(boxIntersect(a,b)){if(c>=f||a.width<=d&&a.height<=d&&b.width<=d&&b.height<=d)return void e.push([a.t,b.t]);var g=splitData(a),h=splitData(b);intersectsImpl(g[0],h[0],c+1,d,e,f),intersectsImpl(g[0],h[1],c+1,d,e,f),intersectsImpl(g[1],h[0],c+1,d,e,f),intersectsImpl(g[1],h[1],c+1,d,e,f)}}function crossProduct(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function lineIntersection(a,b,c,d){var e=[a[0],a[1],1],f=[b[0],b[1],1],g=[c[0],c[1],1],h=[d[0],d[1],1],i=crossProduct(crossProduct(e,f),crossProduct(g,h));return floatZero(i[2])?null:[i[0]/i[2],i[1]/i[2]]}function polarOffset(a,b,c){return[a[0]+Math.cos(b)*c,a[1]-Math.sin(b)*c]}function pointDistance(a,b){return Math.hypot(a[0]-b[0],a[1]-b[1])}function pointEqual(a,b){return floatEqual(a[0],b[0])&&floatEqual(a[1],b[1])}function ZigZagModifier(){}function setPoint(a,b,c,d,e,f,g){var h=c-Math.PI/2,i=c+Math.PI/2,j=b[0]+Math.cos(c)*d*e,k=b[1]-Math.sin(c)*d*e;a.setTripleAt(j,k,j+Math.cos(h)*f,k-Math.sin(h)*f,j+Math.cos(i)*g,k-Math.sin(i)*g,a.length())}function getPerpendicularVector(a,b){var c=[b[0]-a[0],b[1]-a[1]],d=-(.5*Math.PI);return[Math.cos(d)*c[0]-Math.sin(d)*c[1],Math.sin(d)*c[0]+Math.cos(d)*c[1]]}function getProjectingAngle(a,b){var c=0===b?a.length()-1:b-1,d=(b+1)%a.length(),e=getPerpendicularVector(a.v[c],a.v[d]);return Math.atan2(0,1)-Math.atan2(e[1],e[0])}function zigZagCorner(a,b,c,d,e,f,g){var h=getProjectingAngle(b,c),i=b.v[c%b._length],j=b.v[0===c?b._length-1:c-1],k=b.v[(c+1)%b._length],l=2===f?Math.sqrt(Math.pow(i[0]-j[0],2)+Math.pow(i[1]-j[1],2)):0,m=2===f?Math.sqrt(Math.pow(i[0]-k[0],2)+Math.pow(i[1]-k[1],2)):0;setPoint(a,b.v[c%b._length],h,g,d,m/((e+1)*2),l/((e+1)*2),f)}function zigZagSegment(a,b,c,d,e,f){for(var g=0;g<d;g+=1){var h=(g+1)/(d+1),i=2===e?Math.sqrt(Math.pow(b.points[3][0]-b.points[0][0],2)+Math.pow(b.points[3][1]-b.points[0][1],2)):0,j=b.normalAngle(h);setPoint(a,b.point(h),j,f,c,i/((d+1)*2),i/((d+1)*2),e),f=-f}return f}function linearOffset(a,b,c){var d=Math.atan2(b[0]-a[0],b[1]-a[1]);return[polarOffset(a,d,c),polarOffset(b,d,c)]}function offsetSegment(a,b){c=(h=linearOffset(a.points[0],a.points[1],b))[0],d=h[1],e=(h=linearOffset(a.points[1],a.points[2],b))[0],f=h[1],g=(h=linearOffset(a.points[2],a.points[3],b))[0];var c,d,e,f,g,h,i=h[1],j=lineIntersection(c,d,e,f);null===j&&(j=d);var k=lineIntersection(g,i,e,f);return null===k&&(k=g),new PolynomialBezier(c,j,k,i)}function joinLines(a,b,c,d,e){var f=b.points[3],g=c.points[0];if(3===d||pointEqual(f,g))return f;if(2===d){var h=-b.tangentAngle(1),i=-c.tangentAngle(0)+Math.PI,j=lineIntersection(f,polarOffset(f,h+Math.PI/2,100),g,polarOffset(g,h+Math.PI/2,100)),k=j?pointDistance(j,f):pointDistance(f,g)/2,l=polarOffset(f,h,2*k*roundCorner);return a.setXYAt(l[0],l[1],"o",a.length()-1),l=polarOffset(g,i,2*k*roundCorner),a.setTripleAt(g[0],g[1],g[0],g[1],l[0],l[1],a.length()),g}var m=pointEqual(f,b.points[2])?b.points[0]:b.points[2],n=pointEqual(g,c.points[1])?c.points[3]:c.points[1],o=lineIntersection(m,f,g,n);return o&&pointDistance(o,f)<e?(a.setTripleAt(o[0],o[1],o[0],o[1],o[0],o[1],a.length()),o):f}function getIntersection(a,b){var c=a.intersections(b);return(c.length&&floatEqual(c[0][0],1)&&c.shift(),c.length)?c[0]:null}function pruneSegmentIntersection(a,b){var c=a.slice(),d=b.slice(),e=getIntersection(a[a.length-1],b[0]);return(e&&(c[a.length-1]=a[a.length-1].split(e[0])[0],d[0]=b[0].split(e[1])[1]),a.length>1&&b.length>1&&(e=getIntersection(a[0],b[b.length-1])))?[[a[0].split(e[0])[0]],[b[b.length-1].split(e[1])[1]]]:[c,d]}function pruneIntersections(a){for(var b,c=1;c<a.length;c+=1)b=pruneSegmentIntersection(a[c-1],a[c]),a[c-1]=b[0],a[c]=b[1];return a.length>1&&(b=pruneSegmentIntersection(a[a.length-1],a[0]),a[a.length-1]=b[0],a[0]=b[1]),a}function offsetSegmentSplit(a,b){var c,d,e,f,g=a.inflectionPoints();if(0===g.length)return[offsetSegment(a,b)];if(1===g.length||floatEqual(g[1],1))return c=(e=a.split(g[0]))[0],d=e[1],[offsetSegment(c,b),offsetSegment(d,b)];c=(e=a.split(g[0]))[0];var h=(g[1]-g[0])/(1-g[0]);return f=(e=e[1].split(h))[0],d=e[1],[offsetSegment(c,b),offsetSegment(f,b),offsetSegment(d,b)]}function OffsetPathModifier(){}function getFontProperties(a){for(var b=a.fStyle?a.fStyle.split(" "):[],c="normal",d="normal",e=b.length,f=0;f<e;f+=1)switch(b[f].toLowerCase()){case"italic":d="italic";break;case"bold":c="700";break;case"black":c="900";break;case"medium":c="500";break;case"regular":case"normal":c="400";break;case"light":case"thin":c="200"}return{style:d,weight:a.fWeight||c}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(a,b.c,0,null,this),this.o=PropertyFactory.getProp(a,b.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(a,b.tr,this),this.so=PropertyFactory.getProp(a,b.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(a,b.tr.eo,0,.01,this),this.data=b,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(a,b,c,d,e,f){var g=f?-1:1,h=d.s.v[0]+(1-d.s.v[0])*(1-e),i=d.s.v[1]+(1-d.s.v[1])*(1-e);a.translate(d.p.v[0]*g*e,d.p.v[1]*g*e,d.p.v[2]),b.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]),b.rotate(-d.r.v*g*e),b.translate(d.a.v[0],d.a.v[1],d.a.v[2]),c.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]),c.scale(f?1/h:h,f?1/i:i),c.translate(d.a.v[0],d.a.v[1],d.a.v[2])},RepeaterModifier.prototype.init=function(a,b,c,d){for(this.elem=a,this.arr=b,this.pos=c,this.elemsData=d,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,b[c]);c>0;)c-=1,this._elements.unshift(b[c]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]._processed=!1,"gr"===a[b].ty&&this.resetElements(a[b].it)},RepeaterModifier.prototype.cloneElements=function(a){var b=JSON.parse(JSON.stringify(a));return this.resetElements(b),b},RepeaterModifier.prototype.changeGroupRender=function(a,b){var c,d=a.length;for(c=0;c<d;c+=1)a[c]._render=b,"gr"===a[c].ty&&this.changeGroupRender(a[c].it,b)},RepeaterModifier.prototype.processShapes=function(a){var b=!1;if(this._mdf||a){var c,d,e,f,g,h,i,j,k=Math.ceil(this.c.v);if(this._groups.length<k){for(;this._groups.length<k;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),b=!0}for(e=0,g=0;e<=this._groups.length-1;e+=1){if(h=g<k,this._groups[e]._render=h,this.changeGroupRender(this._groups[e].it,h),!h){var m=this.elemsData[e].it,n=m[m.length-1];0!==n.transform.op.v?(n.transform.op._mdf=!0,n.transform.op.v=0):n.transform.op._mdf=!1}g+=1}this._currentCopies=k;var o=this.o.v,p=o%1,q=o>0?Math.floor(o):Math.ceil(o),r=this.pMatrix.props,s=this.rMatrix.props,t=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var u=0;if(o>0){for(;u<q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),u+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),u+=p)}else if(o<0){for(;u>q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),u-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),u-=p)}for(e=1===this.data.m?0:this._currentCopies-1,f=1===this.data.m?1:-1,g=this._currentCopies;g;){if(j=(d=(c=this.elemsData[e].it)[c.length-1].transform.mProps.v.props).length,c[c.length-1].transform.mProps._mdf=!0,c[c.length-1].transform.op._mdf=!0,c[c.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(e/(this._currentCopies-1)),0!==u){for((0!==e&&1===f||e!==this._currentCopies-1&&-1===f)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15]),this.matrix.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.matrix.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]),i=0;i<j;i+=1)d[i]=this.matrix.props[i];this.matrix.reset()}else for(this.matrix.reset(),i=0;i<j;i+=1)d[i]=this.matrix.props[i];u+=1,g-=1,e+=f}}else for(g=this._currentCopies,e=0,f=1;g;)d=(c=this.elemsData[e].it)[c.length-1].transform.mProps.v.props,c[c.length-1].transform.mProps._mdf=!1,c[c.length-1].transform.op._mdf=!1,g-=1,e+=f;return b},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(a,b.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=shapePool.newElement();p.c=a.c;var q=a._length,r=0;for(c=0;c<q;c+=1)d=a.v[c],f=a.o[c],e=a.i[c],d[0]===f[0]&&d[1]===f[1]&&d[0]===e[0]&&d[1]===e[1]?0!==c&&c!==q-1||a.c?(g=0===c?a.v[q-1]:a.v[c-1],i=(h=Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)))?Math.min(h/2,b)/h:0,j=n=d[0]+(g[0]-d[0])*i,k=o=d[1]-(d[1]-g[1])*i,l=j-(j-d[0])*roundCorner,m=k-(k-d[1])*roundCorner,p.setTripleAt(j,k,l,m,n,o,r),r+=1,g=c===q-1?a.v[0]:a.v[c+1],i=(h=Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)))?Math.min(h/2,b)/h:0,j=l=d[0]+(g[0]-d[0])*i,k=m=d[1]+(g[1]-d[1])*i,n=j-(j-d[0])*roundCorner,o=k-(k-d[1])*roundCorner,p.setTripleAt(j,k,l,m,n,o,r)):p.setTripleAt(d[0],d[1],f[0],f[1],e[0],e[1],r):p.setTripleAt(a.v[c][0],a.v[c][1],a.o[c][0],a.o[c][1],a.i[c][0],a.i[c][1],r),r+=1;return p},RoundCornersModifier.prototype.processShapes=function(a){var b,c,d,e,f,g,h=this.shapes.length,i=this.rd.v;if(0!==i)for(c=0;c<h;c+=1){if(g=(f=this.shapes[c]).localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!a))for(g.releaseShapes(),f.shape._mdf=!0,b=f.shape.paths.shapes,e=f.shape.paths._length,d=0;d<e;d+=1)g.addShape(this.processPath(b[d],i));f.shape.paths=f.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(a){return[((this.a[0]*a+this.b[0])*a+this.c[0])*a+this.d[0],((this.a[1]*a+this.b[1])*a+this.c[1])*a+this.d[1]]},PolynomialBezier.prototype.derivative=function(a){return[(3*a*this.a[0]+2*this.b[0])*a+this.c[0],(3*a*this.a[1]+2*this.b[1])*a+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(a){var b=this.derivative(a);return Math.atan2(b[1],b[0])},PolynomialBezier.prototype.normalAngle=function(a){var b=this.derivative(a);return Math.atan2(b[0],b[1])},PolynomialBezier.prototype.inflectionPoints=function(){var a=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(a))return[];var b=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/a,c=b*b-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/a;if(c<0)return[];var d=Math.sqrt(c);return floatZero(d)?d>0&&d<1?[b]:[]:[b-d,b+d].filter(function(a){return a>0&&a<1})},PolynomialBezier.prototype.split=function(a){if(a<=0)return[singlePoint(this.points[0]),this];if(a>=1)return[this,singlePoint(this.points[this.points.length-1])];var b=lerpPoint(this.points[0],this.points[1],a),c=lerpPoint(this.points[1],this.points[2],a),d=lerpPoint(this.points[2],this.points[3],a),e=lerpPoint(b,c,a),f=lerpPoint(c,d,a),g=lerpPoint(e,f,a);return[new PolynomialBezier(this.points[0],b,e,g,!0),new PolynomialBezier(g,f,d,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var a=this.bounds();return{left:a.x.min,right:a.x.max,top:a.y.min,bottom:a.y.max,width:a.x.max-a.x.min,height:a.y.max-a.y.min,cx:(a.x.max+a.x.min)/2,cy:(a.y.max+a.y.min)/2}},PolynomialBezier.prototype.intersections=function(a,b,c){void 0===b&&(b=2),void 0===c&&(c=7);var d=[];return intersectsImpl(intersectData(this,0,1),intersectData(a,0,1),0,b,d,c),d},PolynomialBezier.shapeSegment=function(a,b){var c=(b+1)%a.length();return new PolynomialBezier(a.v[b],a.o[b],a.i[c],a.v[c],!0)},PolynomialBezier.shapeSegmentInverted=function(a,b){var c=(b+1)%a.length();return new PolynomialBezier(a.v[c],a.i[c],a.o[b],a.v[b],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(a,b.s,0,null,this),this.frequency=PropertyFactory.getProp(a,b.r,0,null,this),this.pointsType=PropertyFactory.getProp(a,b.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(a,b,c,d){var e=a._length,f=shapePool.newElement();if(f.c=a.c,a.c||(e-=1),0===e)return f;var g=-1,h=PolynomialBezier.shapeSegment(a,0);zigZagCorner(f,a,0,b,c,d,g);for(var i=0;i<e;i+=1)g=zigZagSegment(f,h,b,c,d,-g),h=i!==e-1||a.c?PolynomialBezier.shapeSegment(a,(i+1)%e):null,zigZagCorner(f,a,i+1,b,c,d,g);return f},ZigZagModifier.prototype.processShapes=function(a){var b,c,d,e,f,g,h=this.shapes.length,i=this.amplitude.v,j=Math.max(0,Math.round(this.frequency.v)),k=this.pointsType.v;if(0!==i)for(c=0;c<h;c+=1){if(g=(f=this.shapes[c]).localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!a))for(g.releaseShapes(),f.shape._mdf=!0,b=f.shape.paths.shapes,e=f.shape.paths._length,d=0;d<e;d+=1)g.addShape(this.processPath(b[d],i,j,k));f.shape.paths=f.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(a,b.a,0,null,this),this.miterLimit=PropertyFactory.getProp(a,b.ml,0,null,this),this.lineJoin=b.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(a,b,c,d){var e,f,g,h=shapePool.newElement();h.c=a.c;var i=a.length();a.c||(i-=1);var j=[];for(e=0;e<i;e+=1)g=PolynomialBezier.shapeSegment(a,e),j.push(offsetSegmentSplit(g,b));if(!a.c)for(e=i-1;e>=0;e-=1)g=PolynomialBezier.shapeSegmentInverted(a,e),j.push(offsetSegmentSplit(g,b));j=pruneIntersections(j);var k=null,l=null;for(e=0;e<j.length;e+=1){var m=j[e];for(l&&(k=joinLines(h,l,m[0],c,d)),l=m[m.length-1],f=0;f<m.length;f+=1)g=m[f],k&&pointEqual(g.points[0],k)?h.setXYAt(g.points[1][0],g.points[1][1],"o",h.length()-1):h.setTripleAt(g.points[0][0],g.points[0][1],g.points[1][0],g.points[1][1],g.points[0][0],g.points[0][1],h.length()),h.setTripleAt(g.points[3][0],g.points[3][1],g.points[3][0],g.points[3][1],g.points[2][0],g.points[2][1],h.length()),k=g.points[3]}return j.length&&joinLines(h,l,j[0][0],c,d),h},OffsetPathModifier.prototype.processShapes=function(a){var b,c,d,e,f,g,h=this.shapes.length,i=this.amount.v,j=this.miterLimit.v,k=this.lineJoin;if(0!==i)for(c=0;c<h;c+=1){if(g=(f=this.shapes[c]).localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!a))for(g.releaseShapes(),f.shape._mdf=!0,b=f.shape.paths.shapes,e=f.shape.paths._length,d=0;d<e;d+=1)g.addShape(this.processPath(b[d],i,k,j));f.shape.paths=f.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var a=5e3,b={w:0,size:0,shapes:[],data:{shapes:[]}},c=[];c=c.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var d=127988,e=917631,f=917601,g=917626,h=65039,i=8205,j=127462,k=127487,l=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function m(a){var b,c=a.split(","),d=c.length,e=[];for(b=0;b<d;b+=1)"sans-serif"!==c[b]&&"monospace"!==c[b]&&e.push(c[b]);return e.join(",")}function n(a,b){var c=createTag("span");c.setAttribute("aria-hidden",!0),c.style.fontFamily=b;var d=createTag("span");d.innerText="giItT1WQy@!-/#",c.style.position="absolute",c.style.left="-10000px",c.style.top="-10000px",c.style.fontSize="300px",c.style.fontVariant="normal",c.style.fontStyle="normal",c.style.fontWeight="normal",c.style.letterSpacing="0",c.appendChild(d),document.body.appendChild(c);var e=d.offsetWidth;return d.style.fontFamily=m(a)+", "+b,{node:d,w:e,parent:c}}function o(){var b,c,d,e=this.fonts.length,f=e;for(b=0;b<e;b+=1)this.fonts[b].loaded?f-=1:"n"===this.fonts[b].fOrigin||0===this.fonts[b].origin?this.fonts[b].loaded=!0:(c=this.fonts[b].monoCase.node,d=this.fonts[b].monoCase.w,c.offsetWidth!==d?(f-=1,this.fonts[b].loaded=!0):(c=this.fonts[b].sansCase.node,d=this.fonts[b].sansCase.w,c.offsetWidth!==d&&(f-=1,this.fonts[b].loaded=!0)),this.fonts[b].loaded&&(this.fonts[b].sansCase.parent.parentNode.removeChild(this.fonts[b].sansCase.parent),this.fonts[b].monoCase.parent.parentNode.removeChild(this.fonts[b].monoCase.parent)));0!==f&&Date.now()-this.initTime<a?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function p(a,b){var c,d=document.body&&b?"svg":"canvas",e=getFontProperties(a);if("svg"===d){var f=createNS("text");f.style.fontSize="100px",f.setAttribute("font-family",a.fFamily),f.setAttribute("font-style",e.style),f.setAttribute("font-weight",e.weight),f.textContent="1",a.fClass?(f.style.fontFamily="inherit",f.setAttribute("class",a.fClass)):f.style.fontFamily=a.fFamily,b.appendChild(f),c=f}else{var g=new OffscreenCanvas(500,500).getContext("2d");g.font=e.style+" "+e.weight+" 100px "+a.fFamily,c=g}return{measureText:function(a){return"svg"===d?(c.textContent=a,c.getComputedTextLength()):c.measureText(a).width}}}function q(a,b){if(!a){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=a.list;return}if(!document.body){this.isLoaded=!0,a.list.forEach(function(a){a.helper=p(a),a.cache={}}),this.fonts=a.list;return}var c=a.list,d=c.length,e=d;for(f=0;f<d;f+=1){var f,g,h,i=!0;if(c[f].loaded=!1,c[f].monoCase=n(c[f].fFamily,"monospace"),c[f].sansCase=n(c[f].fFamily,"sans-serif"),c[f].fPath){if("p"===c[f].fOrigin||3===c[f].origin){if((g=document.querySelectorAll('style[f-forigin="p"][f-family="'+c[f].fFamily+'"], style[f-origin="3"][f-family="'+c[f].fFamily+'"]')).length>0&&(i=!1),i){var j=createTag("style");j.setAttribute("f-forigin",c[f].fOrigin),j.setAttribute("f-origin",c[f].origin),j.setAttribute("f-family",c[f].fFamily),j.type="text/css",j.innerText="@font-face {font-family: "+c[f].fFamily+"; font-style: normal; src: url('"+c[f].fPath+"');}",b.appendChild(j)}}else if("g"===c[f].fOrigin||1===c[f].origin){for(h=0,g=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');h<g.length;h+=1)-1!==g[h].href.indexOf(c[f].fPath)&&(i=!1);if(i){var k=createTag("link");k.setAttribute("f-forigin",c[f].fOrigin),k.setAttribute("f-origin",c[f].origin),k.type="text/css",k.rel="stylesheet",k.href=c[f].fPath,document.body.appendChild(k)}}else if("t"===c[f].fOrigin||2===c[f].origin){for(h=0,g=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');h<g.length;h+=1)c[f].fPath===g[h].src&&(i=!1);if(i){var l=createTag("link");l.setAttribute("f-forigin",c[f].fOrigin),l.setAttribute("f-origin",c[f].origin),l.setAttribute("rel","stylesheet"),l.setAttribute("href",c[f].fPath),b.appendChild(l)}}}else c[f].loaded=!0,e-=1;c[f].helper=p(c[f],b),c[f].cache={},this.fonts.push(c[f])}0===e?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function r(a){if(a){this.chars||(this.chars=[]);var b,c,d,e=a.length,f=this.chars.length;for(b=0;b<e;b+=1){for(c=0,d=!1;c<f;)this.chars[c].style===a[b].style&&this.chars[c].fFamily===a[b].fFamily&&this.chars[c].ch===a[b].ch&&(d=!0),c+=1;d||(this.chars.push(a[b]),f+=1)}}}function s(a,c,d){for(var e=0,f=this.chars.length;e<f;){if(this.chars[e].ch===a&&this.chars[e].style===c&&this.chars[e].fFamily===d)return this.chars[e];e+=1}return("string"==typeof a&&13!==a.charCodeAt(0)||!a)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",a,c,d)),b}function t(a,b,c){var d=this.getFontByName(b),e=a;if(!d.cache[e]){var f=d.helper;if(" "===a){var g=f.measureText("|"+a+"|"),h=f.measureText("||");d.cache[e]=(g-h)/100}else d.cache[e]=f.measureText(a)/100}return d.cache[e]*c}function u(a){for(var b=0,c=this.fonts.length;b<c;){if(this.fonts[b].fName===a)return this.fonts[b];b+=1}return this.fonts[0]}function v(a){var b=0,c=a.charCodeAt(0);if(c>=55296&&c<=56319){var d=a.charCodeAt(1);d>=56320&&d<=57343&&(b=(c-55296)*1024+d-56320+65536)}return b}function w(a){return a===i}function x(a){return a===h}function y(a){var b=v(a);return!!(b>=j)&&!!(b<=k)}function z(a){return y(a.substr(0,2))&&y(a.substr(2,2))}function A(a){return -1!==c.indexOf(a)}function B(a,b){var c=v(a.substr(b,2));if(c!==d)return!1;var h=0;for(b+=2;h<5;){if((c=v(a.substr(b,2)))<f||c>g)return!1;h+=1,b+=2}return v(a.substr(b,2))===e}function C(){this.isLoaded=!0}var D=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return D.isModifier=function(a,b){var c=a.toString(16)+b.toString(16);return -1!==l.indexOf(c)},D.isZeroWidthJoiner=w,D.isFlagEmoji=z,D.isRegionalCode=y,D.isCombinedCharacter=A,D.isRegionalFlag=B,D.isVariationSelector=x,D.BLACK_FLAG_CODE_POINT=d,D.prototype={addChars:r,addFonts:q,getCharData:s,getFontByName:u,measureText:t,checkLoadedFonts:o,setIsLoaded:C},D}();function SlotManager(a){this.animationData=a}function slotFactory(a){return new SlotManager(a)}function RenderableElement(){}SlotManager.prototype.getProp=function(a){return this.animationData.slots&&this.animationData.slots[a.sid]?Object.assign(a,this.animationData.slots[a.sid].p):a},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(a){-1===this.renderableComponents.indexOf(a)&&this.renderableComponents.push(a)},removeRenderableComponent:function(a){-1!==this.renderableComponents.indexOf(a)&&this.renderableComponents.splice(this.renderableComponents.indexOf(a),1)},prepareRenderableFrame:function(a){this.checkLayerLimits(a)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(a){this.data.ip-this.data.st<=a&&this.data.op-this.data.st>a?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var a,b=this.renderableComponents.length;for(a=0;a<b;a+=1)this.renderableComponents[a].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var a={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(b){return a[b]||""}}();function SliderEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function AngleEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function ColorEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function PointEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function LayerIndexEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function MaskIndexEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function CheckboxEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function NoValueEffect(){this.p={}}function EffectsManager(a,b){var c,d,e=a.ef||[];this.effectElements=[];var f=e.length;for(c=0;c<f;c+=1)d=new GroupEffect(e[c],b),this.effectElements.push(d)}function GroupEffect(a,b){this.init(a,b)}function BaseElement(){}function FrameElement(){}function FootageElement(a,b,c){this.initFrame(),this.initRenderable(),this.assetData=b.getAssetData(a.refId),this.footageData=b.imageLoader.getAsset(this.assetData),this.initBaseData(a,b,c)}function AudioElement(a,b,c){this.initFrame(),this.initRenderable(),this.assetData=b.getAssetData(a.refId),this.initBaseData(a,b,c),this._isPlaying=!1,this._canPlay=!1;var d=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(d),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,a.au&&a.au.lv?a.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(a,b){this.data=a,this.effectElements=[],this.initDynamicPropertyContainer(b);var c,d,e=this.data.ef.length,f=this.data.ef;for(c=0;c<e;c+=1){switch(d=null,f[c].ty){case 0:d=new SliderEffect(f[c],b,this);break;case 1:d=new AngleEffect(f[c],b,this);break;case 2:d=new ColorEffect(f[c],b,this);break;case 3:d=new PointEffect(f[c],b,this);break;case 4:case 7:d=new CheckboxEffect(f[c],b,this);break;case 10:d=new LayerIndexEffect(f[c],b,this);break;case 11:d=new MaskIndexEffect(f[c],b,this);break;case 5:d=new EffectsManager(f[c],b,this);break;default:d=new NoValueEffect(f[c],b,this)}d&&this.effectElements.push(d)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var a=0,b=this.data.masksProperties.length;a<b;){if("n"!==this.data.masksProperties[a].mode&&!1!==this.data.masksProperties[a].cl)return!0;a+=1}return!1},initExpressions:function(){var a=getExpressionInterfaces();if(a){var b=a("layer"),c=a("effects"),d=a("shape"),e=a("text"),f=a("comp");this.layerInterface=b(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var g=c.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(g),0===this.data.ty||this.data.xt?this.compInterface=f(this):4===this.data.ty?(this.layerInterface.shapeInterface=d(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=e(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var a=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=a},initBaseData:function(a,b,c){this.globalData=b,this.comp=c,this.data=a,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(a,b){var c,d=this.dynamicProperties.length;for(c=0;c<d;c+=1)(b||this._isParent&&"transform"===this.dynamicProperties[c].propType)&&(this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(a){-1===this.dynamicProperties.indexOf(a)&&this.dynamicProperties.push(a)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var a=getExpressionInterfaces();if(a){var b=a("footage");this.layerInterface=b(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(a){if(this.prepareRenderableFrame(a,!0),this.prepareProperties(a,!0),this.tm._placeholder)this._currentTime=a/this.data.sr;else{var b=this.tm.v;this._currentTime=b}this._volume=this.lv.v[0];var c=this._volume*this._volumeMultiplier;this._previousVolume!==c&&(this._previousVolume=c,this.audio.volume(c))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(a){this.audio.rate(a)},AudioElement.prototype.volume=function(a){this._volumeMultiplier=a,this._previousVolume=a*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(a){var b,c,d=this.layers.length;for(this.completeLayers=!0,b=d-1;b>=0;b-=1)!this.elements[b]&&(c=this.layers[b]).ip-c.st<=a-this.layers[b].st&&c.op-c.st>a-this.layers[b].st&&this.buildItem(b),this.completeLayers=!!this.elements[b]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(a){switch(a.ty){case 2:return this.createImage(a);case 0:return this.createComp(a);case 1:return this.createSolid(a);case 3:default:return this.createNull(a);case 4:return this.createShape(a);case 5:return this.createText(a);case 6:return this.createAudio(a);case 13:return this.createCamera(a);case 15:return this.createFootage(a)}},BaseRenderer.prototype.createCamera=function(){throw Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(a){return new AudioElement(a,this.globalData,this)},BaseRenderer.prototype.createFootage=function(a){return new FootageElement(a,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var a,b=this.layers.length;for(a=0;a<b;a+=1)this.buildItem(a);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(a){this.completeLayers=!1;var b,c,d=a.length,e=this.layers.length;for(b=0;b<d;b+=1)for(c=0;c<e;){if(this.layers[c].id===a[b].id){this.layers[c]=a[b];break}c+=1}},BaseRenderer.prototype.setProjectInterface=function(a){this.globalData.projectInterface=a},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(a,b,c){for(var d=this.elements,e=this.layers,f=0,g=e.length;f<g;)e[f].ind==b&&(d[f]&&!0!==d[f]?(c.push(d[f]),d[f].setAsParent(),void 0!==e[f].parent?this.buildElementParenting(a,e[f].parent,c):a.setHierarchy(c)):(this.buildItem(f),this.addPendingElement(a))),f+=1},BaseRenderer.prototype.addPendingElement=function(a){this.pendingElements.push(a)},BaseRenderer.prototype.searchExtraCompositions=function(a){var b,c=a.length;for(b=0;b<c;b+=1)if(a[b].xt){var d=this.createComp(a[b]);d.initExpressions(),this.globalData.projectInterface.registerComposition(d)}},BaseRenderer.prototype.getElementById=function(a){var b,c=this.elements.length;for(b=0;b<c;b+=1)if(this.elements[b].data.ind===a)return this.elements[b];return null},BaseRenderer.prototype.getElementByPath=function(a){var b=a.shift();if("number"==typeof b)c=this.elements[b];else{var c,d,e=this.elements.length;for(d=0;d<e;d+=1)if(this.elements[d].data.nm===b){c=this.elements[d];break}}return 0===a.length?c:c.getElementByPath(a)},BaseRenderer.prototype.setupGlobalData=function(a,b){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(a),this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,b),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=a.fr,this.globalData.nm=a.nm,this.globalData.compSize={w:a.w,h:a.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(a,b,c){this.data=a,this.element=b,this.globalData=c,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var d=this.globalData.defs,e=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(e),this.solidPath="";var f=this.masksProperties,g=0,h=[],i=createElementID(),j="clipPath",k="clip-path";for(l=0;l<e;l+=1)if(("a"!==f[l].mode&&"n"!==f[l].mode||f[l].inv||100!==f[l].o.k||f[l].o.x)&&(j="mask",k="mask"),("s"===f[l].mode||"i"===f[l].mode)&&0===g?((o=createNS("rect")).setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w||0),o.setAttribute("height",this.element.comp.data.h||0),h.push(o)):o=null,m=createNS("path"),"n"===f[l].mode)this.viewData[l]={op:PropertyFactory.getProp(this.element,f[l].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[l],3),elem:m,lastPath:""},d.appendChild(m);else{if(g+=1,m.setAttribute("fill","s"===f[l].mode?"#000000":"#ffffff"),m.setAttribute("clip-rule","nonzero"),0!==f[l].x.k?(j="mask",k="mask",r=PropertyFactory.getProp(this.element,f[l].x,0,null,this.element),s=createElementID(),(p=createNS("filter")).setAttribute("id",s),(q=createNS("feMorphology")).setAttribute("operator","erode"),q.setAttribute("in","SourceGraphic"),q.setAttribute("radius","0"),p.appendChild(q),d.appendChild(p),m.setAttribute("stroke","s"===f[l].mode?"#000000":"#ffffff")):(q=null,r=null),this.storedData[l]={elem:m,x:r,expan:q,lastPath:"",lastOperator:"",filterId:s,lastRadius:0},"i"===f[l].mode){var l,m,n,o,p,q,r,s,t=h.length,u=createNS("g");for(n=0;n<t;n+=1)u.appendChild(h[n]);var v=createNS("mask");v.setAttribute("mask-type","alpha"),v.setAttribute("id",i+"_"+g),v.appendChild(m),d.appendChild(v),u.setAttribute("mask","url("+getLocationHref()+"#"+i+"_"+g+")"),h.length=0,h.push(u)}else h.push(m);f[l].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[l]={elem:m,lastPath:"",op:PropertyFactory.getProp(this.element,f[l].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[l],3),invRect:o},this.viewData[l].prop.k||this.drawPath(f[l],this.viewData[l].prop.v,this.viewData[l])}for(l=0,this.maskElement=createNS(j),e=h.length;l<e;l+=1)this.maskElement.appendChild(h[l]);g>0&&(this.maskElement.setAttribute("id",i),this.element.maskedElement.setAttribute(k,"url("+getLocationHref()+"#"+i+")"),d.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var a=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:a,localMat:a,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var a,b=this.finalTransform.mat,c=0,d=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;c<d;){if(this.hierarchy[c].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}c+=1}if(this.finalTransform._matMdf)for(a=this.finalTransform.mProp.v.props,b.cloneFromProps(a),c=0;c<d;c+=1)b.multiply(this.hierarchy[c].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var a=0,b=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;a<b;)this.localTransforms[a]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[a]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),a+=1;if(this.finalTransform._localMatMdf){var c=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(c),a=1;a<b;a+=1){var d=this.localTransforms[a].matrix;c.multiply(d)}c.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var e=this.finalTransform.localOpacity;for(a=0;a<b;a+=1)e*=.01*this.localTransforms[a].opacity;this.finalTransform.localOpacity=e}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var a=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(a.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var b=0,c=a.length;for(b=0;b<c;b+=1)this.localTransforms.push(a[b])}}},globalToLocal:function(a){var b,c,d=[];d.push(this.finalTransform);for(var e=!0,f=this.comp;e;)f.finalTransform?(f.data.hasMask&&d.splice(0,0,f.finalTransform),f=f.comp):e=!1;var g=d.length;for(b=0;b<g;b+=1)c=d[b].mat.applyToPointArray(0,0,0),a=[a[0]-c[0],a[1]-c[1],0];return a},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(a){return this.viewData[a].prop},MaskElement.prototype.renderFrame=function(a){var b,c=this.element.finalTransform.mat,d=this.masksProperties.length;for(b=0;b<d;b+=1)if((this.viewData[b].prop._mdf||a)&&this.drawPath(this.masksProperties[b],this.viewData[b].prop.v,this.viewData[b]),(this.viewData[b].op._mdf||a)&&this.viewData[b].elem.setAttribute("fill-opacity",this.viewData[b].op.v),"n"!==this.masksProperties[b].mode&&(this.viewData[b].invRect&&(this.element.finalTransform.mProp._mdf||a)&&this.viewData[b].invRect.setAttribute("transform",c.getInverseMatrix().to2dCSS()),this.storedData[b].x&&(this.storedData[b].x._mdf||a))){var e=this.storedData[b].expan;this.storedData[b].x.v<0?("erode"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="erode",this.storedData[b].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[b].filterId+")")),e.setAttribute("radius",-this.storedData[b].x.v)):("dilate"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="dilate",this.storedData[b].elem.setAttribute("filter",null)),this.storedData[b].elem.setAttribute("stroke-width",2*this.storedData[b].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var a="M0,0 ";return a+(" h"+this.globalData.compSize.w+" v"+this.globalData.compSize.h+" h-"+this.globalData.compSize.w+(" v-"+this.globalData.compSize.h)+" ")},MaskElement.prototype.drawPath=function(a,b,c){var d,e,f=" M"+b.v[0][0]+","+b.v[0][1];for(d=1,e=b._length;d<e;d+=1)f+=" C"+b.o[d-1][0]+","+b.o[d-1][1]+" "+b.i[d][0]+","+b.i[d][1]+" "+b.v[d][0]+","+b.v[d][1];if(b.c&&e>1&&(f+=" C"+b.o[d-1][0]+","+b.o[d-1][1]+" "+b.i[0][0]+","+b.i[0][1]+" "+b.v[0][0]+","+b.v[0][1]),c.lastPath!==f){var g="";c.elem&&(b.c&&(g=a.inv?this.solidPath+f:f),c.elem.setAttribute("d",g)),c.lastPath=f}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var a={};function b(){var a=createNS("feColorMatrix");return a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),a}return a.createFilter=function a(a,b){var c=createNS("filter");return c.setAttribute("id",a),!0!==b&&(c.setAttribute("filterUnits","objectBoundingBox"),c.setAttribute("x","0%"),c.setAttribute("y","0%"),c.setAttribute("width","100%"),c.setAttribute("height","100%")),c},a.createAlphaToLuminanceFilter=b,a}(),featureSupport=function(){var a={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(a.maskType=!1),/firefox/i.test(navigator.userAgent)&&(a.svgLumaHidden=!1),a}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(a){var b,c,d="SourceGraphic",e=a.data.ef?a.data.ef.length:0,f=createElementID(),g=filtersFactory.createFilter(f,!0),h=0;for(b=0,this.filters=[];b<e;b+=1){c=null;var i=a.data.ef[b].ty;registeredEffects$1[i]&&(c=new registeredEffects$1[i].effect(g,a.effectsManager.effectElements[b],a,idPrefix+h,d),d=idPrefix+h,registeredEffects$1[i].countsAsEffect&&(h+=1)),c&&this.filters.push(c)}h&&(a.globalData.defs.appendChild(g),a.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+f+")")),this.filters.length&&a.addRenderableComponent(this)}function registerEffect$1(a,b,c){registeredEffects$1[a]={effect:b,countsAsEffect:c}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(a,b,c){this.assetData=b.getAssetData(a.refId),this.assetData&&this.assetData.sid&&(this.assetData=b.slotManager.getProp(this.assetData)),this.initElement(a,b,c),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(a,b){this.elem=a,this.pos=b}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(a){var b,c=this.filters.length;for(b=0;b<c;b+=1)this.filters[b].renderFrame(a)},SVGEffects.prototype.getEffects=function(a){var b,c=this.filters.length,d=[];for(b=0;b<c;b+=1)this.filters[b].type===a&&d.push(this.filters[b]);return d},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var a=null;if(this.data.td){this.matteMasks={};var b=createNS("g");b.setAttribute("id",this.layerId),b.appendChild(this.layerElement),a=b,this.globalData.defs.appendChild(b)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),a=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var c=createNS("clipPath"),d=createNS("path");d.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var e=createElementID();if(c.setAttribute("id",e),c.appendChild(d),this.globalData.defs.appendChild(c),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+getLocationHref()+"#"+e+")"),f.appendChild(this.layerElement),this.transformedElement=f,a?a.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+e+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(a){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[a]){var b,c,d,e,f=this.layerId+"_"+a;if(1===a||3===a){var g=createNS("mask");g.setAttribute("id",f),g.setAttribute("mask-type",3===a?"luminance":"alpha"),(d=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),g.appendChild(d),this.globalData.defs.appendChild(g),featureSupport.maskType||1!==a||(g.setAttribute("mask-type","luminance"),b=createElementID(),c=filtersFactory.createFilter(b),this.globalData.defs.appendChild(c),c.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(e=createNS("g")).appendChild(d),g.appendChild(e),e.setAttribute("filter","url("+getLocationHref()+"#"+b+")"))}else if(2===a){var h=createNS("mask");h.setAttribute("id",f),h.setAttribute("mask-type","alpha");var i=createNS("g");h.appendChild(i),b=createElementID(),c=filtersFactory.createFilter(b);var j=createNS("feComponentTransfer");j.setAttribute("in","SourceGraphic"),c.appendChild(j);var k=createNS("feFuncA");k.setAttribute("type","table"),k.setAttribute("tableValues","1.0 0.0"),j.appendChild(k),this.globalData.defs.appendChild(c);var l=createNS("rect");l.setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),i.setAttribute("filter","url("+getLocationHref()+"#"+b+")"),i.appendChild(l),(d=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),i.appendChild(d),featureSupport.maskType||(h.setAttribute("mask-type","luminance"),c.appendChild(filtersFactory.createAlphaToLuminanceFilter()),e=createNS("g"),i.appendChild(l),e.appendChild(this.layerElement),i.appendChild(e)),this.globalData.defs.appendChild(h)}this.matteMasks[a]=f}return this.matteMasks[a]},setMatte:function(a){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+a+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(a){this.hierarchy=a},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},function(){extendPrototype([RenderableElement,createProxyFunction({initElement:function(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initTransform(a,b,c),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement)}(),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(a){var b,c=this.shapeModifiers.length;for(b=0;b<c;b+=1)this.shapeModifiers[b].addShape(a)},isShapeInAnimatedModifiers:function(a){for(var b=0,c=this.shapeModifiers.length;b<c;)if(this.shapeModifiers[b].isAnimatedWithShape(a))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var a,b=this.shapes.length;for(a=0;a<b;a+=1)this.shapes[a].sh.reset();for(b=this.shapeModifiers.length,a=b-1;a>=0&&!this.shapeModifiers[a].processShapes(this._isFirstFrame);a-=1);}},searchProcessedElement:function(a){for(var b=this.processedElements,c=0,d=b.length;c<d;){if(b[c].elem===a)return b[c].pos;c+=1}return 0},addProcessedElement:function(a,b){for(var c=this.processedElements,d=c.length;d;)if(c[d-=1].elem===a){c[d].pos=b;return}c.push(new ProcessedElement(a,b))},prepareFrame:function(a){this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(a,b,c){this.caches=[],this.styles=[],this.transformers=a,this.lStr="",this.sh=c,this.lvl=b,this._isAnimated=!!c.k;for(var d=0,e=a.length;d<e;){if(a[d].mProps.dynamicProperties.length){this._isAnimated=!0;break}d+=1}}function SVGStyleData(a,b){this.data=a,this.type=a.ty,this.d="",this.lvl=b,this._mdf=!1,this.closed=!0===a.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(a,b,c,d){this.elem=a,this.frameId=-1,this.dataProps=createSizedArray(b.length),this.renderer=c,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",b.length?b.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(d);var e,f,g=b.length||0;for(e=0;e<g;e+=1)f=PropertyFactory.getProp(a,b[e].v,0,0,this),this.k=f.k||this.k,this.dataProps[e]={n:b[e].n,p:f};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(a,b.o,0,.01,this),this.w=PropertyFactory.getProp(a,b.w,0,null,this),this.d=new DashProperty(a,b.d||{},"svg",this),this.c=PropertyFactory.getProp(a,b.c,1,255,this),this.style=c,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(a,b.o,0,.01,this),this.c=PropertyFactory.getProp(a,b.c,1,255,this),this.style=c}function SVGNoStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.style=c}function GradientProperty(a,b,c){this.data=b,this.c=createTypedArray("uint8c",4*b.p);var d=b.k.k[0].s?b.k.k[0].s.length-4*b.p:b.k.k.length-4*b.p;this.o=createTypedArray("float32",d),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=d,this.initDynamicPropertyContainer(c),this.prop=PropertyFactory.getProp(a,b.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.initGradientData(a,b,c)}function SVGGradientStrokeStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(a,b.w,0,null,this),this.d=new DashProperty(a,b.d||{},"svg",this),this.initGradientData(a,b,c),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(a,b,c){this.transform={mProps:a,op:b,container:c},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(a){if((this.elem.globalData.frameId!==this.frameId||a)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||a,this._mdf)){var b=0,c=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),b=0;b<c;b+=1)"o"!==this.dataProps[b].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[b].p.v:this.dashArray[b]=this.dataProps[b].p.v:this.dashoffset[0]=this.dataProps[b].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(a,b){for(var c=0,d=this.o.length/2;c<d;){if(Math.abs(a[4*c]-a[4*b+2*c])>.01)return!1;c+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var a=0,b=this.data.k.k.length;a<b;){if(!this.comparePoints(this.data.k.k[a].s,this.data.p))return!1;a+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(a){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||a){var b,c,d,e=4*this.data.p;for(b=0;b<e;b+=1)c=b%4==0?100:255,d=Math.round(this.prop.v[b]*c),this.c[b]!==d&&(this.c[b]=d,this._cmdf=!a);if(this.o.length)for(e=this.prop.v.length,b=4*this.data.p;b<e;b+=1)c=b%2==0?100:1,d=b%2==0?Math.round(100*this.prop.v[b]):this.prop.v[b],this.o[b-4*this.data.p]!==d&&(this.o[b-4*this.data.p]=d,this._omdf=!a);this._mdf=!a}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(a,b,c){this.o=PropertyFactory.getProp(a,b.o,0,.01,this),this.s=PropertyFactory.getProp(a,b.s,1,null,this),this.e=PropertyFactory.getProp(a,b.e,1,null,this),this.h=PropertyFactory.getProp(a,b.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(a,b.a||{k:0},0,degToRads,this),this.g=new GradientProperty(a,b.g,this),this.style=c,this.stops=[],this.setGradientData(c.pElem,b),this.setGradientOpacity(b,c),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(a,b){var c,d,e,f=createElementID(),g=createNS(1===b.t?"linearGradient":"radialGradient");g.setAttribute("id",f),g.setAttribute("spreadMethod","pad"),g.setAttribute("gradientUnits","userSpaceOnUse");var h=[];for(d=0,e=4*b.g.p;d<e;d+=4)c=createNS("stop"),g.appendChild(c),h.push(c);a.setAttribute("gf"===b.ty?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),this.gf=g,this.cst=h},SVGGradientFillStyleData.prototype.setGradientOpacity=function(a,b){if(this.g._hasOpacity&&!this.g._collapsable){var c,d,e,f=createNS("mask"),g=createNS("path");f.appendChild(g);var h=createElementID(),i=createElementID();f.setAttribute("id",i);var j=createNS(1===a.t?"linearGradient":"radialGradient");j.setAttribute("id",h),j.setAttribute("spreadMethod","pad"),j.setAttribute("gradientUnits","userSpaceOnUse"),e=a.g.k.k[0].s?a.g.k.k[0].s.length:a.g.k.k.length;var k=this.stops;for(d=4*a.g.p;d<e;d+=2)(c=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),j.appendChild(c),k.push(c);g.setAttribute("gf"===a.ty?"fill":"stroke","url("+getLocationHref()+"#"+h+")"),"gs"===a.ty&&(g.setAttribute("stroke-linecap",lineCapEnum[a.lc||2]),g.setAttribute("stroke-linejoin",lineJoinEnum[a.lj||2]),1===a.lj&&g.setAttribute("stroke-miterlimit",a.ml)),this.of=j,this.ms=f,this.ost=k,this.maskId=i,b.msElem=g}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(a,b,c,d){if(0===b)return"";var e,f=a.o,g=a.i,h=a.v,i=" M"+d.applyToPointStringified(h[0][0],h[0][1]);for(e=1;e<b;e+=1)i+=" C"+d.applyToPointStringified(f[e-1][0],f[e-1][1])+" "+d.applyToPointStringified(g[e][0],g[e][1])+" "+d.applyToPointStringified(h[e][0],h[e][1]);return c&&b&&(i+=" C"+d.applyToPointStringified(f[e-1][0],f[e-1][1])+" "+d.applyToPointStringified(g[0][0],g[0][1])+" "+d.applyToPointStringified(h[0][0],h[0][1])+"z"),i},SVGElementsRenderer=function(){var a=new Matrix,b=new Matrix;function c(a,b,c){(c||b.transform.op._mdf)&&b.transform.container.setAttribute("opacity",b.transform.op.v),(c||b.transform.mProps._mdf)&&b.transform.container.setAttribute("transform",b.transform.mProps.v.to2dCSS())}function d(){}function e(c,d,e){var f,g,h,i,j,k,l,m,n,o,p=d.styles.length,q=d.lvl;for(k=0;k<p;k+=1){if(i=d.sh._mdf||e,d.styles[k].lvl<q){for(m=b.reset(),n=q-d.styles[k].lvl,o=d.transformers.length-1;!i&&n>0;)i=d.transformers[o].mProps._mdf||i,n-=1,o-=1;if(i)for(n=q-d.styles[k].lvl,o=d.transformers.length-1;n>0;)m.multiply(d.transformers[o].mProps.v),n-=1,o-=1}else m=a;if(g=(l=d.sh.paths)._length,i){for(f=0,h="";f<g;f+=1)(j=l.shapes[f])&&j._length&&(h+=buildShapeString(j,j._length,j.c,m));d.caches[k]=h}else h=d.caches[k];d.styles[k].d+=!0===c.hd?"":h,d.styles[k]._mdf=i||d.styles[k]._mdf}}function f(a,b,c){var d=b.style;(b.c._mdf||c)&&d.pElem.setAttribute("fill","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||c)&&d.pElem.setAttribute("fill-opacity",b.o.v)}function g(a,b,c){h(a,b,c),i(a,b,c)}function h(a,b,c){var d,e,f,g,h,i=b.gf,j=b.g._hasOpacity,k=b.s.v,l=b.e.v;if(b.o._mdf||c){var m="gf"===a.ty?"fill-opacity":"stroke-opacity";b.style.pElem.setAttribute(m,b.o.v)}if(b.s._mdf||c){var n=1===a.t?"x1":"cx",o="x1"===n?"y1":"cy";i.setAttribute(n,k[0]),i.setAttribute(o,k[1]),j&&!b.g._collapsable&&(b.of.setAttribute(n,k[0]),b.of.setAttribute(o,k[1]))}if(b.g._cmdf||c){d=b.cst;var p=b.g.c;for(e=0,f=d.length;e<f;e+=1)(g=d[e]).setAttribute("offset",p[4*e]+"%"),g.setAttribute("stop-color","rgb("+p[4*e+1]+","+p[4*e+2]+","+p[4*e+3]+")")}if(j&&(b.g._omdf||c)){var q=b.g.o;for(e=0,f=(d=b.g._collapsable?b.cst:b.ost).length;e<f;e+=1)g=d[e],b.g._collapsable||g.setAttribute("offset",q[2*e]+"%"),g.setAttribute("stop-opacity",q[2*e+1])}if(1===a.t)(b.e._mdf||c)&&(i.setAttribute("x2",l[0]),i.setAttribute("y2",l[1]),j&&!b.g._collapsable&&(b.of.setAttribute("x2",l[0]),b.of.setAttribute("y2",l[1])));else if((b.s._mdf||b.e._mdf||c)&&(h=Math.sqrt(Math.pow(k[0]-l[0],2)+Math.pow(k[1]-l[1],2)),i.setAttribute("r",h),j&&!b.g._collapsable&&b.of.setAttribute("r",h)),b.s._mdf||b.e._mdf||b.h._mdf||b.a._mdf||c){h||(h=Math.sqrt(Math.pow(k[0]-l[0],2)+Math.pow(k[1]-l[1],2)));var r=Math.atan2(l[1]-k[1],l[0]-k[0]),s=b.h.v;s>=1?s=.99:s<=-1&&(s=-.99);var t=h*s,u=Math.cos(r+b.a.v)*t+k[0],v=Math.sin(r+b.a.v)*t+k[1];i.setAttribute("fx",u),i.setAttribute("fy",v),j&&!b.g._collapsable&&(b.of.setAttribute("fx",u),b.of.setAttribute("fy",v))}}function i(a,b,c){var d=b.style,e=b.d;e&&(e._mdf||c)&&e.dashStr&&(d.pElem.setAttribute("stroke-dasharray",e.dashStr),d.pElem.setAttribute("stroke-dashoffset",e.dashoffset[0])),b.c&&(b.c._mdf||c)&&d.pElem.setAttribute("stroke","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||c)&&d.pElem.setAttribute("stroke-opacity",b.o.v),(b.w._mdf||c)&&(d.pElem.setAttribute("stroke-width",b.w.v),d.msElem&&d.msElem.setAttribute("stroke-width",b.w.v))}return{createRenderFunction:function(a){switch(a.ty){case"fl":return f;case"gf":return h;case"gs":return g;case"st":return i;case"sh":case"el":case"rc":case"sr":return e;case"tr":return c;case"no":return d;default:return null}}}}();function SVGShapeElement(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(a,b,c),this.prevViewData=[]}function LetterProps(a,b,c,d,e,f){this.o=a,this.sw=b,this.sc=c,this.fc=d,this.m=e,this.p=f,this._mdf={o:!0,sw:!!b,sc:!!c,fc:!!d,m:!0,p:!0}}function TextProperty(a,b){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,b.d&&b.d.sid&&(b.d=a.globalData.slotManager.getProp(b.d)),this.data=b,this.elem=a,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var a,b,c,d,e=this.shapes.length,f=this.stylesList.length,g=[],h=!1;for(c=0;c<f;c+=1){for(a=0,d=this.stylesList[c],h=!1,g.length=0;a<e;a+=1)-1!==(b=this.shapes[a]).styles.indexOf(d)&&(g.push(b),h=b._isAnimated||h);g.length>1&&h&&this.setShapesAsAnimated(g)}},SVGShapeElement.prototype.setShapesAsAnimated=function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(a,b){var c,d=new SVGStyleData(a,b),e=d.pElem;return"st"===a.ty?c=new SVGStrokeStyleData(this,a,d):"fl"===a.ty?c=new SVGFillStyleData(this,a,d):"gf"===a.ty||"gs"===a.ty?(c=new("gf"===a.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,a,d),this.globalData.defs.appendChild(c.gf),c.maskId&&(this.globalData.defs.appendChild(c.ms),this.globalData.defs.appendChild(c.of),e.setAttribute("mask","url("+getLocationHref()+"#"+c.maskId+")"))):"no"===a.ty&&(c=new SVGNoStyleData(this,a,d)),("st"===a.ty||"gs"===a.ty)&&(e.setAttribute("stroke-linecap",lineCapEnum[a.lc||2]),e.setAttribute("stroke-linejoin",lineJoinEnum[a.lj||2]),e.setAttribute("fill-opacity","0"),1===a.lj&&e.setAttribute("stroke-miterlimit",a.ml)),2===a.r&&e.setAttribute("fill-rule","evenodd"),a.ln&&e.setAttribute("id",a.ln),a.cl&&e.setAttribute("class",a.cl),a.bm&&(e.style["mix-blend-mode"]=getBlendMode(a.bm)),this.stylesList.push(d),this.addToAnimatedContents(a,c),c},SVGShapeElement.prototype.createGroupElement=function(a){var b=new ShapeGroupData;return a.ln&&b.gr.setAttribute("id",a.ln),a.cl&&b.gr.setAttribute("class",a.cl),a.bm&&(b.gr.style["mix-blend-mode"]=getBlendMode(a.bm)),b},SVGShapeElement.prototype.createTransformElement=function(a,b){var c=TransformPropertyFactory.getTransformProperty(this,a,this),d=new SVGTransformData(c,c.o,b);return this.addToAnimatedContents(a,d),d},SVGShapeElement.prototype.createShapeElement=function(a,b,c){var d=4;"rc"===a.ty?d=5:"el"===a.ty?d=6:"sr"===a.ty&&(d=7);var e=new SVGShapeData(b,c,ShapePropertyFactory.getShapeProp(this,a,d,this));return this.shapes.push(e),this.addShapeToModifiers(e),this.addToAnimatedContents(a,e),e},SVGShapeElement.prototype.addToAnimatedContents=function(a,b){for(var c=0,d=this.animatedContents.length;c<d;){if(this.animatedContents[c].element===b)return;c+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(a),element:b,data:a})},SVGShapeElement.prototype.setElementStyles=function(a){var b,c=a.styles,d=this.stylesList.length;for(b=0;b<d;b+=1)-1!==c.indexOf(this.stylesList[b])||this.stylesList[b].closed||c.push(this.stylesList[b])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,b=this.itemsData.length;for(a=0;a<b;a+=1)this.prevViewData[a]=this.itemsData[a];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),b=this.dynamicProperties.length,a=0;a<b;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=[].concat(f),o=a.length-1,p=[],q=[];for(h=o;h>=0;h-=1){if((m=this.searchProcessedElement(a[h]))?b[h]=c[m-1]:a[h]._render=g,"fl"===a[h].ty||"st"===a[h].ty||"gf"===a[h].ty||"gs"===a[h].ty||"no"===a[h].ty)m?b[h].style.closed=a[h].hd:b[h]=this.createStyleElement(a[h],e),a[h]._render&&b[h].style.pElem.parentNode!==d&&d.appendChild(b[h].style.pElem),p.push(b[h].style);else if("gr"===a[h].ty){if(m)for(i=0,j=b[h].it.length;i<j;i+=1)b[h].prevViewData[i]=b[h].it[i];else b[h]=this.createGroupElement(a[h]);this.searchShapes(a[h].it,b[h].it,b[h].prevViewData,b[h].gr,e+1,n,g),a[h]._render&&b[h].gr.parentNode!==d&&d.appendChild(b[h].gr)}else"tr"===a[h].ty?(m||(b[h]=this.createTransformElement(a[h],d)),k=b[h].transform,n.push(k)):"sh"===a[h].ty||"rc"===a[h].ty||"el"===a[h].ty||"sr"===a[h].ty?(m||(b[h]=this.createShapeElement(a[h],n,e)),this.setElementStyles(b[h])):"tm"===a[h].ty||"rd"===a[h].ty||"ms"===a[h].ty||"pb"===a[h].ty||"zz"===a[h].ty||"op"===a[h].ty?(m?(l=b[h]).closed=!1:((l=ShapeModifiers.getModifier(a[h].ty)).init(this,a[h]),b[h]=l,this.shapeModifiers.push(l)),q.push(l)):"rp"===a[h].ty&&(m?(l=b[h]).closed=!0:(l=ShapeModifiers.getModifier(a[h].ty),b[h]=l,l.init(this,a,h,b),this.shapeModifiers.push(l),g=!1),q.push(l));this.addProcessedElement(a[h],h+1)}for(h=0,o=p.length;h<o;h+=1)p[h].closed=!0;for(h=0,o=q.length;h<o;h+=1)q[h].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var a,b=this.stylesList.length;for(a=0;a<b;a+=1)this.stylesList[a].reset();for(this.renderShape(),a=0;a<b;a+=1)(this.stylesList[a]._mdf||this._isFirstFrame)&&(this.stylesList[a].msElem&&(this.stylesList[a].msElem.setAttribute("d",this.stylesList[a].d),this.stylesList[a].d="M0 0"+this.stylesList[a].d),this.stylesList[a].pElem.setAttribute("d",this.stylesList[a].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var a,b,c=this.animatedContents.length;for(a=0;a<c;a+=1)b=this.animatedContents[a],(this._isFirstFrame||b.element._isAnimated)&&!0!==b.data&&b.fn(b.data,b.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(a,b,c,d,e,f){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var g=!1;return this.o!==a&&(this.o=a,this._mdf.o=!0,g=!0),this.sw!==b&&(this.sw=b,this._mdf.sw=!0,g=!0),this.sc!==c&&(this.sc=c,this._mdf.sc=!0,g=!0),this.fc!==d&&(this.fc=d,this._mdf.fc=!0,g=!0),this.m!==e&&(this.m=e,this._mdf.m=!0,g=!0),f.length&&(this.p[0]!==f[0]||this.p[1]!==f[1]||this.p[4]!==f[4]||this.p[5]!==f[5]||this.p[12]!==f[12]||this.p[13]!==f[13])&&(this.p=f,this._mdf.p=!0,g=!0),g},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a},TextProperty.prototype.setCurrentData=function(a){a.__complete||this.completeTextData(a),this.currentData=a,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(a){this.effectsSequence.push(a),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(a){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||a){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var b,c=this.currentData,d=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var e=this.effectsSequence.length,f=a||this.data.d.k[this.keysIndex].s;for(b=0;b<e;b+=1)f=d!==this.keysIndex?this.effectsSequence[b](f,f.t):this.effectsSequence[b](this.currentData,f.t);c!==f&&this.setCurrentData(f),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var a=this.data.d.k,b=this.elem.comp.renderedFrame,c=0,d=a.length;c<=d-1&&c!==d-1&&!(a[c+1].t>b);)c+=1;return this.keysIndex!==c&&(this.keysIndex=c),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(a){for(var b,c,d=[],e=0,f=a.length,g=!1,h=!1,i="";e<f;)g=h,h=!1,b=a.charCodeAt(e),i=a.charAt(e),FontManager.isCombinedCharacter(b)?g=!0:b>=55296&&b<=56319?FontManager.isRegionalFlag(a,e)?i=a.substr(e,14):(c=a.charCodeAt(e+1))>=56320&&c<=57343&&(FontManager.isModifier(b,c)?(i=a.substr(e,2),g=!0):i=FontManager.isFlagEmoji(a.substr(e,4))?a.substr(e,4):a.substr(e,2)):b>56319?(c=a.charCodeAt(e+1),FontManager.isVariationSelector(b)&&(g=!0)):FontManager.isZeroWidthJoiner(b)&&(g=!0,h=!0),g?(d[d.length-1]+=i,g=!1):d.push(i),e+=i.length;return d},TextProperty.prototype.completeTextData=function(a){a.__complete=!0;var b=this.elem.globalData.fontManager,c=this.data,d=[],e=0,f=c.m.g,g=0,h=0,i=0,j=[],k=0,l=0,m=b.getFontByName(a.f),n=0,o=getFontProperties(m);a.fWeight=o.weight,a.fStyle=o.style,a.finalSize=a.s,a.finalText=this.buildFinalText(a.t),r=a.finalText.length,a.finalLineHeight=a.lh;var p=a.tr/1e3*a.finalSize;if(a.sz)for(var q,r,s,t,u,v,w,x,y,z,A=!0,B=a.sz[0],C=a.sz[1];A;){z=this.buildFinalText(a.t),y=0,k=0,r=z.length,p=a.tr/1e3*a.finalSize;var D=-1;for(q=0;q<r;q+=1)x=z[q].charCodeAt(0),s=!1," "===z[q]?D=q:(13===x||3===x)&&(k=0,s=!0,y+=a.finalLineHeight||1.2*a.finalSize),b.chars?(w=b.getCharData(z[q],m.fStyle,m.fFamily),n=s?0:w.w*a.finalSize/100):n=b.measureText(z[q],a.f,a.finalSize),k+n>B&&" "!==z[q]?(-1===D?r+=1:q=D,y+=a.finalLineHeight||1.2*a.finalSize,z.splice(q,+(D===q),"\r"),D=-1,k=0):(k+=n,k+=p);y+=m.ascent*a.finalSize/100,this.canResize&&a.finalSize>this.minimumFontSize&&C<y?(a.finalSize-=1,a.finalLineHeight=a.finalSize*a.lh/a.s):(a.finalText=z,r=a.finalText.length,A=!1)}k=-p,n=0;var E=0;for(q=0;q<r;q+=1)if(s=!1,13===(x=(H=a.finalText[q]).charCodeAt(0))||3===x?(E=0,j.push(k),l=k>l?k:l,k=-2*p,t="",s=!0,i+=1):t=H,b.chars?(w=b.getCharData(H,m.fStyle,b.getFontByName(a.f).fFamily),n=s?0:w.w*a.finalSize/100):n=b.measureText(t,a.f,a.finalSize)," "===H?E+=n+p:(k+=n+p+E,E=0),d.push({l:n,an:n,add:g,n:s,anIndexes:[],val:t,line:i,animatorJustifyOffset:0}),2==f){if(g+=n,""===t||" "===t||q===r-1){for((""===t||" "===t)&&(g-=n);h<=q;)d[h].an=g,d[h].ind=e,d[h].extra=n,h+=1;e+=1,g=0}}else if(3==f){if(g+=n,""===t||q===r-1){for(""===t&&(g-=n);h<=q;)d[h].an=g,d[h].ind=e,d[h].extra=n,h+=1;g=0,e+=1}}else d[e].ind=e,d[e].extra=0,e+=1;if(a.l=d,l=k>l?k:l,j.push(k),a.sz)a.boxWidth=a.sz[0],a.justifyOffset=0;else switch(a.boxWidth=l,a.j){case 1:a.justifyOffset=-a.boxWidth;break;case 2:a.justifyOffset=-a.boxWidth/2;break;default:a.justifyOffset=0}a.lineWidths=j;var F=c.a;v=F.length;var G=[];for(u=0;u<v;u+=1){for((I=F[u]).a.sc&&(a.strokeColorAnim=!0),I.a.sw&&(a.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(a.fillColorAnim=!0),L=0,K=I.s.b,q=0;q<r;q+=1)(J=d[q]).anIndexes[u]=L,(1==K&&""!==J.val||2==K&&""!==J.val&&" "!==J.val||3==K&&(J.n||" "==J.val||q==r-1)||4==K&&(J.n||q==r-1))&&(1===I.s.rn&&G.push(L),L+=1);c.a[u].s.totalChars=L;var H,I,J,K,L,M,N=-1;if(1===I.s.rn)for(q=0;q<r;q+=1)N!=(J=d[q]).anIndexes[u]&&(N=J.anIndexes[u],M=G.splice(Math.floor(Math.random()*G.length),1)[0]),J.anIndexes[u]=M}a.yOffset=a.finalLineHeight||1.2*a.finalSize,a.ls=a.ls||0,a.ascent=m.ascent*a.finalSize/100},TextProperty.prototype.updateDocumentData=function(a,b){b=void 0===b?this.keysIndex:b;var c=this.copyData({},this.data.d.k[b].s);c=this.copyData(c,a),this.data.d.k[b].s=c,this.recalculate(b),this.setCurrentData(c),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(a){var b=this.data.d.k[a].s;b.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(b)},TextProperty.prototype.canResizeFont=function(a){this.canResize=a,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(a){this.minimumFontSize=Math.floor(a)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var a=Math.max,b=Math.min,c=Math.floor;function d(a,b){this._currentTextLength=-1,this.k=!1,this.data=b,this.elem=a,this.comp=a.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(a),this.s=PropertyFactory.getProp(a,b.s||{k:0},0,0,this),"e"in b?this.e=PropertyFactory.getProp(a,b.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(a,b.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(a,b.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(a,b.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(a,b.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(a,b.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return d.prototype={getMult:function(d){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=0,f=0,g=1,h=1;this.ne.v>0?e=this.ne.v/100:f=-this.ne.v/100,this.xe.v>0?g=1-this.xe.v/100:h=1+this.xe.v/100;var i=BezierFactory.getBezierEasing(e,f,g,h).get,j=0,k=this.finalS,l=this.finalE,m=this.data.sh;if(2===m)j=i(j=l===k?+(d>=l):a(0,b(.5/(l-k)+(d-k)/(l-k),1)));else if(3===m)j=i(j=l===k?d>=l?0:1:1-a(0,b(.5/(l-k)+(d-k)/(l-k),1)));else if(4===m)l===k?j=0:(j=a(0,b(.5/(l-k)+(d-k)/(l-k),1)))<.5?j*=2:j=1-2*(j-.5),j=i(j);else if(5===m){if(l===k)j=0;else{var n=l-k,o=-n/2+(d=b(a(0,d+.5-k),l-k)),p=n/2;j=Math.sqrt(1-o*o/(p*p))}j=i(j)}else 6===m?j=i(j=l===k?0:(1+Math.cos(Math.PI+2*Math.PI*(d=b(a(0,d+.5-k),l-k))/(l-k)))/2):(d>=c(k)&&(j=d-k<0?a(0,b(b(l,1)-(k-d),1)):a(0,b(l-d,1))),j=i(j));if(100!==this.sm.v){var q=.01*this.sm.v;0===q&&(q=1e-8);var r=.5-.5*q;j<r?j=0:(j=(j-r)/q)>1&&(j=1)}return j*this.a.v},getValue:function(a){this.iterateDynamicProperties(),this._mdf=a||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,a&&2===this.data.r&&(this.e.v=this._currentTextLength);var b=2===this.data.r?1:100/this.data.totalChars,c=this.o.v/b,d=this.s.v/b+c,e=this.e.v/b+c;if(d>e){var f=d;d=e,e=f}this.finalS=d,this.finalE=e}},extendPrototype([DynamicPropertyContainer],d),{getTextSelectorProp:function(a,b,c){return new d(a,b,c)}}}();function TextAnimatorDataProperty(a,b,c){var d={propType:!1},e=PropertyFactory.getProp,f=b.a;this.a={r:f.r?e(a,f.r,0,degToRads,c):d,rx:f.rx?e(a,f.rx,0,degToRads,c):d,ry:f.ry?e(a,f.ry,0,degToRads,c):d,sk:f.sk?e(a,f.sk,0,degToRads,c):d,sa:f.sa?e(a,f.sa,0,degToRads,c):d,s:f.s?e(a,f.s,1,.01,c):d,a:f.a?e(a,f.a,1,0,c):d,o:f.o?e(a,f.o,0,.01,c):d,p:f.p?e(a,f.p,1,0,c):d,sw:f.sw?e(a,f.sw,0,0,c):d,sc:f.sc?e(a,f.sc,1,0,c):d,fc:f.fc?e(a,f.fc,1,0,c):d,fh:f.fh?e(a,f.fh,0,0,c):d,fs:f.fs?e(a,f.fs,0,.01,c):d,fb:f.fb?e(a,f.fb,0,.01,c):d,t:f.t?e(a,f.t,0,0,c):d},this.s=TextSelectorProp.getTextSelectorProp(a,b.s,c),this.s.t=b.s.t}function TextAnimatorProperty(a,b,c){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=a,this._renderType=b,this._elem=c,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(c)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var a,b,c=this._textData.a.length,d=PropertyFactory.getProp;for(a=0;a<c;a+=1)b=this._textData.a[a],this._animatorsData[a]=new TextAnimatorDataProperty(this._elem,b,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:d(this._elem,this._textData.p.a,0,0,this),f:d(this._elem,this._textData.p.f,0,0,this),l:d(this._elem,this._textData.p.l,0,0,this),r:d(this._elem,this._textData.p.r,0,0,this),p:d(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=d(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(a,b){if(this.lettersChangedFlag=b,this._mdf||this._isFirstFrame||b||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this._moreOptions.alignment.v,v=this._animatorsData,w=this._textData,x=this.mHelper,y=this._renderType,z=this.renderedLetters.length,A=a.l;if(this._hasMaskedPath){if(T=this._pathData.m,!this._pathData.n||this._pathData._mdf){var B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V=T.v;for(this._pathData.r.v&&(V=V.reverse()),F={tLength:0,segments:[]},E=V._length-1,Q=0,D=0;D<E;D+=1)U=bez.buildBezierData(V.v[D],V.v[D+1],[V.o[D][0]-V.v[D][0],V.o[D][1]-V.v[D][1]],[V.i[D+1][0]-V.v[D+1][0],V.i[D+1][1]-V.v[D+1][1]]),F.tLength+=U.segmentLength,F.segments.push(U),Q+=U.segmentLength;D=E,T.v.c&&(U=bez.buildBezierData(V.v[D],V.v[0],[V.o[D][0]-V.v[D][0],V.o[D][1]-V.v[D][1]],[V.i[0][0]-V.v[0][0],V.i[0][1]-V.v[0][1]]),F.tLength+=U.segmentLength,F.segments.push(U),Q+=U.segmentLength),this._pathData.pi=F}if(F=this._pathData.pi,G=this._pathData.f.v,L=0,K=1,I=0,J=!0,O=F.segments,G<0&&T.v.c)for(F.tLength<Math.abs(G)&&(G=-Math.abs(G)%F.tLength),L=O.length-1,K=(N=O[L].points).length-1;G<0;)G+=N[K].partialLength,(K-=1)<0&&(L-=1,K=(N=O[L].points).length-1);M=(N=O[L].points)[K-1],P=(H=N[K]).partialLength}E=A.length,B=0,C=0;var W=1.2*a.finalSize*.714,X=!0;f=v.length;var Y=-1,Z=G,$=L,_=K,aa=-1,ab="",ac=this.defaultPropsArray;if(2===a.j||1===a.j){var ad=0,ae=0,af=2===a.j?-.5:-1,ag=0,ah=!0;for(D=0;D<E;D+=1)if(A[D].n){for(ad&&(ad+=ae);ag<D;)A[ag].animatorJustifyOffset=ad,ag+=1;ad=0,ah=!0}else{for(e=0;e<f;e+=1)(c=v[e].a).t.propType&&(ah&&2===a.j&&(ae+=c.t.v*af),(h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars)).length?ad+=c.t.v*h[0]*af:ad+=c.t.v*h*af);ah=!1}for(ad&&(ad+=ae);ag<D;)A[ag].animatorJustifyOffset=ad,ag+=1}for(D=0;D<E;D+=1){if(x.reset(),l=1,A[D].n)B=0,C+=a.yOffset,C+=+!!X,G=Z,X=!1,this._hasMaskedPath&&(L=$,K=_,M=(N=O[L].points)[K-1],P=(H=N[K]).partialLength,I=0),ab="",s="",q="",t="",ac=this.defaultPropsArray;else{if(this._hasMaskedPath){if(aa!==A[D].line){switch(a.j){case 1:G+=Q-a.lineWidths[A[D].line];break;case 2:G+=(Q-a.lineWidths[A[D].line])/2}aa=A[D].line}Y!==A[D].ind&&(A[Y]&&(G+=A[Y].extra),G+=A[D].an/2,Y=A[D].ind),G+=u[0]*A[D].an*.005;var ai=0;for(e=0;e<f;e+=1)(c=v[e].a).p.propType&&((h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars)).length?ai+=c.p.v[0]*h[0]:ai+=c.p.v[0]*h),c.a.propType&&((h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars)).length?ai+=c.a.v[0]*h[0]:ai+=c.a.v[0]*h);for(J=!0,this._pathData.a.v&&(G=.5*A[0].an+(Q-this._pathData.f.v-.5*A[0].an-.5*A[A.length-1].an)*Y/(E-1)+this._pathData.f.v);J;)I+P>=G+ai||!N?(R=(G+ai-I)/H.partialLength,j=M.point[0]+(H.point[0]-M.point[0])*R,k=M.point[1]+(H.point[1]-M.point[1])*R,x.translate(-u[0]*A[D].an*.005,-(.01*(u[1]*W))),J=!1):N&&(I+=H.partialLength,(K+=1)>=N.length&&(K=0,O[L+=1]?N=O[L].points:T.v.c?(K=0,N=O[L=0].points):(I-=H.partialLength,N=null)),N&&(M=H,P=(H=N[K]).partialLength));i=A[D].an/2-A[D].add,x.translate(-i,0,0)}else i=A[D].an/2-A[D].add,x.translate(-i,0,0),x.translate(-u[0]*A[D].an*.005,-u[1]*W*.01,0);for(e=0;e<f;e+=1)(c=v[e].a).t.propType&&(h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars),(0!==B||0!==a.j)&&(this._hasMaskedPath?h.length?G+=c.t.v*h[0]:G+=c.t.v*h:h.length?B+=c.t.v*h[0]:B+=c.t.v*h));for(a.strokeWidthAnim&&(n=a.sw||0),a.strokeColorAnim&&(m=a.sc?[a.sc[0],a.sc[1],a.sc[2]]:[0,0,0]),a.fillColorAnim&&a.fc&&(o=[a.fc[0],a.fc[1],a.fc[2]]),e=0;e<f;e+=1)(c=v[e].a).a.propType&&((h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars)).length?x.translate(-c.a.v[0]*h[0],-c.a.v[1]*h[1],c.a.v[2]*h[2]):x.translate(-c.a.v[0]*h,-c.a.v[1]*h,c.a.v[2]*h));for(e=0;e<f;e+=1)(c=v[e].a).s.propType&&((h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars)).length?x.scale(1+(c.s.v[0]-1)*h[0],1+(c.s.v[1]-1)*h[1],1):x.scale(1+(c.s.v[0]-1)*h,1+(c.s.v[1]-1)*h,1));for(e=0;e<f;e+=1){if(c=v[e].a,h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars),c.sk.propType&&(h.length?x.skewFromAxis(-c.sk.v*h[0],c.sa.v*h[1]):x.skewFromAxis(-c.sk.v*h,c.sa.v*h)),c.r.propType&&(h.length?x.rotateZ(-c.r.v*h[2]):x.rotateZ(-c.r.v*h)),c.ry.propType&&(h.length?x.rotateY(c.ry.v*h[1]):x.rotateY(c.ry.v*h)),c.rx.propType&&(h.length?x.rotateX(c.rx.v*h[0]):x.rotateX(c.rx.v*h)),c.o.propType&&(h.length?l+=(c.o.v*h[0]-l)*h[0]:l+=(c.o.v*h-l)*h),a.strokeWidthAnim&&c.sw.propType&&(h.length?n+=c.sw.v*h[0]:n+=c.sw.v*h),a.strokeColorAnim&&c.sc.propType)for(p=0;p<3;p+=1)h.length?m[p]+=(c.sc.v[p]-m[p])*h[0]:m[p]+=(c.sc.v[p]-m[p])*h;if(a.fillColorAnim&&a.fc){if(c.fc.propType)for(p=0;p<3;p+=1)h.length?o[p]+=(c.fc.v[p]-o[p])*h[0]:o[p]+=(c.fc.v[p]-o[p])*h;c.fh.propType&&(o=h.length?addHueToRGB(o,c.fh.v*h[0]):addHueToRGB(o,c.fh.v*h)),c.fs.propType&&(o=h.length?addSaturationToRGB(o,c.fs.v*h[0]):addSaturationToRGB(o,c.fs.v*h)),c.fb.propType&&(o=h.length?addBrightnessToRGB(o,c.fb.v*h[0]):addBrightnessToRGB(o,c.fb.v*h))}}for(e=0;e<f;e+=1)(c=v[e].a).p.propType&&(h=(d=v[e].s).getMult(A[D].anIndexes[e],w.a[e].s.totalChars),this._hasMaskedPath?h.length?x.translate(0,c.p.v[1]*h[0],-c.p.v[2]*h[1]):x.translate(0,c.p.v[1]*h,-c.p.v[2]*h):h.length?x.translate(c.p.v[0]*h[0],c.p.v[1]*h[1],-c.p.v[2]*h[2]):x.translate(c.p.v[0]*h,c.p.v[1]*h,-c.p.v[2]*h));if(a.strokeWidthAnim&&(q=n<0?0:n),a.strokeColorAnim&&(r="rgb("+Math.round(255*m[0])+","+Math.round(255*m[1])+","+Math.round(255*m[2])+")"),a.fillColorAnim&&a.fc&&(s="rgb("+Math.round(255*o[0])+","+Math.round(255*o[1])+","+Math.round(255*o[2])+")"),this._hasMaskedPath){if(x.translate(0,-a.ls),x.translate(0,u[1]*W*.01+C,0),this._pathData.p.v){var aj=180*Math.atan(S=(H.point[1]-M.point[1])/(H.point[0]-M.point[0]))/Math.PI;H.point[0]<M.point[0]&&(aj+=180),x.rotate(-aj*Math.PI/180)}x.translate(j,k,0),G-=u[0]*A[D].an*.005,A[D+1]&&Y!==A[D+1].ind&&(G+=A[D].an/2,G+=.001*a.tr*a.finalSize)}else{switch(x.translate(B,C,0),a.ps&&x.translate(a.ps[0],a.ps[1]+a.ascent,0),a.j){case 1:x.translate(A[D].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[A[D].line]),0,0);break;case 2:x.translate(A[D].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[A[D].line])/2,0,0)}x.translate(0,-a.ls),x.translate(i,0,0),x.translate(u[0]*A[D].an*.005,u[1]*W*.01,0),B+=A[D].l+.001*a.tr*a.finalSize}"html"===y?ab=x.toCSS():"svg"===y?ab=x.to2dCSS():ac=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],t=l}z<=D?(g=new LetterProps(t,q,r,s,ab,ac),this.renderedLetters.push(g),z+=1,this.lettersChangedFlag=!0):(g=this.renderedLetters[D],this.lettersChangedFlag=g.update(t,q,r,s,ab,ac)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(a,b,c){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(a,b,c),this.textProperty=new TextProperty(this,a.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(a.t,this.renderType,this),this.initTransform(a,b,c),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange)},ITextElement.prototype.createPathShape=function(a,b){var c,d,e=b.length,f="";for(c=0;c<e;c+=1)"sh"===b[c].ty&&(f+=buildShapeString(d=b[c].ks.k,d.i.length,!0,a));return f},ITextElement.prototype.updateDocumentData=function(a,b){this.textProperty.updateDocumentData(a,b)},ITextElement.prototype.canResizeFont=function(a){this.textProperty.canResizeFont(a)},ITextElement.prototype.setMinimumFontSize=function(a){this.textProperty.setMinimumFontSize(a)},ITextElement.prototype.applyTextPropertiesToMatrix=function(a,b,c,d,e){switch(a.ps&&b.translate(a.ps[0],a.ps[1]+a.ascent,0),b.translate(0,-a.ls,0),a.j){case 1:b.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[c]),0,0);break;case 2:b.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[c])/2,0,0)}b.translate(d,e,0)},ITextElement.prototype.buildColor=function(a){return"rgb("+Math.round(255*a[0])+","+Math.round(255*a[1])+","+Math.round(255*a[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(a,b,c){this.textSpans=[],this.renderType="svg",this.initElement(a,b,c)}function ISolidElement(a,b,c){this.initElement(a,b,c)}function NullElement(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initFrame(),this.initTransform(a,b,c),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(a,b,c){this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(a,b,c),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}function SVGRenderer(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var c="";if(b&&b.title){var d=createNS("title"),e=createElementID();d.setAttribute("id",e),d.textContent=b.title,this.svgElement.appendChild(d),c+=e}if(b&&b.description){var f=createNS("desc"),g=createElementID();f.setAttribute("id",g),f.textContent=b.description,this.svgElement.appendChild(f),c+=" "+g}c&&this.svgElement.setAttribute("aria-labelledby",c);var h=createNS("defs");this.svgElement.appendChild(h);var i=createNS("g");this.svgElement.appendChild(i),this.layerElement=i,this.renderConfig={preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:b&&b.contentVisibility||"visible",progressiveLoad:b&&b.progressiveLoad||!1,hideOnTransparent:!(b&&!1===b.hideOnTransparent),viewBoxOnly:b&&b.viewBoxOnly||!1,viewBoxSize:b&&b.viewBoxSize||!1,className:b&&b.className||"",id:b&&b.id||"",focusable:b&&b.focusable,filterSize:{width:b&&b.filterSize&&b.filterSize.width||"100%",height:b&&b.filterSize&&b.filterSize.height||"100%",x:b&&b.filterSize&&b.filterSize.x||"0%",y:b&&b.filterSize&&b.filterSize.y||"0%"},width:b&&b.width,height:b&&b.height,runExpressions:!b||void 0===b.runExpressions||b.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:h,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(a){for(var b=0,c=a.length,d=[],e="";b<c;)"\r"===a[b]||"\x03"===a[b]?(d.push(e),e=""):e+=a[b],b+=1;return d.push(e),d},SVGTextLottieElement.prototype.buildShapeData=function(a,b){if(a.shapes&&a.shapes.length){var c=a.shapes[0];if(c.it){var d=c.it[c.it.length-1];d.s&&(d.s.k[0]=b,d.s.k[1]=b)}}return a},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var a=this.textProperty.currentData;this.renderedLetters=createSizedArray(a?a.l.length:0),a.fc?this.layerElement.setAttribute("fill",this.buildColor(a.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),a.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(a.sc)),this.layerElement.setAttribute("stroke-width",a.sw)),this.layerElement.setAttribute("font-size",a.finalSize);var b=this.globalData.fontManager.getFontByName(a.f);if(b.fClass)this.layerElement.setAttribute("class",b.fClass);else{this.layerElement.setAttribute("font-family",b.fFamily);var c=a.fWeight,d=a.fStyle;this.layerElement.setAttribute("font-style",d),this.layerElement.setAttribute("font-weight",c)}this.layerElement.setAttribute("aria-label",a.t);var e=a.l||[],f=!!this.globalData.fontManager.chars;q=e.length;var g=this.mHelper,h="",i=this.data.singleShape,j=0,k=0,l=!0,m=.001*a.tr*a.finalSize;if(!i||f||a.sz){var n=this.textSpans.length;for(p=0;p<q;p+=1){if(this.textSpans[p]||(this.textSpans[p]={span:null,childSpan:null,glyph:null}),!f||!i||0===p){if(r=n>p?this.textSpans[p].span:createNS(f?"g":"text"),n<=p){if(r.setAttribute("stroke-linecap","butt"),r.setAttribute("stroke-linejoin","round"),r.setAttribute("stroke-miterlimit","4"),this.textSpans[p].span=r,f){var o=createNS("g");r.appendChild(o),this.textSpans[p].childSpan=o}this.textSpans[p].span=r,this.layerElement.appendChild(r)}r.style.display="inherit"}if(g.reset(),i&&(e[p].n&&(j=-m,k+=a.yOffset,k+=+!!l,l=!1),this.applyTextPropertiesToMatrix(a,g,e[p].line,j,k),j+=e[p].l||0,j+=m),f){if(1===(s=this.globalData.fontManager.getCharData(a.finalText[p],b.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily)).t)t=new SVGCompElement(s.data,this.globalData,this);else{var p,q,r,s,t,u=emptyShapeData;s.data&&s.data.shapes&&(u=this.buildShapeData(s.data,a.finalSize)),t=new SVGShapeElement(u,this.globalData,this)}if(this.textSpans[p].glyph){var v=this.textSpans[p].glyph;this.textSpans[p].childSpan.removeChild(v.layerElement),v.destroy()}this.textSpans[p].glyph=t,t._debug=!0,t.prepareFrame(0),t.renderFrame(),this.textSpans[p].childSpan.appendChild(t.layerElement),1===s.t&&this.textSpans[p].childSpan.setAttribute("transform","scale("+a.finalSize/100+","+a.finalSize/100+")")}else i&&r.setAttribute("transform","translate("+g.props[12]+","+g.props[13]+")"),r.textContent=e[p].val,r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}i&&r&&r.setAttribute("d",h)}else{var w=this.textContainer,x="start";switch(a.j){case 1:x="end";break;case 2:x="middle";break;default:x="start"}w.setAttribute("text-anchor",x),w.setAttribute("letter-spacing",m);var y=this.buildTextContents(a.finalText);for(p=0,q=y.length,k=a.ps?a.ps[1]+a.ascent:0;p<q;p+=1)(r=this.textSpans[p].span||createNS("tspan")).textContent=y[p],r.setAttribute("x",0),r.setAttribute("y",k),r.style.display="inherit",w.appendChild(r),this.textSpans[p]||(this.textSpans[p]={span:null,glyph:null}),this.textSpans[p].span=r,k+=a.finalLineHeight;this.layerElement.appendChild(w)}for(;p<this.textSpans.length;)this.textSpans[p].span.style.display="none",p+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var a=this.layerElement.getBBox();this.bbox={top:a.y,left:a.x,width:a.width,height:a.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var a,b,c=this.textSpans.length;for(a=0,this.renderedFrame=this.comp.renderedFrame;a<c;a+=1)(b=this.textSpans[a].glyph)&&(b.prepareFrame(this.comp.renderedFrame-this.data.st),b._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var a,b,c,d,e,f=this.textAnimator.renderedLetters,g=this.textProperty.currentData.l;for(a=0,b=g.length;a<b;a+=1)!g[a].n&&(c=f[a],d=this.textSpans[a].span,(e=this.textSpans[a].glyph)&&e.renderFrame(),c._mdf.m&&d.setAttribute("transform",c.m),c._mdf.o&&d.setAttribute("opacity",c.o),c._mdf.sw&&d.setAttribute("stroke-width",c.sw),c._mdf.sc&&d.setAttribute("stroke",c.sc),c._mdf.fc&&d.setAttribute("fill",c.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var a=createNS("rect");a.setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.layerElement.appendChild(a)},NullElement.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(a){return new NullElement(a,this.globalData,this)},SVGRendererBase.prototype.createShape=function(a){return new SVGShapeElement(a,this.globalData,this)},SVGRendererBase.prototype.createText=function(a){return new SVGTextLottieElement(a,this.globalData,this)},SVGRendererBase.prototype.createImage=function(a){return new IImageElement(a,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(a){return new ISolidElement(a,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(a){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+a.w+" "+a.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",a.w),this.svgElement.setAttribute("height",a.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var b=this.globalData.defs;this.setupGlobalData(a,b),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=a;var c=createNS("clipPath"),d=createNS("rect");d.setAttribute("width",a.w),d.setAttribute("height",a.h),d.setAttribute("x",0),d.setAttribute("y",0);var e=createElementID();c.setAttribute("id",e),c.appendChild(d),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+e+")"),b.appendChild(c),this.layers=a.layers,this.elements=createSizedArray(a.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;a<b;a+=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(a){var b=0,c=this.layers.length;for(b=0;b<c;b+=1)if(this.layers[b].ind===a)return b;return -1},SVGRendererBase.prototype.buildItem=function(a){var b=this.elements;if(!b[a]&&99!==this.layers[a].ty){b[a]=!0;var c=this.createItem(this.layers[a]);if(b[a]=c,getExpressionsPlugin()&&(0===this.layers[a].ty&&this.globalData.projectInterface.registerComposition(c),c.initExpressions()),this.appendElementInPos(c,a),this.layers[a].tt){var d="tp"in this.layers[a]?this.findIndexByInd(this.layers[a].tp):a-1;if(-1===d)return;if(this.elements[d]&&!0!==this.elements[d]){var e=b[d].getMatte(this.layers[a].tt);c.setMatte(e)}else this.buildItem(d),this.addPendingElement(c)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();if(a.checkParenting(),a.data.tt)for(var b=0,c=this.elements.length;b<c;){if(this.elements[b]===a){var d="tp"in a.data?this.findIndexByInd(a.data.tp):b-1,e=this.elements[d].getMatte(this.layers[b].tt);a.setMatte(e);break}b+=1}}},SVGRendererBase.prototype.renderFrame=function(a){if(this.renderedFrame!==a&&!this.destroyed){null===a?a=this.renderedFrame:this.renderedFrame=a,this.globalData.frameNum=a,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a,this.globalData._mdf=!1;var b,c=this.layers.length;for(this.completeLayers||this.checkLayers(a),b=c-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);if(this.globalData._mdf)for(b=0;b<c;b+=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(a,b){var c,d=a.getBaseElement();if(d){for(var e=0;e<b;)this.elements[e]&&!0!==this.elements[e]&&this.elements[e].getBaseElement()&&(c=this.elements[e].getBaseElement()),e+=1;c?this.layerElement.insertBefore(d,c):this.layerElement.appendChild(d)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initTransform(a,b,c),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!b.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(a){if(this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=a/this.data.sr;else{var b,c=this.tm.v;c===this.data.op&&(c=this.data.op-1),this.renderedFrame=c}var d=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),b=d-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&(this.elements[b].prepareFrame(this.renderedFrame-this.layers[b].st),this.elements[b]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var a,b=this.layers.length;for(a=0;a<b;a+=1)(this.completeLayers||this.elements[a])&&this.elements[a].renderFrame()},ICompElement.prototype.setElements=function(a){this.elements=a},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var a,b=this.layers.length;for(a=0;a<b;a+=1)this.elements[a]&&this.elements[a].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(a){return new SVGCompElement(a,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(a){return new SVGCompElement(a,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(a){var b,c=a.length,d="_";for(b=0;b<c;b+=1)d+=a[b].transform.key+"_";var e=this.sequences[d];return e||(e={transforms:[].concat(a),finalTransform:new Matrix,_mdf:!1},this.sequences[d]=e,this.sequenceList.push(e)),e},processSequence:function(a,b){for(var c=0,d=a.transforms.length,e=b;c<d&&!b;){if(a.transforms[c].transform.mProps._mdf){e=!0;break}c+=1}if(e)for(a.finalTransform.reset(),c=d-1;c>=0;c-=1)a.finalTransform.multiply(a.transforms[c].transform.mProps.v);a._mdf=e},processSequences:function(a){var b,c=this.sequenceList.length;for(b=0;b<c;b+=1)this.processSequence(this.sequenceList[b],a)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var a="__lottie_element_luma_buffer",b=null,c=null,d=null;function e(){var b=createNS("svg"),c=createNS("filter"),d=createNS("feColorMatrix");return c.setAttribute("id",a),d.setAttribute("type","matrix"),d.setAttribute("color-interpolation-filters","sRGB"),d.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),c.appendChild(d),b.appendChild(c),b.setAttribute("id",a+"_svg"),featureSupport.svgLumaHidden&&(b.style.display="none"),b}function f(){b||(d=e(),document.body.appendChild(d),(c=(b=createTag("canvas")).getContext("2d")).filter="url(#"+a+")",c.fillStyle="rgba(0,0,0,0)",c.fillRect(0,0,1,1))}function g(d){return b||f(),b.width=d.width,b.height=d.height,c.filter="url(#"+a+")",b}return{load:f,get:g}};function createCanvas(a,b){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(a,b);var c=createTag("canvas");return c.width=a,c.height=b,c}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas}}(),registeredEffects={};function CVEffects(a){var b,c,d=a.data.ef?a.data.ef.length:0;for(b=0,this.filters=[];b<d;b+=1){c=null;var e=a.data.ef[b].ty;registeredEffects[e]&&(c=new registeredEffects[e].effect(a.effectsManager.effectElements[b],a)),c&&this.filters.push(c)}this.filters.length&&a.addRenderableComponent(this)}function registerEffect(a,b){registeredEffects[a]={effect:b}}function CVMaskElement(a,b){this.data=a,this.element=b,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var c,d=this.masksProperties.length,e=!1;for(c=0;c<d;c+=1)"n"!==this.masksProperties[c].mode&&(e=!0),this.viewData[c]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[c],3);this.hasMasks=e,e&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(a){var b,c=this.filters.length;for(b=0;b<c;b+=1)this.filters[b].renderFrame(a)},CVEffects.prototype.getEffects=function(a){var b,c=this.filters.length,d=[];for(b=0;b<c;b+=1)this.filters[b].type===a&&d.push(this.filters[b]);return d},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var a=this.element.finalTransform.mat,b=this.element.canvasContext,c=this.masksProperties.length;for(b.beginPath(),d=0;d<c;d+=1)if("n"!==this.masksProperties[d].mode){this.masksProperties[d].inv&&(b.moveTo(0,0),b.lineTo(this.element.globalData.compSize.w,0),b.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),b.lineTo(0,this.element.globalData.compSize.h),b.lineTo(0,0)),g=this.viewData[d].v,e=a.applyToPointArray(g.v[0][0],g.v[0][1],0),b.moveTo(e[0],e[1]);var d,e,f,g,h,i=g._length;for(h=1;h<i;h+=1)f=a.applyToTriplePoints(g.o[h-1],g.i[h],g.v[h]),b.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]);f=a.applyToTriplePoints(g.o[h-1],g.i[0],g.v[0]),b.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5])}this.element.globalData.renderer.save(!0),b.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(a,b,c,d){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var e,f,g=4;"rc"===b.ty?g=5:"el"===b.ty?g=6:"sr"===b.ty&&(g=7),this.sh=ShapePropertyFactory.getShapeProp(a,b,g,a);var h=c.length;for(e=0;e<h;e+=1)c[e].closed||(f={transforms:d.addTransformSequence(c[e].transforms),trNodes:[]},this.styledShapes.push(f),c[e].elements.push(f))}function CVShapeElement(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(a,b,c)}function CVTextElement(a,b,c){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(a,b,c)}function CVImageElement(a,b,c){this.assetData=b.getAssetData(a.refId),this.img=b.imageLoader.getAsset(this.assetData),this.initElement(a,b,c)}function CVSolidElement(a,b,c){this.initElement(a,b,c)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var a,b=15;for(a=0;a<b;a+=1){var c=new CanvasContext;this.stack[a]=c}this._length=b,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(a,b,c){this.completeLayers=!1,this.layers=a.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(a,b,c),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}function CanvasRenderer(a,b){this.animationItem=a,this.renderConfig={clearCanvas:!b||void 0===b.clearCanvas||b.clearCanvas,context:b&&b.context||null,progressiveLoad:b&&b.progressiveLoad||!1,preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:b&&b.contentVisibility||"visible",className:b&&b.className||"",id:b&&b.id||"",runExpressions:!b||void 0===b.runExpressions||b.runExpressions},this.renderConfig.dpr=b&&b.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=b&&b.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(a,b,c){this.initElement(a,b,c)}function HShapeElement(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(a,b,c),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(a,b,c){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(a,b,c)}function HCameraElement(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initHierarchy();var d=PropertyFactory.getProp;if(this.pe=d(this,a.pe,0,0,this),a.ks.p.s?(this.px=d(this,a.ks.p.x,1,0,this),this.py=d(this,a.ks.p.y,1,0,this),this.pz=d(this,a.ks.p.z,1,0,this)):this.p=d(this,a.ks.p,1,0,this),a.ks.a&&(this.a=d(this,a.ks.a,1,0,this)),a.ks.or.k.length&&a.ks.or.k[0].to){var e,f=a.ks.or.k.length;for(e=0;e<f;e+=1)a.ks.or.k[e].to=null,a.ks.or.k[e].ti=null}this.or=d(this,a.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=d(this,a.ks.rx,0,degToRads,this),this.ry=d(this,a.ks.ry,0,degToRads,this),this.rz=d(this,a.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(a,b,c){this.assetData=b.getAssetData(a.refId),this.initElement(a,b,c)}function HybridRendererBase(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:b&&b.className||"",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(b&&!1===b.hideOnTransparent),filterSize:{width:b&&b.filterSize&&b.filterSize.width||"400%",height:b&&b.filterSize&&b.filterSize.height||"400%",x:b&&b.filterSize&&b.filterSize.x||"-100%",y:b&&b.filterSize&&b.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(a,b,c){this.layers=a.layers,this.supports3d=!a.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(a,b,c),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}function HybridRenderer(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:b&&b.className||"",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(b&&!1===b.hideOnTransparent),filterSize:{width:b&&b.filterSize&&b.filterSize.width||"400%",height:b&&b.filterSize&&b.filterSize.height||"400%",x:b&&b.filterSize&&b.filterSize.x||"-100%",y:b&&b.filterSize&&b.filterSize.y||"-100%"},runExpressions:!b||void 0===b.runExpressions||b.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var a=this.globalData.canvasContext,b=assetLoader.createCanvas(a.canvas.width,a.canvas.height);this.buffers.push(b);var c=assetLoader.createCanvas(a.canvas.width,a.canvas.height);this.buffers.push(c),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var a=this.globalData;if(a.blendMode!==this.data.bm){a.blendMode=this.data.bm;var b=getBlendMode(this.data.bm);a.canvasContext.globalCompositeOperation=b}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(a){a.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var a=this.buffers[0].getContext("2d");this.clearCanvas(a),a.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var a=this.buffers[1],b=a.getContext("2d");if(this.clearCanvas(b),b.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var c=assetLoader.getLumaCanvas(this.canvasContext.canvas);c.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(c,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(a,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(a){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||a)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var b=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(b),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(b),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(a,b){var c={data:a,type:a.ty,preTransforms:this.transformsManager.addTransformSequence(b),transforms:[],elements:[],closed:!0===a.hd},d={};return"fl"===a.ty||"st"===a.ty?(d.c=PropertyFactory.getProp(this,a.c,1,255,this),d.c.k||(c.co="rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")")):("gf"===a.ty||"gs"===a.ty)&&(d.s=PropertyFactory.getProp(this,a.s,1,null,this),d.e=PropertyFactory.getProp(this,a.e,1,null,this),d.h=PropertyFactory.getProp(this,a.h||{k:0},0,.01,this),d.a=PropertyFactory.getProp(this,a.a||{k:0},0,degToRads,this),d.g=new GradientProperty(this,a.g,this)),d.o=PropertyFactory.getProp(this,a.o,0,.01,this),"st"===a.ty||"gs"===a.ty?(c.lc=lineCapEnum[a.lc||2],c.lj=lineJoinEnum[a.lj||2],1==a.lj&&(c.ml=a.ml),d.w=PropertyFactory.getProp(this,a.w,0,null,this),d.w.k||(c.wi=d.w.v),a.d&&(d.d=new DashProperty(this,a.d,"canvas",this),d.d.k||(c.da=d.d.dashArray,c.do=d.d.dashoffset[0]))):c.r=2===a.r?"evenodd":"nonzero",this.stylesList.push(c),d.style=c,d},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(a){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,a.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,a,this)}}},CVShapeElement.prototype.createShapeElement=function(a){var b=new CVShapeData(this,a,this.stylesList,this.transformsManager);return this.shapes.push(b),this.addShapeToModifiers(b),b},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,b=this.itemsData.length;for(a=0;a<b;a+=1)this.prevViewData[a]=this.itemsData[a];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),b=this.dynamicProperties.length,a=0;a<b;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(a){var b,c=this.stylesList.length;for(b=0;b<c;b+=1)this.stylesList[b].closed||this.stylesList[b].transforms.push(a)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var a,b=this.stylesList.length;for(a=0;a<b;a+=1)this.stylesList[a].closed||this.stylesList[a].transforms.pop()},CVShapeElement.prototype.closeStyles=function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b].closed=!0},CVShapeElement.prototype.searchShapes=function(a,b,c,d,e){var f,g,h,i,j,k,l=a.length-1,m=[],n=[],o=[].concat(e);for(f=l;f>=0;f-=1){if((i=this.searchProcessedElement(a[f]))?b[f]=c[i-1]:a[f]._shouldRender=d,"fl"===a[f].ty||"st"===a[f].ty||"gf"===a[f].ty||"gs"===a[f].ty)i?b[f].style.closed=!1:b[f]=this.createStyleElement(a[f],o),m.push(b[f].style);else if("gr"===a[f].ty){if(i)for(g=0,h=b[f].it.length;g<h;g+=1)b[f].prevViewData[g]=b[f].it[g];else b[f]=this.createGroupElement(a[f]);this.searchShapes(a[f].it,b[f].it,b[f].prevViewData,d,o)}else"tr"===a[f].ty?(i||(k=this.createTransformElement(a[f]),b[f]=k),o.push(b[f]),this.addTransformToStyleList(b[f])):"sh"===a[f].ty||"rc"===a[f].ty||"el"===a[f].ty||"sr"===a[f].ty?i||(b[f]=this.createShapeElement(a[f])):"tm"===a[f].ty||"rd"===a[f].ty||"pb"===a[f].ty||"zz"===a[f].ty||"op"===a[f].ty?(i?(j=b[f]).closed=!1:((j=ShapeModifiers.getModifier(a[f].ty)).init(this,a[f]),b[f]=j,this.shapeModifiers.push(j)),n.push(j)):"rp"===a[f].ty&&(i?(j=b[f]).closed=!0:(j=ShapeModifiers.getModifier(a[f].ty),b[f]=j,j.init(this,a,f,b),this.shapeModifiers.push(j),d=!1),n.push(j));this.addProcessedElement(a[f],f+1)}for(this.removeTransformFromStyleList(),this.closeStyles(m),l=n.length,f=0;f<l;f+=1)n[f].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(a,b){(a._opMdf||b.op._mdf||this._isFirstFrame)&&(b.opacity=a.opacity,b.opacity*=b.op.v,b._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var a,b,c,d,e,f,g,h,i,j=this.stylesList.length,k=this.globalData.renderer,l=this.globalData.canvasContext;for(a=0;a<j;a+=1)if(!(("st"===(h=(i=this.stylesList[a]).type)||"gs"===h)&&0===i.wi||!i.data._shouldRender||0===i.coOp||0===this.globalData.currentGlobalAlpha)){for(k.save(),f=i.elements,"st"===h||"gs"===h?(k.ctxStrokeStyle("st"===h?i.co:i.grd),k.ctxLineWidth(i.wi),k.ctxLineCap(i.lc),k.ctxLineJoin(i.lj),k.ctxMiterLimit(i.ml||0)):k.ctxFillStyle("fl"===h?i.co:i.grd),k.ctxOpacity(i.coOp),"st"!==h&&"gs"!==h&&l.beginPath(),k.ctxTransform(i.preTransforms.finalTransform.props),c=f.length,b=0;b<c;b+=1){for(("st"===h||"gs"===h)&&(l.beginPath(),i.da&&(l.setLineDash(i.da),l.lineDashOffset=i.do)),e=(g=f[b].trNodes).length,d=0;d<e;d+=1)"m"===g[d].t?l.moveTo(g[d].p[0],g[d].p[1]):"c"===g[d].t?l.bezierCurveTo(g[d].pts[0],g[d].pts[1],g[d].pts[2],g[d].pts[3],g[d].pts[4],g[d].pts[5]):l.closePath();("st"===h||"gs"===h)&&(k.ctxStroke(),i.da&&l.setLineDash(this.dashResetter))}"st"!==h&&"gs"!==h&&this.globalData.renderer.ctxFill(i.r),k.restore()}},CVShapeElement.prototype.renderShape=function(a,b,c,d){var e,f,g=b.length-1;for(f=a,e=g;e>=0;e-=1)"tr"===b[e].ty?(f=c[e].transform,this.renderShapeTransform(a,f)):"sh"===b[e].ty||"el"===b[e].ty||"rc"===b[e].ty||"sr"===b[e].ty?this.renderPath(b[e],c[e]):"fl"===b[e].ty?this.renderFill(b[e],c[e],f):"st"===b[e].ty?this.renderStroke(b[e],c[e],f):"gf"===b[e].ty||"gs"===b[e].ty?this.renderGradientFill(b[e],c[e],f):"gr"===b[e].ty?this.renderShape(f,b[e].it,c[e].it):b[e].ty;d&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(a,b){if(this._isFirstFrame||b._mdf||a.transforms._mdf){var c,d,e,f=a.trNodes,g=b.paths,h=g._length;f.length=0;var i=a.transforms.finalTransform;for(e=0;e<h;e+=1){var j=g.shapes[e];if(j&&j.v){for(c=1,d=j._length;c<d;c+=1)1===c&&f.push({t:"m",p:i.applyToPointArray(j.v[0][0],j.v[0][1],0)}),f.push({t:"c",pts:i.applyToTriplePoints(j.o[c-1],j.i[c],j.v[c])});1===d&&f.push({t:"m",p:i.applyToPointArray(j.v[0][0],j.v[0][1],0)}),j.c&&d&&(f.push({t:"c",pts:i.applyToTriplePoints(j.o[c-1],j.i[0],j.v[0])}),f.push({t:"z"}))}}a.trNodes=f}},CVShapeElement.prototype.renderPath=function(a,b){if(!0!==a.hd&&a._shouldRender){var c,d=b.styledShapes.length;for(c=0;c<d;c+=1)this.renderStyledShape(b.styledShapes[c],b.sh)}},CVShapeElement.prototype.renderFill=function(a,b,c){var d=b.style;(b.c._mdf||this._isFirstFrame)&&(d.co="rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||c._opMdf||this._isFirstFrame)&&(d.coOp=b.o.v*c.opacity)},CVShapeElement.prototype.renderGradientFill=function(a,b,c){var d=b.style;if(!d.grd||b.g._mdf||b.s._mdf||b.e._mdf||1!==a.t&&(b.h._mdf||b.a._mdf)){var e,f,g=this.globalData.canvasContext,h=b.s.v,i=b.e.v;if(1===a.t)e=g.createLinearGradient(h[0],h[1],i[0],i[1]);else{var j=Math.sqrt(Math.pow(h[0]-i[0],2)+Math.pow(h[1]-i[1],2)),k=Math.atan2(i[1]-h[1],i[0]-h[0]),l=b.h.v;l>=1?l=.99:l<=-1&&(l=-.99);var m=j*l,n=Math.cos(k+b.a.v)*m+h[0],o=Math.sin(k+b.a.v)*m+h[1];e=g.createRadialGradient(n,o,0,h[0],h[1],j)}var p=a.g.p,q=b.g.c,r=1;for(f=0;f<p;f+=1)b.g._hasOpacity&&b.g._collapsable&&(r=b.g.o[2*f+1]),e.addColorStop(q[4*f]/100,"rgba("+q[4*f+1]+","+q[4*f+2]+","+q[4*f+3]+","+r+")");d.grd=e}d.coOp=b.o.v*c.opacity},CVShapeElement.prototype.renderStroke=function(a,b,c){var d=b.style,e=b.d;e&&(e._mdf||this._isFirstFrame)&&(d.da=e.dashArray,d.do=e.dashoffset[0]),(b.c._mdf||this._isFirstFrame)&&(d.co="rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||c._opMdf||this._isFirstFrame)&&(d.coOp=b.o.v*c.opacity),(b.w._mdf||this._isFirstFrame)&&(d.wi=b.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this.textProperty.currentData;this.renderedLetters=createSizedArray(m.l?m.l.length:0);var n=!1;m.fc?(n=!0,this.values.fill=this.buildColor(m.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=n;var o=!1;m.sc&&(o=!0,this.values.stroke=this.buildColor(m.sc),this.values.sWidth=m.sw);var p=this.globalData.fontManager.getFontByName(m.f),q=m.l,r=this.mHelper;this.stroke=o,this.values.fValue=m.finalSize+"px "+this.globalData.fontManager.getFontByName(m.f).fFamily,b=m.finalText.length;var s=this.data.singleShape,t=.001*m.tr*m.finalSize,u=0,v=0,w=!0,x=0;for(a=0;a<b;a+=1){d=(c=this.globalData.fontManager.getCharData(m.finalText[a],p.fStyle,this.globalData.fontManager.getFontByName(m.f).fFamily))&&c.data||{},r.reset(),s&&q[a].n&&(u=-t,v+=m.yOffset,v+=+!!w,w=!1),i=(g=d.shapes?d.shapes[0].it:[]).length,r.scale(m.finalSize/100,m.finalSize/100),s&&this.applyTextPropertiesToMatrix(m,r,q[a].line,u,v),k=createSizedArray(i-1);var y=0;for(h=0;h<i;h+=1)if("sh"===g[h].ty){for(e=1,f=g[h].ks.k.i.length,j=g[h].ks.k,l=[];e<f;e+=1)1===e&&l.push(r.applyToX(j.v[0][0],j.v[0][1],0),r.applyToY(j.v[0][0],j.v[0][1],0)),l.push(r.applyToX(j.o[e-1][0],j.o[e-1][1],0),r.applyToY(j.o[e-1][0],j.o[e-1][1],0),r.applyToX(j.i[e][0],j.i[e][1],0),r.applyToY(j.i[e][0],j.i[e][1],0),r.applyToX(j.v[e][0],j.v[e][1],0),r.applyToY(j.v[e][0],j.v[e][1],0));l.push(r.applyToX(j.o[e-1][0],j.o[e-1][1],0),r.applyToY(j.o[e-1][0],j.o[e-1][1],0),r.applyToX(j.i[0][0],j.i[0][1],0),r.applyToY(j.i[0][0],j.i[0][1],0),r.applyToX(j.v[0][0],j.v[0][1],0),r.applyToY(j.v[0][0],j.v[0][1],0)),k[y]=l,y+=1}s&&(u+=q[a].l,u+=t),this.textSpans[x]?this.textSpans[x].elem=k:this.textSpans[x]={elem:k},x+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,b,c,d,e,f,g,h,i,j=this.textAnimator.renderedLetters,k=this.textProperty.currentData.l;b=k.length;var l=null,m=null,n=null,o=this.globalData.renderer;for(a=0;a<b;a+=1)if(!k[a].n){if((g=j[a])&&(o.save(),o.ctxTransform(g.p),o.ctxOpacity(g.o)),this.fill){for(g&&g.fc?l!==g.fc&&(o.ctxFillStyle(g.fc),l=g.fc):l!==this.values.fill&&(l=this.values.fill,o.ctxFillStyle(this.values.fill)),d=(h=this.textSpans[a].elem).length,this.globalData.canvasContext.beginPath(),c=0;c<d;c+=1)for(f=(i=h[c]).length,this.globalData.canvasContext.moveTo(i[0],i[1]),e=2;e<f;e+=6)this.globalData.canvasContext.bezierCurveTo(i[e],i[e+1],i[e+2],i[e+3],i[e+4],i[e+5]);this.globalData.canvasContext.closePath(),o.ctxFill()}if(this.stroke){for(g&&g.sw?n!==g.sw&&(n=g.sw,o.ctxLineWidth(g.sw)):n!==this.values.sWidth&&(n=this.values.sWidth,o.ctxLineWidth(this.values.sWidth)),g&&g.sc?m!==g.sc&&(m=g.sc,o.ctxStrokeStyle(g.sc)):m!==this.values.stroke&&(m=this.values.stroke,o.ctxStrokeStyle(this.values.stroke)),d=(h=this.textSpans[a].elem).length,this.globalData.canvasContext.beginPath(),c=0;c<d;c+=1)for(f=(i=h[c]).length,this.globalData.canvasContext.moveTo(i[0],i[1]),e=2;e<f;e+=6)this.globalData.canvasContext.bezierCurveTo(i[e],i[e+1],i[e+2],i[e+3],i[e+4],i[e+5]);this.globalData.canvasContext.closePath(),o.ctxStroke()}g&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var a,b,c=createTag("canvas");c.width=this.assetData.w,c.height=this.assetData.h;var d=c.getContext("2d"),e=this.img.width,f=this.img.height,g=e/f,h=this.assetData.w/this.assetData.h,i=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;g>h&&"xMidYMid slice"===i||g<h&&"xMidYMid slice"!==i?a=(b=f)*h:b=(a=e)/h,d.drawImage(this.img,(e-a)/2,(f-b)/2,a,b,0,0,this.assetData.w,this.assetData.h),this.img=c}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(a){return new CVShapeElement(a,this.globalData,this)},CanvasRendererBase.prototype.createText=function(a){return new CVTextElement(a,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(a){return new CVImageElement(a,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(a){return new CVSolidElement(a,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(a){(1!==a[0]||0!==a[1]||0!==a[4]||1!==a[5]||0!==a[12]||0!==a[13])&&this.canvasContext.transform(a[0],a[1],a[4],a[5],a[12],a[13])},CanvasRendererBase.prototype.ctxOpacity=function(a){this.canvasContext.globalAlpha*=a<0?0:a},CanvasRendererBase.prototype.ctxFillStyle=function(a){this.canvasContext.fillStyle=a},CanvasRendererBase.prototype.ctxStrokeStyle=function(a){this.canvasContext.strokeStyle=a},CanvasRendererBase.prototype.ctxLineWidth=function(a){this.canvasContext.lineWidth=a},CanvasRendererBase.prototype.ctxLineCap=function(a){this.canvasContext.lineCap=a},CanvasRendererBase.prototype.ctxLineJoin=function(a){this.canvasContext.lineJoin=a},CanvasRendererBase.prototype.ctxMiterLimit=function(a){this.canvasContext.miterLimit=a},CanvasRendererBase.prototype.ctxFill=function(a){this.canvasContext.fill(a)},CanvasRendererBase.prototype.ctxFillRect=function(a,b,c,d){this.canvasContext.fillRect(a,b,c,d)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(a){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();a&&(this.globalData.blendMode="source-over"),this.contextData.restore(a)},CanvasRendererBase.prototype.configAnimation=function(a){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var b=this.animationItem.container.style;b.width="100%",b.height="100%";var c="0px 0px 0px";b.transformOrigin=c,b.mozTransformOrigin=c,b.webkitTransformOrigin=c,b["-webkit-transform"]=c,b.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=a,this.layers=a.layers,this.transformCanvas={w:a.w,h:a.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(a,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(a.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(a,b){if(this.reset(),a?(c=a,d=b,this.canvasContext.canvas.width=c,this.canvasContext.canvas.height=d):(this.animationItem.wrapper&&this.animationItem.container?(c=this.animationItem.wrapper.offsetWidth,d=this.animationItem.wrapper.offsetHeight):(c=this.canvasContext.canvas.width,d=this.canvasContext.canvas.height),this.canvasContext.canvas.width=c*this.renderConfig.dpr,this.canvasContext.canvas.height=d*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var c,d,e,f,g=this.renderConfig.preserveAspectRatio.split(" "),h=g[1]||"meet",i=g[0]||"xMidYMid",j=i.substr(0,4),k=i.substr(4);e=c/d,(f=this.transformCanvas.w/this.transformCanvas.h)>e&&"meet"===h||f<e&&"slice"===h?(this.transformCanvas.sx=c/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=c/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=d/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.h/this.renderConfig.dpr)),"xMid"===j&&(f<e&&"meet"===h||f>e&&"slice"===h)?this.transformCanvas.tx=(c-this.transformCanvas.w*(d/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===j&&(f<e&&"meet"===h||f>e&&"slice"===h)?this.transformCanvas.tx=(c-this.transformCanvas.w*(d/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,"YMid"===k&&(f>e&&"meet"===h||f<e&&"slice"===h)?this.transformCanvas.ty=(d-this.transformCanvas.h*(c/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===k&&(f>e&&"meet"===h||f<e&&"slice"===h)?this.transformCanvas.ty=(d-this.transformCanvas.h*(c/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=c/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var a;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),a=(this.layers?this.layers.length:0)-1;a>=0;a-=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(a,b){if((this.renderedFrame!==a||!0!==this.renderConfig.clearCanvas||b)&&!this.destroyed&&-1!==a){this.renderedFrame=a,this.globalData.frameNum=a-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||b,this.globalData.projectInterface.currentFrame=a;var c,d=this.layers.length;for(this.completeLayers||this.checkLayers(a),c=d-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&this.elements[c].prepareFrame(a-this.layers[c].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),c=d-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(a){var b=this.elements;if(!b[a]&&99!==this.layers[a].ty){var c=this.createItem(this.layers[a],this,this.globalData);b[a]=c,c.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var a=2*this._length,b=0;for(b=this._length;b<a;b+=1)this.stack[b]=new CanvasContext;this._length=a},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(a){this.cArrPos-=1;var b,c=this.stack[this.cArrPos],d=c.transform,e=this.cTr.props;for(b=0;b<16;b+=1)e[b]=d[b];if(a){this.nativeContext.restore();var f=this.stack[this.cArrPos+1];this.appliedFillStyle=f.fillStyle,this.appliedStrokeStyle=f.strokeStyle,this.appliedLineWidth=f.lineWidth,this.appliedLineCap=f.lineCap,this.appliedLineJoin=f.lineJoin,this.appliedMiterLimit=f.miterLimit}this.nativeContext.setTransform(d[0],d[1],d[4],d[5],d[12],d[13]),(a||-1!==c.opacity&&this.currentOpacity!==c.opacity)&&(this.nativeContext.globalAlpha=c.opacity,this.currentOpacity=c.opacity),this.currentFillStyle=c.fillStyle,this.currentStrokeStyle=c.strokeStyle,this.currentLineWidth=c.lineWidth,this.currentLineCap=c.lineCap,this.currentLineJoin=c.lineJoin,this.currentMiterLimit=c.miterLimit},CVContextData.prototype.save=function(a){a&&this.nativeContext.save();var b,c=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var d=this.stack[this.cArrPos];for(b=0;b<16;b+=1)d.transform[b]=c[b];this.cArrPos+=1;var e=this.stack[this.cArrPos];e.opacity=d.opacity,e.fillStyle=d.fillStyle,e.strokeStyle=d.strokeStyle,e.lineWidth=d.lineWidth,e.lineCap=d.lineCap,e.lineJoin=d.lineJoin,e.miterLimit=d.miterLimit},CVContextData.prototype.setOpacity=function(a){this.stack[this.cArrPos].opacity=a},CVContextData.prototype.setContext=function(a){this.nativeContext=a},CVContextData.prototype.fillStyle=function(a){this.stack[this.cArrPos].fillStyle!==a&&(this.currentFillStyle=a,this.stack[this.cArrPos].fillStyle=a)},CVContextData.prototype.strokeStyle=function(a){this.stack[this.cArrPos].strokeStyle!==a&&(this.currentStrokeStyle=a,this.stack[this.cArrPos].strokeStyle=a)},CVContextData.prototype.lineWidth=function(a){this.stack[this.cArrPos].lineWidth!==a&&(this.currentLineWidth=a,this.stack[this.cArrPos].lineWidth=a)},CVContextData.prototype.lineCap=function(a){this.stack[this.cArrPos].lineCap!==a&&(this.currentLineCap=a,this.stack[this.cArrPos].lineCap=a)},CVContextData.prototype.lineJoin=function(a){this.stack[this.cArrPos].lineJoin!==a&&(this.currentLineJoin=a,this.stack[this.cArrPos].lineJoin=a)},CVContextData.prototype.miterLimit=function(a){this.stack[this.cArrPos].miterLimit!==a&&(this.currentMiterLimit=a,this.stack[this.cArrPos].miterLimit=a)},CVContextData.prototype.transform=function(a){this.transformMat.cloneFromProps(a);var b=this.cTr;this.transformMat.multiply(b),b.cloneFromProps(this.transformMat.props);var c=b.props;this.nativeContext.setTransform(c[0],c[1],c[4],c[5],c[12],c[13])},CVContextData.prototype.opacity=function(a){var b=this.stack[this.cArrPos].opacity;b*=a<0?0:a,this.stack[this.cArrPos].opacity!==b&&(this.currentOpacity!==a&&(this.nativeContext.globalAlpha=a,this.currentOpacity=a),this.stack[this.cArrPos].opacity=b)},CVContextData.prototype.fill=function(a){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(a)},CVContextData.prototype.fillRect=function(a,b,c,d){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(a,b,c,d)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var a,b=this.canvasContext;for(b.beginPath(),b.moveTo(0,0),b.lineTo(this.data.w,0),b.lineTo(this.data.w,this.data.h),b.lineTo(0,this.data.h),b.lineTo(0,0),b.clip(),a=this.layers.length-1;a>=0;a-=1)(this.completeLayers||this.elements[a])&&this.elements[a].renderFrame()},CVCompElement.prototype.destroy=function(){var a;for(a=this.layers.length-1;a>=0;a-=1)this.elements[a]&&this.elements[a].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(a){return new CVCompElement(a,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(a){return new CVCompElement(a,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var a=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var b=this.finalTransform.mat.toCSS();a.transform=b,a.webkitTransform=b}this.finalTransform._opMdf&&(a.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var a;this.data.hasMask?((a=createNS("rect")).setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((a=createTag("div")).style.width=this.data.sw+"px",a.style.height=this.data.sh+"px",a.style.backgroundColor=this.data.sc),this.layerElement.appendChild(a)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var a;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),a=this.svgElement;else{a=createNS("svg");var b=this.comp.data?this.comp.data:this.globalData.compSize;a.setAttribute("width",b.w),a.setAttribute("height",b.h),a.appendChild(this.shapesContainer),this.layerElement.appendChild(a)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=a},HShapeElement.prototype.getTransformedPoint=function(a,b){var c,d=a.length;for(c=0;c<d;c+=1)b=a[c].mProps.v.applyToPointArray(b[0],b[1],0);return b},HShapeElement.prototype.calculateShapeBoundingBox=function(a,b){var c,d,e,f,g,h=a.sh.v,i=a.transformers,j=h._length;if(!(j<=1)){for(c=0;c<j-1;c+=1)d=this.getTransformedPoint(i,h.v[c]),e=this.getTransformedPoint(i,h.o[c]),f=this.getTransformedPoint(i,h.i[c+1]),g=this.getTransformedPoint(i,h.v[c+1]),this.checkBounds(d,e,f,g,b);h.c&&(d=this.getTransformedPoint(i,h.v[c]),e=this.getTransformedPoint(i,h.o[c]),f=this.getTransformedPoint(i,h.i[0]),g=this.getTransformedPoint(i,h.v[0]),this.checkBounds(d,e,f,g,b))}},HShapeElement.prototype.checkBounds=function(a,b,c,d,e){this.getBoundsOfCurve(a,b,c,d);var f=this.shapeBoundingBox;e.x=bmMin(f.left,e.x),e.xMax=bmMax(f.right,e.xMax),e.y=bmMin(f.top,e.y),e.yMax=bmMax(f.bottom,e.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(a,b,c,d){for(var e,f,g,h,i,j,k,l=[[a[0],d[0]],[a[1],d[1]]],m=0;m<2;++m)f=6*a[m]-12*b[m]+6*c[m],e=-3*a[m]+9*b[m]-9*c[m]+3*d[m],g=3*b[m]-3*a[m],f|=0,g|=0,0==(e|=0)&&0===f||(0===e?(h=-g/f)>0&&h<1&&l[m].push(this.calculateF(h,a,b,c,d,m)):(i=f*f-4*g*e)>=0&&((j=(-f+bmSqrt(i))/(2*e))>0&&j<1&&l[m].push(this.calculateF(j,a,b,c,d,m)),(k=(-f-bmSqrt(i))/(2*e))>0&&k<1&&l[m].push(this.calculateF(k,a,b,c,d,m))));this.shapeBoundingBox.left=bmMin.apply(null,l[0]),this.shapeBoundingBox.top=bmMin.apply(null,l[1]),this.shapeBoundingBox.right=bmMax.apply(null,l[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,l[1])},HShapeElement.prototype.calculateF=function(a,b,c,d,e,f){return bmPow(1-a,3)*b[f]+3*bmPow(1-a,2)*a*c[f]+3*(1-a)*bmPow(a,2)*d[f]+bmPow(a,3)*e[f]},HShapeElement.prototype.calculateBoundingBox=function(a,b){var c,d=a.length;for(c=0;c<d;c+=1)a[c]&&a[c].sh?this.calculateShapeBoundingBox(a[c],b):a[c]&&a[c].it?this.calculateBoundingBox(a[c].it,b):a[c]&&a[c].style&&a[c].w&&this.expandStrokeBoundingBox(a[c].w,b)},HShapeElement.prototype.expandStrokeBoundingBox=function(a,b){var c=0;if(a.keyframes){for(var d=0;d<a.keyframes.length;d+=1){var e=a.keyframes[d].s;e>c&&(c=e)}c*=a.mult}else c=a.v*a.mult;b.x-=c,b.xMax+=c,b.y-=c,b.yMax+=c},HShapeElement.prototype.currentBoxContains=function(a){return this.currentBBox.x<=a.x&&this.currentBBox.y<=a.y&&this.currentBBox.width+this.currentBBox.x>=a.x+a.width&&this.currentBBox.height+this.currentBBox.y>=a.y+a.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var a=this.tempBoundingBox,b=999999;if(a.x=999999,a.xMax=-b,a.y=b,a.yMax=-b,this.calculateBoundingBox(this.itemsData,a),a.width=a.xMax<a.x?0:a.xMax-a.x,a.height=a.yMax<a.y?0:a.yMax-a.y,!this.currentBoxContains(a)){var c=!1;if(this.currentBBox.w!==a.width&&(this.currentBBox.w=a.width,this.shapeCont.setAttribute("width",a.width),c=!0),this.currentBBox.h!==a.height&&(this.currentBBox.h=a.height,this.shapeCont.setAttribute("height",a.height),c=!0),c||this.currentBBox.x!==a.x||this.currentBBox.y!==a.y){this.currentBBox.w=a.width,this.currentBBox.h=a.height,this.currentBBox.x=a.x,this.currentBBox.y=a.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var d=this.shapeCont.style,e="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";d.transform=e,d.webkitTransform=e}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var a=createNS("g");this.maskedElement.appendChild(a),this.innerElem=a}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var a=this.textProperty.currentData;this.renderedLetters=createSizedArray(a.l?a.l.length:0);var b=this.innerElem.style,c=a.fc?this.buildColor(a.fc):"rgba(0,0,0,0)";b.fill=c,b.color=c,a.sc&&(b.stroke=this.buildColor(a.sc),b.strokeWidth=a.sw+"px");var d=this.globalData.fontManager.getFontByName(a.f);if(!this.globalData.fontManager.chars)if(b.fontSize=a.finalSize+"px",b.lineHeight=a.finalSize+"px",d.fClass)this.innerElem.className=d.fClass;else{b.fontFamily=d.fFamily;var e=a.fWeight;b.fontStyle=a.fStyle,b.fontWeight=e}var f=a.l;k=f.length;var g=this.mHelper,h="",i=0;for(j=0;j<k;j+=1){if(this.globalData.fontManager.chars?(this.textPaths[i]?l=this.textPaths[i]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[i]?n=(m=this.textSpans[i]).children[0]:((m=createTag("div")).style.lineHeight=0,(n=createNS("svg")).appendChild(l),styleDiv(m)))):this.isMasked?l=this.textPaths[i]?this.textPaths[i]:createNS("text"):this.textSpans[i]?(m=this.textSpans[i],l=this.textPaths[i]):(styleDiv(m=createTag("span")),styleDiv(l=createTag("span")),m.appendChild(l)),this.globalData.fontManager.chars){var j,k,l,m,n,o,p,q=this.globalData.fontManager.getCharData(a.finalText[j],d.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily);if(p=q?q.data:null,g.reset(),p&&p.shapes&&p.shapes.length&&(o=p.shapes[0].it,g.scale(a.finalSize/100,a.finalSize/100),h=this.createPathShape(g,o),l.setAttribute("d",h)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(m),p&&p.shapes){document.body.appendChild(n);var r=n.getBBox();n.setAttribute("width",r.width+2),n.setAttribute("height",r.height+2),n.setAttribute("viewBox",r.x-1+" "+(r.y-1)+" "+(r.width+2)+" "+(r.height+2));var s=n.style,t="translate("+(r.x-1)+"px,"+(r.y-1)+"px)";s.transform=t,s.webkitTransform=t,f[j].yOffset=r.y-1}else n.setAttribute("width",1),n.setAttribute("height",1);m.appendChild(n)}}else if(l.textContent=f[j].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(m);var u=l.style,v="translate3d(0,"+-a.finalSize/1.2+"px,0)";u.transform=v,u.webkitTransform=v}this.isMasked?this.textSpans[i]=l:this.textSpans[i]=m,this.textSpans[i].style.display="block",this.textPaths[i]=l,i+=1}for(;i<this.textSpans.length;)this.textSpans[i].style.display="none",i+=1},HTextElement.prototype.renderInnerContent=function(){if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var a,b,c,d,e,f=this.svgElement.style,g="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";f.transform=g,f.webkitTransform=g}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var h=0,i=this.textAnimator.renderedLetters,j=this.textProperty.currentData.l;for(a=0,b=j.length;a<b;a+=1)j[a].n?h+=1:(d=this.textSpans[a],e=this.textPaths[a],c=i[h],h+=1,c._mdf.m&&(this.isMasked?d.setAttribute("transform",c.m):(d.style.webkitTransform=c.m,d.style.transform=c.m)),d.style.opacity=c.o,c.sw&&c._mdf.sw&&e.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&e.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(e.setAttribute("fill",c.fc),e.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var k=this.innerElem.getBBox();this.currentBBox.w!==k.width&&(this.currentBBox.w=k.width,this.svgElement.setAttribute("width",k.width)),this.currentBBox.h!==k.height&&(this.currentBBox.h=k.height,this.svgElement.setAttribute("height",k.height));var l=1;if(this.currentBBox.w!==k.width+2*l||this.currentBBox.h!==k.height+2*l||this.currentBBox.x!==k.x-l||this.currentBBox.y!==k.y-l){this.currentBBox.w=k.width+2*l,this.currentBBox.h=k.height+2*l,this.currentBBox.x=k.x-l,this.currentBBox.y=k.y-l,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),f=this.svgElement.style;var m="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";f.transform=m,f.webkitTransform=m}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var a,b,c,d,e=this.comp.threeDElements.length;for(a=0;a<e;a+=1)if("3d"===(b=this.comp.threeDElements[a]).type){c=b.perspectiveElem.style,d=b.container.style;var f=this.pe.v+"px",g="0px 0px 0px",h="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";c.perspective=f,c.webkitPerspective=f,d.transformOrigin=g,d.mozTransformOrigin=g,d.webkitTransformOrigin=g,c.transform=h,c.webkitTransform=h}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var a=this._isFirstFrame;if(this.hierarchy)for(c=0,d=this.hierarchy.length;c<d;c+=1)a=this.hierarchy[c].finalTransform.mProp._mdf||a;if(a||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(c=d=this.hierarchy.length-1;c>=0;c-=1){var b=this.hierarchy[c].finalTransform.mProp;this.mat.translate(-b.p.v[0],-b.p.v[1],b.p.v[2]),this.mat.rotateX(-b.or.v[0]).rotateY(-b.or.v[1]).rotateZ(b.or.v[2]),this.mat.rotateX(-b.rx.v).rotateY(-b.ry.v).rotateZ(b.rz.v),this.mat.scale(1/b.s.v[0],1/b.s.v[1],1/b.s.v[2]),this.mat.translate(b.a.v[0],b.a.v[1],b.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var c,d,e=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],f=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)),g=[e[0]/f,e[1]/f,e[2]/f],h=Math.sqrt(g[2]*g[2]+g[0]*g[0]),i=Math.atan2(g[1],h),j=Math.atan2(g[0],-g[2]);this.mat.rotateY(j).rotateX(-i)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var k=!this._prevMat.equals(this.mat);if((k||this.pe._mdf)&&this.comp.threeDElements){for(c=0,d=this.comp.threeDElements.length;c<d;c+=1)if("3d"===(l=this.comp.threeDElements[c]).type){if(k){var l,m,n,o=this.mat.toCSS();(n=l.container.style).transform=o,n.webkitTransform=o}this.pe._mdf&&((m=l.perspectiveElem.style).perspective=this.pe.v+"px",m.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData),b=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(b),b.crossOrigin="anonymous",b.src=a,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(a,b){var c=a.getBaseElement();if(c){var d=this.layers[b];if(d.ddd&&this.supports3d)this.addTo3dContainer(c,b);else if(this.threeDElements)this.addTo3dContainer(c,b);else{for(var e,f,g=0;g<b;)this.elements[g]&&!0!==this.elements[g]&&this.elements[g].getBaseElement&&(f=this.elements[g],e=(this.layers[g].ddd?this.getThreeDContainerByPos(g):f.getBaseElement())||e),g+=1;e?d.ddd&&this.supports3d||this.layerElement.insertBefore(c,e):d.ddd&&this.supports3d||this.layerElement.appendChild(c)}}},HybridRendererBase.prototype.createShape=function(a){return this.supports3d?new HShapeElement(a,this.globalData,this):new SVGShapeElement(a,this.globalData,this)},HybridRendererBase.prototype.createText=function(a){return this.supports3d?new HTextElement(a,this.globalData,this):new SVGTextLottieElement(a,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(a){return this.camera=new HCameraElement(a,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(a){return this.supports3d?new HImageElement(a,this.globalData,this):new IImageElement(a,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(a){return this.supports3d?new HSolidElement(a,this.globalData,this):new ISolidElement(a,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(a){for(var b=0,c=this.threeDElements.length;b<c;){if(this.threeDElements[b].startPos<=a&&this.threeDElements[b].endPos>=a)return this.threeDElements[b].perspectiveElem;b+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(a,b){var c,d,e=createTag("div");styleDiv(e);var f=createTag("div");if(styleDiv(f),"3d"===b){(c=e.style).width=this.globalData.compSize.w+"px",c.height=this.globalData.compSize.h+"px";var g="50% 50%";c.webkitTransformOrigin=g,c.mozTransformOrigin=g,c.transformOrigin=g;var h="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(d=f.style).transform=h,d.webkitTransform=h}e.appendChild(f);var i={container:f,perspectiveElem:e,startPos:a,endPos:a,type:b};return this.threeDElements.push(i),i},HybridRendererBase.prototype.build3dContainers=function(){var a,b,c=this.layers.length,d="";for(a=0;a<c;a+=1)this.layers[a].ddd&&3!==this.layers[a].ty?"3d"!==d&&(d="3d",b=this.createThreeDContainer(a,"3d")):"2d"!==d&&(d="2d",b=this.createThreeDContainer(a,"2d")),b.endPos=Math.max(b.endPos,a);for(a=(c=this.threeDElements.length)-1;a>=0;a-=1)this.resizerElem.appendChild(this.threeDElements[a].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(a,b){for(var c=0,d=this.threeDElements.length;c<d;){if(b<=this.threeDElements[c].endPos){for(var e,f=this.threeDElements[c].startPos;f<b;)this.elements[f]&&this.elements[f].getBaseElement&&(e=this.elements[f].getBaseElement()),f+=1;e?this.threeDElements[c].container.insertBefore(a,e):this.threeDElements[c].container.appendChild(a);break}c+=1}},HybridRendererBase.prototype.configAnimation=function(a){var b=createTag("div"),c=this.animationItem.wrapper,d=b.style;d.width=a.w+"px",d.height=a.h+"px",this.resizerElem=b,styleDiv(b),d.transformStyle="flat",d.mozTransformStyle="flat",d.webkitTransformStyle="flat",this.renderConfig.className&&b.setAttribute("class",this.renderConfig.className),c.appendChild(b),d.overflow="hidden";var e=createNS("svg");e.setAttribute("width","1"),e.setAttribute("height","1"),styleDiv(e),this.resizerElem.appendChild(e);var f=createNS("defs");e.appendChild(f),this.data=a,this.setupGlobalData(a,e),this.globalData.defs=f,this.layers=a.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;a<b;a+=1)this.elements[a]&&this.elements[a].destroy&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var a,b,c,d,e=this.animationItem.wrapper.offsetWidth,f=this.animationItem.wrapper.offsetHeight,g=e/f;this.globalData.compSize.w/this.globalData.compSize.h>g?(a=e/this.globalData.compSize.w,b=e/this.globalData.compSize.w,c=0,d=(f-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(a=f/this.globalData.compSize.h,b=f/this.globalData.compSize.h,c=(e-this.globalData.compSize.w*(f/this.globalData.compSize.h))/2,d=0);var h=this.resizerElem.style;h.webkitTransform="matrix3d("+a+",0,0,0,0,"+b+",0,0,0,0,1,0,"+c+","+d+",0,1)",h.transform=h.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var a,b=this.globalData.compSize.w,c=this.globalData.compSize.h,d=this.threeDElements.length;for(a=0;a<d;a+=1){var e=this.threeDElements[a].perspectiveElem.style;e.webkitPerspective=Math.sqrt(Math.pow(b,2)+Math.pow(c,2))+"px",e.perspective=e.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(a){var b,c=a.length,d=createTag("div");for(b=0;b<c;b+=1)if(a[b].xt){var e=this.createComp(a[b],d,this.globalData.comp,null);e.initExpressions(),this.globalData.projectInterface.registerComposition(e)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(a,b){for(var c,d=0;d<b;)this.elements[d]&&this.elements[d].getBaseElement&&(c=this.elements[d].getBaseElement()),d+=1;c?this.layerElement.insertBefore(a,c):this.layerElement.appendChild(a)},HCompElement.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.globalData,this):new SVGCompElement(a,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.globalData,this):new SVGCompElement(a,this.globalData,this)};var CompExpressionInterface=function(){return function(a){function b(b){for(var c=0,d=a.layers.length;c<d;){if(a.layers[c].nm===b||a.layers[c].ind===b)return a.elements[c].layerInterface;c+=1}return null}return Object.defineProperty(b,"_name",{value:a.data.nm}),b.layer=b,b.pixelAspect=1,b.height=a.data.h||a.globalData.compSize.h,b.width=a.data.w||a.globalData.compSize.w,b.pixelAspect=1,b.frameDuration=1/a.globalData.frameRate,b.displayStartTime=0,b.numLayers=a.layers.length,b}}();function _typeof$2(a){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function seedRandom(a,b){var c,d=this,e=256,f=6,g=52,h="random",i=b.pow(e,f),j=b.pow(2,g),k=2*j,l=e-1;function m(c,d,g){var l=[],m=q(p((d=!0===d?{entropy:!0}:d||{}).entropy?[c,s(a)]:null===c?r():c,3),l),t=new n(l),u=function(){for(var a=t.g(f),b=i,c=0;a<j;)a=(a+c)*e,b*=e,c=t.g(1);for(;a>=k;)a/=2,b/=2,c>>>=1;return(a+c)/b};return u.int32=function(){return 0|t.g(4)},u.quick=function(){return t.g(4)/0x100000000},u.double=u,q(s(t.S),a),(d.pass||g||function(a,c,d,e){return(e&&(e.S&&o(e,t),a.state=function(){return o(t,{})}),d)?(b[h]=a,c):a})(u,m,"global"in d?d.global:this==b,d.state)}function n(a){var b,c=a.length,d=this,f=0,g=d.i=d.j=0,h=d.S=[];for(c||(a=[c++]);f<e;)h[f]=f++;for(f=0;f<e;f++)h[f]=h[g=l&g+a[f%c]+(b=h[f])],h[g]=b;d.g=function(a){for(var b,c=0,f=d.i,g=d.j,h=d.S;a--;)b=h[f=l&f+1],c=c*e+h[l&(h[f]=h[g=l&g+b])+(h[g]=b)];return d.i=f,d.j=g,c}}function o(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function p(a,b){var c,d=[],e=_typeof$2(a);if(b&&"object"==e)for(c in a)try{d.push(p(a[c],b-1))}catch(a){}return d.length?d:"string"==e?a:a+"\0"}function q(a,b){for(var c,d=a+"",e=0;e<d.length;)b[l&e]=l&(c^=19*b[l&e])+d.charCodeAt(e++);return s(b)}function r(){try{if(c)return s(c.randomBytes(e));var b=new Uint8Array(e);return(d.crypto||d.msCrypto).getRandomValues(b),s(b)}catch(b){var f=d.navigator,g=f&&f.plugins;return[+new Date,d,g,d.screen,s(a)]}}function s(a){return String.fromCharCode.apply(0,a)}b["seed"+h]=m,q(b.random(),a)}function initialize$2(a){seedRandom([],a)}var propTypes={SHAPE:"shape"};function _typeof$1(a){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(a){return a.constructor===Array||a.constructor===Float32Array}function isNumerable(a,b){return"number"===a||b instanceof Number||"boolean"===a||"string"===a}function $bm_neg(a){var b=_typeof$1(a);if("number"===b||a instanceof Number||"boolean"===b)return-a;if($bm_isInstanceOfArray(a)){var c,d=a.length,e=[];for(c=0;c<d;c+=1)e[c]=-a[c];return e}return a.propType?a.v:-a}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(a,b){var c=_typeof$1(a),d=_typeof$1(b);if(isNumerable(c,a)&&isNumerable(d,b)||"string"===c||"string"===d)return a+b;if($bm_isInstanceOfArray(a)&&isNumerable(d,b))return a=a.slice(0),a[0]+=b,a;if(isNumerable(c,a)&&$bm_isInstanceOfArray(b))return(b=b.slice(0))[0]=a+b[0],b;if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){for(var e=0,f=a.length,g=b.length,h=[];e<f||e<g;)("number"==typeof a[e]||a[e]instanceof Number)&&("number"==typeof b[e]||b[e]instanceof Number)?h[e]=a[e]+b[e]:h[e]=void 0===b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}var add=sum;function sub(a,b){var c=_typeof$1(a),d=_typeof$1(b);if(isNumerable(c,a)&&isNumerable(d,b))return"string"===c&&(a=parseInt(a,10)),"string"===d&&(b=parseInt(b,10)),a-b;if($bm_isInstanceOfArray(a)&&isNumerable(d,b))return a=a.slice(0),a[0]-=b,a;if(isNumerable(c,a)&&$bm_isInstanceOfArray(b))return(b=b.slice(0))[0]=a-b[0],b;if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){for(var e=0,f=a.length,g=b.length,h=[];e<f||e<g;)("number"==typeof a[e]||a[e]instanceof Number)&&("number"==typeof b[e]||b[e]instanceof Number)?h[e]=a[e]-b[e]:h[e]=void 0===b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function mul(a,b){var c,d,e,f=_typeof$1(a),g=_typeof$1(b);if(isNumerable(f,a)&&isNumerable(g,b))return a*b;if($bm_isInstanceOfArray(a)&&isNumerable(g,b)){for(d=0,c=createTypedArray("float32",e=a.length);d<e;d+=1)c[d]=a[d]*b;return c}if(isNumerable(f,a)&&$bm_isInstanceOfArray(b)){for(d=0,c=createTypedArray("float32",e=b.length);d<e;d+=1)c[d]=a*b[d];return c}return 0}function div(a,b){var c,d,e,f=_typeof$1(a),g=_typeof$1(b);if(isNumerable(f,a)&&isNumerable(g,b))return a/b;if($bm_isInstanceOfArray(a)&&isNumerable(g,b)){for(d=0,c=createTypedArray("float32",e=a.length);d<e;d+=1)c[d]=a[d]/b;return c}if(isNumerable(f,a)&&$bm_isInstanceOfArray(b)){for(d=0,c=createTypedArray("float32",e=b.length);d<e;d+=1)c[d]=a/b[d];return c}return 0}function mod(a,b){return"string"==typeof a&&(a=parseInt(a,10)),"string"==typeof b&&(b=parseInt(b,10)),a%b}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(a,b,c){if(b>c){var d=c;c=b,b=d}return Math.min(Math.max(a,b),c)}function radiansToDegrees(a){return a/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(a){return a*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(a,b){if("number"==typeof a||a instanceof Number)return b=b||0,Math.abs(a-b);b||(b=helperLengthArray);var c,d=Math.min(a.length,b.length),e=0;for(c=0;c<d;c+=1)e+=Math.pow(b[c]-a[c],2);return Math.sqrt(e)}function normalize(a){return div(a,length(a))}function rgbToHsl(a){var b,c,d=a[0],e=a[1],f=a[2],g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g===h)b=0,c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+6*(e<f);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i,a[3]]}function hue2rgb(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function hslToRgb(a){var b,c,d,e=a[0],f=a[1],g=a[2];if(0===f)b=g,d=g,c=g;else{var h=g<.5?g*(1+f):g+f-g*f,i=2*g-h;b=hue2rgb(i,h,e+1/3),c=hue2rgb(i,h,e),d=hue2rgb(i,h,e-1/3)}return[b,c,d,a[3]]}function linear(a,b,c,d,e){if((void 0===d||void 0===e)&&(d=b,e=c,b=0,c=1),c<b){var f,g=c;c=b,b=g}if(a<=b)return d;if(a>=c)return e;var h=c===b?0:(a-b)/(c-b);if(!d.length)return d+(e-d)*h;var i=d.length,j=createTypedArray("float32",i);for(f=0;f<i;f+=1)j[f]=d[f]+(e[f]-d[f])*h;return j}function random(a,b){if(void 0===b&&(void 0===a?(a=0,b=1):(b=a,a=void 0)),b.length){var c,d=b.length;a||(a=createTypedArray("float32",d));var e=createTypedArray("float32",d),f=BMMath.random();for(c=0;c<d;c+=1)e[c]=a[c]+f*(b[c]-a[c]);return e}return void 0===a&&(a=0),a+BMMath.random()*(b-a)}function createPath(a,b,c,d){var e,f,g,h=a.length,i=shapePool.newElement();i.setPathData(!!d,h);var j=[0,0];for(e=0;e<h;e+=1)f=b&&b[e]?b[e]:j,g=c&&c[e]?c[e]:j,i.setTripleAt(a[e][0],a[e][1],g[0]+a[e][0],g[1]+a[e][1],f[0]+a[e][0],f[1]+a[e][1],e,!0);return i}function initiateExpression(elem,data,property){function noOp(a){return a}if(!elem.globalData.renderConfig.runExpressions)return noOp;var transform,$bm_transform,content,effect,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,time,velocity,value,text,textIndex,textTotal,selectorValue,parent,val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(a,b){var c,d,e=this.pv.length?this.pv.length:1,f=createTypedArray("float32",e);a=5;var g=Math.floor(time*a);for(c=0,d=0;c<g;){for(d=0;d<e;d+=1)f[d]+=-b+2*b*BMMath.random();c+=1}var h=time*a,i=h-Math.floor(h),j=createTypedArray("float32",e);if(e>1){for(d=0;d<e;d+=1)j[d]=this.pv[d]+f[d]+(-b+2*b*BMMath.random())*i;return j}return this.pv+f[0]+(-b+2*b*BMMath.random())*i}).bind(this);function loopInDuration(a,b){return loopIn(a,b,!0)}function loopOutDuration(a,b){return loopOut(a,b,!0)}thisProperty.loopIn&&(loop_in=loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loop_out=loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(a,b){var c=[b[0]-a[0],b[1]-a[1],b[2]-a[2]],d=Math.atan2(c[0],Math.sqrt(c[1]*c[1]+c[2]*c[2]))/degToRads;return[-Math.atan2(c[1],c[2])/degToRads,d,0]}function easeOut(a,b,c,d,e){return applyEase(easeOutBez,a,b,c,d,e)}function easeIn(a,b,c,d,e){return applyEase(easeInBez,a,b,c,d,e)}function ease(a,b,c,d,e){return applyEase(easeInOutBez,a,b,c,d,e)}function applyEase(a,b,c,d,e,f){void 0===e?(e=c,f=d):b=(b-c)/(d-c),b>1?b=1:b<0&&(b=0);var g=a(b);if($bm_isInstanceOfArray(e)){var h,i=e.length,j=createTypedArray("float32",i);for(h=0;h<i;h+=1)j[h]=(f[h]-e[h])*g+e[h];return j}return(f-e)*g+e}function nearestKey(a){var b,c,d,e=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(c=-1,(a*=elem.comp.globalData.frameRate)<data.k[0].t)c=1,d=data.k[0].t;else{for(b=0;b<e-1;b+=1)if(a===data.k[b].t){c=b+1,d=data.k[b].t;break}else if(a>data.k[b].t&&a<data.k[b+1].t){a-data.k[b].t>data.k[b+1].t-a?(c=b+2,d=data.k[b+1].t):(c=b+1,d=data.k[b].t);break}-1===c&&(c=b+1,d=data.k[b].t)}else c=0,d=0;var f={};return f.index=c,f.time=d/elem.comp.globalData.frameRate,f}function key(a){if(!data.k.length||"number"==typeof data.k[0])throw Error("The property has no keyframe at index "+a);a-=1;var b,c,d={time:data.k[a].t/elem.comp.globalData.frameRate,value:[]},e=Object.prototype.hasOwnProperty.call(data.k[a],"s")?data.k[a].s:data.k[a-1].e;for(b=0,c=e.length;b<c;b+=1)d[b]=e[b],d.value[b]=e[b];return d}function framesToTime(a,b){return b||(b=elem.comp.globalData.frameRate),a/b}function timeToFrames(a,b){return a||0===a||(a=time),b||(b=elem.comp.globalData.frameRate),a*b}function seedRandom(a){BMMath.seedrandom(randSeed+a)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(a,b){return"string"==typeof value?void 0===b?value.substring(a):value.substring(a,b):""}function substr(a,b){return"string"==typeof value?void 0===b?value.substr(a):value.substr(a,b):""}function posterizeTime(a){time=0===a?0:Math.floor(time*a)/a,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(a){return(value=a,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType)?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),!transform&&($bm_transform=transform=elem.layerInterface("ADBE Transform Group"),transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!!(elem.hierarchy&&elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var a={};return a.initExpressions=function a(a){var b=0,c=[];function d(){b+=1}function e(){0==(b-=1)&&g()}function f(a){-1===c.indexOf(a)&&c.push(a)}function g(){var a,b=c.length;for(a=0;a<b;a+=1)c[a].release();c.length=0}a.renderer.compInterface=CompExpressionInterface(a.renderer),a.renderer.globalData.projectInterface.registerComposition(a.renderer),a.renderer.globalData.pushExpression=d,a.renderer.globalData.popExpression=e,a.renderer.globalData.registerExpressionProperty=f},a.resetFrame=ExpressionManager.resetFrame,a}(),MaskManagerInterface=function(){function a(a,b){this._mask=a,this._data=b}return Object.defineProperty(a.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(a.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(b){var c,d=createSizedArray(b.viewData.length),e=b.viewData.length;for(c=0;c<e;c+=1)d[c]=new a(b.viewData[c],b.masksProperties[c]);return function(a){for(c=0;c<e;){if(b.masksProperties[c].nm===a)return d[c];c+=1}return null}}}(),ExpressionPropertyInterface=function(){var a={pv:0,v:0,mult:1},b={pv:[0,0,0],v:[0,0,0],mult:1};function c(a,b,c){Object.defineProperty(a,"velocity",{get:function(){return b.getVelocityAtTime(b.comp.currentFrame)}}),a.numKeys=b.keyframes?b.keyframes.length:0,a.key=function(d){if(!a.numKeys)return 0;var e="";e="s"in b.keyframes[d-1]?b.keyframes[d-1].s:"e"in b.keyframes[d-2]?b.keyframes[d-2].e:b.keyframes[d-2].s;var f="unidimensional"===c?new Number(e):Object.assign({},e);return f.time=b.keyframes[d-1].t/b.elem.comp.globalData.frameRate,f.value="unidimensional"===c?e[0]:e,f},a.valueAtTime=b.getValueAtTime,a.speedAtTime=b.getSpeedAtTime,a.velocityAtTime=b.getVelocityAtTime,a.propertyGroup=b.propertyGroup}function d(b){b&&"pv"in b||(b=a);var d=1/b.mult,e=b.pv*d,f=new Number(e);return f.value=e,c(f,b,"unidimensional"),function(){return b.k&&b.getValue(),e=b.v*d,f.value!==e&&((f=new Number(e)).value=e,f[0]=e,c(f,b,"unidimensional")),f}}function e(a){a&&"pv"in a||(a=b);var d=1/a.mult,e=a.data&&a.data.l||a.pv.length,f=createTypedArray("float32",e),g=createTypedArray("float32",e);return f.value=g,c(f,a,"multidimensional"),function(){a.k&&a.getValue();for(var b=0;b<e;b+=1)g[b]=a.v[b]*d,f[b]=g[b];return f}}function f(){return a}return function(a){return a?"unidimensional"===a.propType?d(a):e(a):f}}(),TransformExpressionInterface=function(){return function(a){var b,c,d,e;function f(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return f.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return f.rotation;case"ADBE Rotate X":return f.xRotation;case"ADBE Rotate Y":return f.yRotation;case"position":case"Position":case"ADBE Position":case 2:return f.position;case"ADBE Position_0":return f.xPosition;case"ADBE Position_1":return f.yPosition;case"ADBE Position_2":return f.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return f.anchorPoint;case"opacity":case"Opacity":case 11:return f.opacity;default:return null}}return Object.defineProperty(f,"rotation",{get:ExpressionPropertyInterface(a.r||a.rz)}),Object.defineProperty(f,"zRotation",{get:ExpressionPropertyInterface(a.rz||a.r)}),Object.defineProperty(f,"xRotation",{get:ExpressionPropertyInterface(a.rx)}),Object.defineProperty(f,"yRotation",{get:ExpressionPropertyInterface(a.ry)}),Object.defineProperty(f,"scale",{get:ExpressionPropertyInterface(a.s)}),a.p?e=ExpressionPropertyInterface(a.p):(b=ExpressionPropertyInterface(a.px),c=ExpressionPropertyInterface(a.py),a.pz&&(d=ExpressionPropertyInterface(a.pz))),Object.defineProperty(f,"position",{get:function(){return a.p?e():[b(),c(),d?d():0]}}),Object.defineProperty(f,"xPosition",{get:ExpressionPropertyInterface(a.px)}),Object.defineProperty(f,"yPosition",{get:ExpressionPropertyInterface(a.py)}),Object.defineProperty(f,"zPosition",{get:ExpressionPropertyInterface(a.pz)}),Object.defineProperty(f,"anchorPoint",{get:ExpressionPropertyInterface(a.a)}),Object.defineProperty(f,"opacity",{get:ExpressionPropertyInterface(a.o)}),Object.defineProperty(f,"skew",{get:ExpressionPropertyInterface(a.sk)}),Object.defineProperty(f,"skewAxis",{get:ExpressionPropertyInterface(a.sa)}),Object.defineProperty(f,"orientation",{get:ExpressionPropertyInterface(a.or)}),f}}(),LayerExpressionInterface=function(){function a(a){var b=new Matrix;return void 0!==a?this._elem.finalTransform.mProp.getValueAtTime(a).clone(b):this._elem.finalTransform.mProp.applyToMatrix(b),b}function b(a,b){var c=this.getMatrix(b);return c.props[12]=0,c.props[13]=0,c.props[14]=0,this.applyPoint(c,a)}function c(a,b){var c=this.getMatrix(b);return this.applyPoint(c,a)}function d(a,b){var c=this.getMatrix(b);return c.props[12]=0,c.props[13]=0,c.props[14]=0,this.invertPoint(c,a)}function e(a,b){var c=this.getMatrix(b);return this.invertPoint(c,a)}function f(a,b){if(this._elem.hierarchy&&this._elem.hierarchy.length){var c,d=this._elem.hierarchy.length;for(c=0;c<d;c+=1)this._elem.hierarchy[c].finalTransform.mProp.applyToMatrix(a)}return a.applyToPointArray(b[0],b[1],b[2]||0)}function g(a,b){if(this._elem.hierarchy&&this._elem.hierarchy.length){var c,d=this._elem.hierarchy.length;for(c=0;c<d;c+=1)this._elem.hierarchy[c].finalTransform.mProp.applyToMatrix(a)}return a.inversePoint(b)}function h(a){var b=new Matrix;if(b.reset(),this._elem.finalTransform.mProp.applyToMatrix(b),this._elem.hierarchy&&this._elem.hierarchy.length){var c,d=this._elem.hierarchy.length;for(c=0;c<d;c+=1)this._elem.hierarchy[c].finalTransform.mProp.applyToMatrix(b)}return b.inversePoint(a)}function i(){return[1,1,1,1]}return function(j){function k(a){m.mask=new MaskManagerInterface(a,j)}function l(a){m.effect=a}function m(a){switch(a){case"ADBE Root Vectors Group":case"Contents":case 2:return m.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return n;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return m.effect;case"ADBE Text Properties":return m.textInterface;default:return null}}m.getMatrix=a,m.invertPoint=g,m.applyPoint=f,m.toWorld=c,m.toWorldVec=b,m.fromWorld=e,m.fromWorldVec=d,m.toComp=c,m.fromComp=h,m.sampleImage=i,m.sourceRectAtTime=j.sourceRectAtTime.bind(j),m._elem=j;var n=TransformExpressionInterface(j.finalTransform.mProp),o=getDescriptor(n,"anchorPoint");return Object.defineProperties(m,{hasParent:{get:function(){return j.hierarchy.length}},parent:{get:function(){return j.hierarchy[0].layerInterface}},rotation:getDescriptor(n,"rotation"),scale:getDescriptor(n,"scale"),position:getDescriptor(n,"position"),opacity:getDescriptor(n,"opacity"),anchorPoint:o,anchor_point:o,transform:{get:function(){return n}},active:{get:function(){return j.isInRange}}}),m.startTime=j.data.st,m.index=j.data.ind,m.source=j.data.refId,m.height=0===j.data.ty?j.data.h:100,m.width=0===j.data.ty?j.data.w:100,m.inPoint=j.data.ip/j.comp.globalData.frameRate,m.outPoint=j.data.op/j.comp.globalData.frameRate,m._name=j.data.nm,m.registerMaskInterface=k,m.registerEffectsInterface=l,m}}(),propertyGroupFactory=function(){return function(a,b){return function(c){return(c=void 0===c?1:c)<=0?a:b(c-1)}}}(),PropertyInterface=function(){return function(a,b){var c={_name:a};return function(a){return(a=void 0===a?1:a)<=0?c:b(a-1)}}}(),EffectsExpressionInterface=function(){function a(c,d,e,f){function g(a){for(var b=c.ef,d=0,e=b.length;d<e;){if(a===b[d].nm||a===b[d].mn||a===b[d].ix){if(5===b[d].ty)return j[d];return j[d]()}d+=1}throw Error()}var h,i=propertyGroupFactory(g,e),j=[],k=c.ef.length;for(h=0;h<k;h+=1)5===c.ef[h].ty?j.push(a(c.ef[h],d.effectElements[h],d.effectElements[h].propertyGroup,f)):j.push(b(d.effectElements[h],c.ef[h].ty,f,i));return"ADBE Color Control"===c.mn&&Object.defineProperty(g,"color",{get:function(){return j[0]()}}),Object.defineProperties(g,{numProperties:{get:function(){return c.np}},_name:{value:c.nm},propertyGroup:{value:i}}),g.enabled=0!==c.en,g.active=g.enabled,g}function b(a,b,c,d){var e=ExpressionPropertyInterface(a.p);function f(){return 10===b?c.comp.compInterface(a.p.v):e()}return a.p.setGroupProperty&&a.p.setGroupProperty(PropertyInterface("",d)),f}return{createEffectsInterface:function(b,c){if(b.effectsManager){var d,e=[],f=b.data.ef,g=b.effectsManager.effectElements.length;for(d=0;d<g;d+=1)e.push(a(f[d],b.effectsManager.effectElements[d],c,b));var h=b.data.ef||[],i=function(a){for(d=0,g=h.length;d<g;){if(a===h[d].nm||a===h[d].mn||a===h[d].ix)return e[d];d+=1}return null};return Object.defineProperty(i,"numProperties",{get:function(){return h.length}}),i}return null}}}(),ShapePathInterface=function(){return function(a,b,c){var d=b.sh;function e(a){return"Shape"===a||"shape"===a||"Path"===a||"path"===a||"ADBE Vector Shape"===a||2===a?e.path:null}var f=propertyGroupFactory(e,c);return d.setGroupProperty(PropertyInterface("Path",f)),Object.defineProperties(e,{path:{get:function(){return d.k&&d.getValue(),d}},shape:{get:function(){return d.k&&d.getValue(),d}},_name:{value:a.nm},ix:{value:a.ix},propertyIndex:{value:a.ix},mn:{value:a.mn},propertyGroup:{value:c}}),e}}(),ShapeExpressionInterface=function(){function a(a,b,i){var o,p=[],q=a?a.length:0;for(o=0;o<q;o+=1)"gr"===a[o].ty?p.push(c(a[o],b[o],i)):"fl"===a[o].ty?p.push(d(a[o],b[o],i)):"st"===a[o].ty?p.push(g(a[o],b[o],i)):"tm"===a[o].ty?p.push(h(a[o],b[o],i)):"tr"===a[o].ty||("el"===a[o].ty?p.push(j(a[o],b[o],i)):"sr"===a[o].ty?p.push(k(a[o],b[o],i)):"sh"===a[o].ty?p.push(ShapePathInterface(a[o],b[o],i)):"rc"===a[o].ty?p.push(l(a[o],b[o],i)):"rd"===a[o].ty?p.push(m(a[o],b[o],i)):"rp"===a[o].ty?p.push(n(a[o],b[o],i)):"gf"===a[o].ty?p.push(e(a[o],b[o],i)):p.push(f(a[o],b[o],i)));return p}function b(b,c,d){var e,f=function(a){for(var b=0,c=e.length;b<c;){if(e[b]._name===a||e[b].mn===a||e[b].propertyIndex===a||e[b].ix===a||e[b].ind===a)return e[b];b+=1}return"number"==typeof a?e[a-1]:null};f.propertyGroup=propertyGroupFactory(f,d),e=a(b.it,c.it,f.propertyGroup),f.numProperties=e.length;var g=i(b.it[b.it.length-1],c.it[c.it.length-1],f.propertyGroup);return f.transform=g,f.propertyIndex=b.cix,f._name=b.nm,f}function c(a,c,d){var e=function(a){switch(a){case"ADBE Vectors Group":case"Contents":case 2:return e.content;default:return e.transform}};e.propertyGroup=propertyGroupFactory(e,d);var f=b(a,c,e.propertyGroup),g=i(a.it[a.it.length-1],c.it[c.it.length-1],e.propertyGroup);return e.content=f,e.transform=g,Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e.numProperties=a.np,e.propertyIndex=a.ix,e.nm=a.nm,e.mn=a.mn,e}function d(a,b,c){function d(a){return"Color"===a||"color"===a?d.color:"Opacity"===a||"opacity"===a?d.opacity:null}return Object.defineProperties(d,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},_name:{value:a.nm},mn:{value:a.mn}}),b.c.setGroupProperty(PropertyInterface("Color",c)),b.o.setGroupProperty(PropertyInterface("Opacity",c)),d}function e(a,b,c){function d(a){return"Start Point"===a||"start point"===a?d.startPoint:"End Point"===a||"end point"===a?d.endPoint:"Opacity"===a||"opacity"===a?d.opacity:null}return Object.defineProperties(d,{startPoint:{get:ExpressionPropertyInterface(b.s)},endPoint:{get:ExpressionPropertyInterface(b.e)},opacity:{get:ExpressionPropertyInterface(b.o)},type:{get:function(){return"a"}},_name:{value:a.nm},mn:{value:a.mn}}),b.s.setGroupProperty(PropertyInterface("Start Point",c)),b.e.setGroupProperty(PropertyInterface("End Point",c)),b.o.setGroupProperty(PropertyInterface("Opacity",c)),d}function f(){return function(){return null}}function g(a,b,c){var d,e=propertyGroupFactory(j,c),f=propertyGroupFactory(i,e);function g(c){Object.defineProperty(i,a.d[c].nm,{get:ExpressionPropertyInterface(b.d.dataProps[c].p)})}var h=a.d?a.d.length:0,i={};for(d=0;d<h;d+=1)g(d),b.d.dataProps[d].p.setGroupProperty(f);function j(a){return"Color"===a||"color"===a?j.color:"Opacity"===a||"opacity"===a?j.opacity:"Stroke Width"===a||"stroke width"===a?j.strokeWidth:null}return Object.defineProperties(j,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},strokeWidth:{get:ExpressionPropertyInterface(b.w)},dash:{get:function(){return i}},_name:{value:a.nm},mn:{value:a.mn}}),b.c.setGroupProperty(PropertyInterface("Color",e)),b.o.setGroupProperty(PropertyInterface("Opacity",e)),b.w.setGroupProperty(PropertyInterface("Stroke Width",e)),j}function h(a,b,c){function d(b){return b===a.e.ix||"End"===b||"end"===b?d.end:b===a.s.ix?d.start:b===a.o.ix?d.offset:null}var e=propertyGroupFactory(d,c);return d.propertyIndex=a.ix,b.s.setGroupProperty(PropertyInterface("Start",e)),b.e.setGroupProperty(PropertyInterface("End",e)),b.o.setGroupProperty(PropertyInterface("Offset",e)),d.propertyIndex=a.ix,d.propertyGroup=c,Object.defineProperties(d,{start:{get:ExpressionPropertyInterface(b.s)},end:{get:ExpressionPropertyInterface(b.e)},offset:{get:ExpressionPropertyInterface(b.o)},_name:{value:a.nm}}),d.mn=a.mn,d}function i(a,b,c){function d(b){return a.a.ix===b||"Anchor Point"===b?d.anchorPoint:a.o.ix===b||"Opacity"===b?d.opacity:a.p.ix===b||"Position"===b?d.position:a.r.ix===b||"Rotation"===b||"ADBE Vector Rotation"===b?d.rotation:a.s.ix===b||"Scale"===b?d.scale:a.sk&&a.sk.ix===b||"Skew"===b?d.skew:a.sa&&a.sa.ix===b||"Skew Axis"===b?d.skewAxis:null}var e=propertyGroupFactory(d,c);return b.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",e)),b.transform.mProps.p.setGroupProperty(PropertyInterface("Position",e)),b.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",e)),b.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",e)),b.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",e)),b.transform.mProps.sk&&(b.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",e)),b.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",e))),b.transform.op.setGroupProperty(PropertyInterface("Opacity",e)),Object.defineProperties(d,{opacity:{get:ExpressionPropertyInterface(b.transform.mProps.o)},position:{get:ExpressionPropertyInterface(b.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(b.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(b.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(b.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(b.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(b.transform.mProps.sa)},_name:{value:a.nm}}),d.ty="tr",d.mn=a.mn,d.propertyGroup=c,d}function j(a,b,c){function d(b){return a.p.ix===b?d.position:a.s.ix===b?d.size:null}var e=propertyGroupFactory(d,c);d.propertyIndex=a.ix;var f="tm"===b.sh.ty?b.sh.prop:b.sh;return f.s.setGroupProperty(PropertyInterface("Size",e)),f.p.setGroupProperty(PropertyInterface("Position",e)),Object.defineProperties(d,{size:{get:ExpressionPropertyInterface(f.s)},position:{get:ExpressionPropertyInterface(f.p)},_name:{value:a.nm}}),d.mn=a.mn,d}function k(a,b,c){function d(b){return a.p.ix===b?d.position:a.r.ix===b?d.rotation:a.pt.ix===b?d.points:a.or.ix===b||"ADBE Vector Star Outer Radius"===b?d.outerRadius:a.os.ix===b?d.outerRoundness:a.ir&&(a.ir.ix===b||"ADBE Vector Star Inner Radius"===b)?d.innerRadius:a.is&&a.is.ix===b?d.innerRoundness:null}var e=propertyGroupFactory(d,c),f="tm"===b.sh.ty?b.sh.prop:b.sh;return d.propertyIndex=a.ix,f.or.setGroupProperty(PropertyInterface("Outer Radius",e)),f.os.setGroupProperty(PropertyInterface("Outer Roundness",e)),f.pt.setGroupProperty(PropertyInterface("Points",e)),f.p.setGroupProperty(PropertyInterface("Position",e)),f.r.setGroupProperty(PropertyInterface("Rotation",e)),a.ir&&(f.ir.setGroupProperty(PropertyInterface("Inner Radius",e)),f.is.setGroupProperty(PropertyInterface("Inner Roundness",e))),Object.defineProperties(d,{position:{get:ExpressionPropertyInterface(f.p)},rotation:{get:ExpressionPropertyInterface(f.r)},points:{get:ExpressionPropertyInterface(f.pt)},outerRadius:{get:ExpressionPropertyInterface(f.or)},outerRoundness:{get:ExpressionPropertyInterface(f.os)},innerRadius:{get:ExpressionPropertyInterface(f.ir)},innerRoundness:{get:ExpressionPropertyInterface(f.is)},_name:{value:a.nm}}),d.mn=a.mn,d}function l(a,b,c){function d(b){return a.p.ix===b?d.position:a.r.ix===b?d.roundness:a.s.ix===b||"Size"===b||"ADBE Vector Rect Size"===b?d.size:null}var e=propertyGroupFactory(d,c),f="tm"===b.sh.ty?b.sh.prop:b.sh;return d.propertyIndex=a.ix,f.p.setGroupProperty(PropertyInterface("Position",e)),f.s.setGroupProperty(PropertyInterface("Size",e)),f.r.setGroupProperty(PropertyInterface("Rotation",e)),Object.defineProperties(d,{position:{get:ExpressionPropertyInterface(f.p)},roundness:{get:ExpressionPropertyInterface(f.r)},size:{get:ExpressionPropertyInterface(f.s)},_name:{value:a.nm}}),d.mn=a.mn,d}function m(a,b,c){function d(b){return a.r.ix===b||"Round Corners 1"===b?d.radius:null}var e=propertyGroupFactory(d,c),f=b;return d.propertyIndex=a.ix,f.rd.setGroupProperty(PropertyInterface("Radius",e)),Object.defineProperties(d,{radius:{get:ExpressionPropertyInterface(f.rd)},_name:{value:a.nm}}),d.mn=a.mn,d}function n(a,b,c){function d(b){return a.c.ix===b||"Copies"===b?d.copies:a.o.ix===b||"Offset"===b?d.offset:null}var e=propertyGroupFactory(d,c),f=b;return d.propertyIndex=a.ix,f.c.setGroupProperty(PropertyInterface("Copies",e)),f.o.setGroupProperty(PropertyInterface("Offset",e)),Object.defineProperties(d,{copies:{get:ExpressionPropertyInterface(f.c)},offset:{get:ExpressionPropertyInterface(f.o)},_name:{value:a.nm}}),d.mn=a.mn,d}return function(b,c,d){var e;function f(a){if("number"==typeof a)return 0===(a=void 0===a?1:a)?d:e[a-1];for(var b=0,c=e.length;b<c;){if(e[b]._name===a)return e[b];b+=1}return null}return f.propertyGroup=propertyGroupFactory(f,function(){return d}),e=a(b,c,f.propertyGroup),f.numProperties=e.length,f._name="Contents",f}}(),TextExpressionInterface=function(){return function(a){var b;function c(a){return"ADBE Text Document"===a?c.sourceText:null}return Object.defineProperty(c,"sourceText",{get:function(){a.textProperty.getValue();var c=a.textProperty.currentData.t;return b&&c===b.value||((b=new String(c)).value=c||new String(c),Object.defineProperty(b,"style",{get:function(){return{fillColor:a.textProperty.currentData.fc}}})),b}}),c}}();function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var FootageInterface=function(){var a=function(a){var b="",c=a.getFootageData();function d(a){if(c[a])return(b=a,c=c[a],"object"===_typeof(c))?d:c;var e=a.indexOf(b);return -1!==e?(c=c[parseInt(a.substr(e+b.length),10)],"object"===_typeof(c))?d:c:""}return function(){return b="",c=a.getFootageData(),d}},b=function(b){function c(a){return"Outline"===a?c.outlineInterface():null}return c._name="Outline",c.outlineInterface=a(b),c};return function(a){function c(a){return"Data"===a?c.dataInterface:null}return c._name="Data",c.dataInterface=b(a),c}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(a){return interfaces[a]||null}var expressionHelpers=function(){return{searchExpressions:function(a,b,c){b.x&&(c.k=!0,c.x=!0,c.initiateExpression=ExpressionManager.initiateExpression,c.effectsSequence.push(c.initiateExpression(a,b,c).bind(c)))},getSpeedAtTime:function(a){var b,c=-.01,d=this.getValueAtTime(a),e=this.getValueAtTime(a+c),f=0;if(d.length){for(b=0;b<d.length;b+=1)f+=Math.pow(e[b]-d[b],2);f=100*Math.sqrt(f)}else f=0;return f},getVelocityAtTime:function(a){if(void 0!==this.vel)return this.vel;var b,c,d=-.001,e=this.getValueAtTime(a),f=this.getValueAtTime(a+d);if(e.length)for(c=0,b=createTypedArray("float32",e.length);c<e.length;c+=1)b[c]=(f[c]-e[c])/d;else b=(f-e)/d;return b},getValueAtTime:function(a){return a*=this.elem.globalData.frameRate,(a-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(a){this.propertyGroup=a}}}();function addPropertyDecorator(){function a(a,b,c){if(!this.k||!this.keyframes)return this.pv;a=a?a.toLowerCase():"";var d,e,f,g,h,i=this.comp.renderedFrame,j=this.keyframes,k=j[j.length-1].t;if(i<=k)return this.pv;if(c?(d=b?Math.abs(k-this.elem.comp.globalData.frameRate*b):Math.max(0,k-this.elem.data.ip),e=k-d):((!b||b>j.length-1)&&(b=j.length-1),d=k-(e=j[j.length-1-b].t)),"pingpong"===a){if(Math.floor((i-e)/d)%2!=0)return this.getValueAtTime((d-(i-e)%d+e)/this.comp.globalData.frameRate,0)}else if("offset"===a){var l=this.getValueAtTime(e/this.comp.globalData.frameRate,0),m=this.getValueAtTime(k/this.comp.globalData.frameRate,0),n=this.getValueAtTime(((i-e)%d+e)/this.comp.globalData.frameRate,0),o=Math.floor((i-e)/d);if(this.pv.length){for(f=0,g=(h=Array(l.length)).length;f<g;f+=1)h[f]=(m[f]-l[f])*o+n[f];return h}return(m-l)*o+n}else if("continue"===a){var p=this.getValueAtTime(k/this.comp.globalData.frameRate,0),q=this.getValueAtTime((k-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(f=0,g=(h=Array(p.length)).length;f<g;f+=1)h[f]=p[f]+(p[f]-q[f])*((i-k)/this.comp.globalData.frameRate)/5e-4;return h}return p+(i-k)/.001*(p-q)}return this.getValueAtTime(((i-e)%d+e)/this.comp.globalData.frameRate,0)}function b(a,b,c){if(!this.k)return this.pv;a=a?a.toLowerCase():"";var d,e,f,g,h,i=this.comp.renderedFrame,j=this.keyframes,k=j[0].t;if(i>=k)return this.pv;if(c?(d=b?Math.abs(this.elem.comp.globalData.frameRate*b):Math.max(0,this.elem.data.op-k),e=k+d):((!b||b>j.length-1)&&(b=j.length-1),d=(e=j[b].t)-k),"pingpong"===a){if(Math.floor((k-i)/d)%2==0)return this.getValueAtTime(((k-i)%d+k)/this.comp.globalData.frameRate,0)}else if("offset"===a){var l=this.getValueAtTime(k/this.comp.globalData.frameRate,0),m=this.getValueAtTime(e/this.comp.globalData.frameRate,0),n=this.getValueAtTime((d-(k-i)%d+k)/this.comp.globalData.frameRate,0),o=Math.floor((k-i)/d)+1;if(this.pv.length){for(f=0,g=(h=Array(l.length)).length;f<g;f+=1)h[f]=n[f]-(m[f]-l[f])*o;return h}return n-(m-l)*o}else if("continue"===a){var p=this.getValueAtTime(k/this.comp.globalData.frameRate,0),q=this.getValueAtTime((k+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(f=0,g=(h=Array(p.length)).length;f<g;f+=1)h[f]=p[f]+(p[f]-q[f])*(k-i)/.001;return h}return p+(p-q)*(k-i)/.001}return this.getValueAtTime((d-((k-i)%d+k))/this.comp.globalData.frameRate,0)}function c(a,b){if(!this.k||(a=.5*(a||.4),(b=Math.floor(b||5))<=1))return this.pv;var c,d,e=this.comp.renderedFrame/this.comp.globalData.frameRate,f=e-a,g=e+a,h=b>1?(g-f)/(b-1):1,i=0,j=0;for(c=this.pv.length?createTypedArray("float32",this.pv.length):0;i<b;){if(d=this.getValueAtTime(f+i*h),this.pv.length)for(j=0;j<this.pv.length;j+=1)c[j]+=d[j];else c+=d;i+=1}if(this.pv.length)for(j=0;j<this.pv.length;j+=1)c[j]/=b;else c/=b;return c}function d(a){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var b=this._transformCachingAtTime.v;if(b.cloneFromProps(this.pre.props),this.appliedTransformations<1){var c=this.a.getValueAtTime(a);b.translate(-c[0]*this.a.mult,-c[1]*this.a.mult,c[2]*this.a.mult)}if(this.appliedTransformations<2){var d=this.s.getValueAtTime(a);b.scale(d[0]*this.s.mult,d[1]*this.s.mult,d[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var e=this.sk.getValueAtTime(a),f=this.sa.getValueAtTime(a);b.skewFromAxis(-e*this.sk.mult,f*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var g=this.r.getValueAtTime(a);b.rotate(-g*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var h=this.rz.getValueAtTime(a),i=this.ry.getValueAtTime(a),j=this.rx.getValueAtTime(a),k=this.or.getValueAtTime(a);b.rotateZ(-h*this.rz.mult).rotateY(i*this.ry.mult).rotateX(j*this.rx.mult).rotateZ(-k[2]*this.or.mult).rotateY(k[1]*this.or.mult).rotateX(k[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var l=this.px.getValueAtTime(a),m=this.py.getValueAtTime(a);if(this.data.p.z){var n=this.pz.getValueAtTime(a);b.translate(l*this.px.mult,m*this.py.mult,-n*this.pz.mult)}else b.translate(l*this.px.mult,m*this.py.mult,0)}else{var o=this.p.getValueAtTime(a);b.translate(o[0]*this.p.mult,o[1]*this.p.mult,-o[2]*this.p.mult)}return b}function e(){return this.v.clone(new Matrix)}var f=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(a,b,c){var g=f(a,b,c);return g.dynamicProperties.length?g.getValueAtTime=d.bind(g):g.getValueAtTime=e.bind(g),g.setGroupProperty=expressionHelpers.setGroupProperty,g};var g=PropertyFactory.getProp;function h(a){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),a*=this.elem.globalData.frameRate,(a-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<a?this._caching.lastIndex:0,this._cachingAtTime.lastTime=a,this.interpolateShape(a,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}PropertyFactory.getProp=function(d,e,f,h,i){var j=g(d,e,f,h,i);j.kf?j.getValueAtTime=expressionHelpers.getValueAtTime.bind(j):j.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(j),j.setGroupProperty=expressionHelpers.setGroupProperty,j.loopOut=a,j.loopIn=b,j.smooth=c,j.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(j),j.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(j),j.numKeys=1===e.a?e.k.length:0,j.propertyIndex=e.ix;var k=0;return 0!==f&&(k=createTypedArray("float32",1===e.a?e.k[0].s.length:e.k.length)),j._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:k},expressionHelpers.searchExpressions(d,e,j),j.k&&i.addDynamicProperty(j),j};var i=ShapePropertyFactory.getConstructorFunction(),j=ShapePropertyFactory.getKeyframedConstructorFunction();function k(){}k.prototype={vertices:function(a,b){this.k&&this.getValue();var c,d=this.v;void 0!==b&&(d=this.getValueAtTime(b,0));var e=d._length,f=d[a],g=d.v,h=createSizedArray(e);for(c=0;c<e;c+=1)"i"===a||"o"===a?h[c]=[f[c][0]-g[c][0],f[c][1]-g[c][1]]:h[c]=[f[c][0],f[c][1]];return h},points:function(a){return this.vertices("v",a)},inTangents:function(a){return this.vertices("i",a)},outTangents:function(a){return this.vertices("o",a)},isClosed:function(){return this.v.c},pointOnPath:function(a,b){var c,d=this.v;void 0!==b&&(d=this.getValueAtTime(b,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(d));for(var e=this._segmentsLength,f=e.lengths,g=e.totalLength*a,h=0,i=f.length,j=0;h<i;){if(j+f[h].addedLength>g){var k=h,l=d.c&&h===i-1?0:h+1,m=(g-j)/f[h].addedLength;c=bez.getPointInSegment(d.v[k],d.v[l],d.o[k],d.i[l],m,f[h]);break}j+=f[h].addedLength,h+=1}return c||(c=d.c?[d.v[0][0],d.v[0][1]]:[d.v[d._length-1][0],d.v[d._length-1][1]]),c},vectorOnPath:function(a,b,c){1==a?a=this.v.c:0==a&&(a=.999);var d=this.pointOnPath(a,b),e=this.pointOnPath(a+.001,b),f=e[0]-d[0],g=e[1]-d[1],h=Math.sqrt(Math.pow(f,2)+Math.pow(g,2));return 0===h?[0,0]:"tangent"===c?[f/h,g/h]:[-g/h,f/h]},tangentOnPath:function(a,b){return this.vectorOnPath(a,b,"tangent")},normalOnPath:function(a,b){return this.vectorOnPath(a,b,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([k],i),extendPrototype([k],j),j.prototype.getValueAtTime=h,j.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(a,b,c,d,e){var f=l(a,b,c,d,e);return f.propertyIndex=b.ix,f.lock=!1,3===c?expressionHelpers.searchExpressions(a,b.pt,f):4===c&&expressionHelpers.searchExpressions(a,b.ks,f),f.k&&a.addDynamicProperty(f),f}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function a(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(a,b){var c=this.calculateExpression(b);if(a.t!==c){var d={};return this.copyData(d,a),d.t=c.toString(),d.__complete=!1,d}return a},TextProperty.prototype.searchProperty=function(){var a=this.searchKeyframes(),b=this.searchExpressions();return this.kf=a||b,this.kf},TextProperty.prototype.searchExpressions=a}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(a,b){var c,d,e=createNS("feMerge");for(e.setAttribute("result",a),d=0;d<b.length;d+=1)(c=createNS("feMergeNode")).setAttribute("in",b[d]),e.appendChild(c),e.appendChild(c);return e}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(a,b,c,d,e){this.filterManager=b;var f=createNS("feColorMatrix");f.setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","linearRGB"),f.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=f,f.setAttribute("result",d+"_tint_1"),a.appendChild(f),(f=createNS("feColorMatrix")).setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),f.setAttribute("result",d+"_tint_2"),a.appendChild(f),this.matrixFilter=f;var g=this.createMergeNode(d,[e,d+"_tint_1",d+"_tint_2"]);a.appendChild(g)}function SVGFillFilter(a,b,c,d){this.filterManager=b;var e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.setAttribute("result",d),a.appendChild(e),this.matrixFilter=e}function SVGStrokeEffect(a,b,c){this.initialized=!1,this.filterManager=b,this.elem=c,this.paths=[]}function SVGTritoneFilter(a,b,c,d){this.filterManager=b;var e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","linearRGB"),e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),a.appendChild(e);var f=createNS("feComponentTransfer");f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("result",d),this.matrixFilter=f;var g=createNS("feFuncR");g.setAttribute("type","table"),f.appendChild(g),this.feFuncR=g;var h=createNS("feFuncG");h.setAttribute("type","table"),f.appendChild(h),this.feFuncG=h;var i=createNS("feFuncB");i.setAttribute("type","table"),f.appendChild(i),this.feFuncB=i,a.appendChild(f)}function SVGProLevelsFilter(a,b,c,d){this.filterManager=b;var e=this.filterManager.effectElements,f=createNS("feComponentTransfer");(e[10].p.k||0!==e[10].p.v||e[11].p.k||1!==e[11].p.v||e[12].p.k||1!==e[12].p.v||e[13].p.k||0!==e[13].p.v||e[14].p.k||1!==e[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",f)),(e[17].p.k||0!==e[17].p.v||e[18].p.k||1!==e[18].p.v||e[19].p.k||1!==e[19].p.v||e[20].p.k||0!==e[20].p.v||e[21].p.k||1!==e[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",f)),(e[24].p.k||0!==e[24].p.v||e[25].p.k||1!==e[25].p.v||e[26].p.k||1!==e[26].p.v||e[27].p.k||0!==e[27].p.v||e[28].p.k||1!==e[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",f)),(e[31].p.k||0!==e[31].p.v||e[32].p.k||1!==e[32].p.v||e[33].p.k||1!==e[33].p.v||e[34].p.k||0!==e[34].p.v||e[35].p.k||1!==e[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",f)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(f.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(f)),(e[3].p.k||0!==e[3].p.v||e[4].p.k||1!==e[4].p.v||e[5].p.k||1!==e[5].p.v||e[6].p.k||0!==e[6].p.v||e[7].p.k||1!==e[7].p.v)&&((f=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("result",d),a.appendChild(f),this.feFuncRComposed=this.createFeFunc("feFuncR",f),this.feFuncGComposed=this.createFeFunc("feFuncG",f),this.feFuncBComposed=this.createFeFunc("feFuncB",f))}function SVGDropShadowEffect(a,b,c,d,e){var f=b.container.globalData.renderConfig.filterSize,g=b.data.fs||f;a.setAttribute("x",g.x||f.x),a.setAttribute("y",g.y||f.y),a.setAttribute("width",g.width||f.width),a.setAttribute("height",g.height||f.height),this.filterManager=b;var h=createNS("feGaussianBlur");h.setAttribute("in","SourceAlpha"),h.setAttribute("result",d+"_drop_shadow_1"),h.setAttribute("stdDeviation","0"),this.feGaussianBlur=h,a.appendChild(h);var i=createNS("feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in",d+"_drop_shadow_1"),i.setAttribute("result",d+"_drop_shadow_2"),this.feOffset=i,a.appendChild(i);var j=createNS("feFlood");j.setAttribute("flood-color","#00ff00"),j.setAttribute("flood-opacity","1"),j.setAttribute("result",d+"_drop_shadow_3"),this.feFlood=j,a.appendChild(j);var k=createNS("feComposite");k.setAttribute("in",d+"_drop_shadow_3"),k.setAttribute("in2",d+"_drop_shadow_2"),k.setAttribute("operator","in"),k.setAttribute("result",d+"_drop_shadow_4"),a.appendChild(k);var l=this.createMergeNode(d,[d+"_drop_shadow_4",e]);a.appendChild(l)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+d+" 0"),this.matrixFilter.setAttribute("values",c[0]-b[0]+" 0 0 0 "+b[0]+" "+(c[1]-b[1])+" 0 0 0 "+b[1]+" "+(c[2]-b[2])+" 0 0 0 "+b[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=this.filterManager.effectElements[2].p.v,c=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+b[0]+" 0 0 0 0 "+b[1]+" 0 0 0 0 "+b[2]+" 0 0 0 "+c+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var a,b,c,d,e=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(d=this.elem.maskManager.masksProperties.length,c=0):d=(c=this.filterManager.effectElements[0].p.v-1)+1,(b=createNS("g")).setAttribute("fill","none"),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-dashoffset",1);c<d;c+=1)a=createNS("path"),b.appendChild(a),this.paths.push({p:a,m:c});if(3===this.filterManager.effectElements[10].p.v){var f=createNS("mask"),g=createElementID();f.setAttribute("id",g),f.setAttribute("mask-type","alpha"),f.appendChild(b),this.elem.globalData.defs.appendChild(f);var h=createNS("g");for(h.setAttribute("mask","url("+getLocationHref()+"#"+g+")");e[0];)h.appendChild(e[0]);this.elem.layerElement.appendChild(h),this.masker=f,b.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(b),this.elem.layerElement.removeAttribute("mask"),b.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=b},SVGStrokeEffect.prototype.renderFrame=function(a){this.initialized||this.initialize();var b=this.paths.length;for(c=0;c<b;c+=1)if(-1!==this.paths[c].m&&(d=this.elem.maskManager.viewData[this.paths[c].m],e=this.paths[c].p,(a||this.filterManager._mdf||d.prop._mdf)&&e.setAttribute("d",d.lastPath),a||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||d.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var c,d,e,f,g,h=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),i=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),j=e.getTotalLength();f="0 0 0 "+j*h+" ";var k=Math.floor(j*(i-h)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(g=0;g<k;g+=1)f+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";f+="0 "+10*j+" 0 0"}else f="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;e.setAttribute("stroke-dasharray",f)}if((a||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(a||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(a||this.filterManager.effectElements[3].p._mdf)){var l=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*l[0])+","+bmFloor(255*l[1])+","+bmFloor(255*l[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v,e=d[0]+" "+c[0]+" "+b[0],f=d[1]+" "+c[1]+" "+b[1],g=d[2]+" "+c[2]+" "+b[2];this.feFuncR.setAttribute("tableValues",e),this.feFuncG.setAttribute("tableValues",f),this.feFuncB.setAttribute("tableValues",g)}},SVGProLevelsFilter.prototype.createFeFunc=function(a,b){var c=createNS(a);return c.setAttribute("type","table"),b.appendChild(c),c},SVGProLevelsFilter.prototype.getTableValue=function(a,b,c,d,e){for(var f,g,h=0,i=256,j=Math.min(a,b),k=Math.max(a,b),l=Array.call(null,{length:256}),m=0,n=e-d,o=b-a;h<=256;)g=(f=h/256)<=j?o<0?e:d:f>=k?o<0?d:e:d+n*Math.pow((f-a)/o,1/c),l[m]=g,m+=1,h+=256/(i-1);return l.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b,c=this.filterManager.effectElements;this.feFuncRComposed&&(a||c[3].p._mdf||c[4].p._mdf||c[5].p._mdf||c[6].p._mdf||c[7].p._mdf)&&(b=this.getTableValue(c[3].p.v,c[4].p.v,c[5].p.v,c[6].p.v,c[7].p.v),this.feFuncRComposed.setAttribute("tableValues",b),this.feFuncGComposed.setAttribute("tableValues",b),this.feFuncBComposed.setAttribute("tableValues",b)),this.feFuncR&&(a||c[10].p._mdf||c[11].p._mdf||c[12].p._mdf||c[13].p._mdf||c[14].p._mdf)&&(b=this.getTableValue(c[10].p.v,c[11].p.v,c[12].p.v,c[13].p.v,c[14].p.v),this.feFuncR.setAttribute("tableValues",b)),this.feFuncG&&(a||c[17].p._mdf||c[18].p._mdf||c[19].p._mdf||c[20].p._mdf||c[21].p._mdf)&&(b=this.getTableValue(c[17].p.v,c[18].p.v,c[19].p.v,c[20].p.v,c[21].p.v),this.feFuncG.setAttribute("tableValues",b)),this.feFuncB&&(a||c[24].p._mdf||c[25].p._mdf||c[26].p._mdf||c[27].p._mdf||c[28].p._mdf)&&(b=this.getTableValue(c[24].p.v,c[25].p.v,c[26].p.v,c[27].p.v,c[28].p.v),this.feFuncB.setAttribute("tableValues",b)),this.feFuncA&&(a||c[31].p._mdf||c[32].p._mdf||c[33].p._mdf||c[34].p._mdf||c[35].p._mdf)&&(b=this.getTableValue(c[31].p.v,c[32].p.v,c[33].p.v,c[34].p.v,c[35].p.v),this.feFuncA.setAttribute("tableValues",b))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){if((a||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),a||this.filterManager.effectElements[0].p._mdf){var b=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*b[0]),Math.round(255*b[1]),Math.round(255*b[2])))}if((a||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),a||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var c=this.filterManager.effectElements[3].p.v,d=(this.filterManager.effectElements[2].p.v-90)*degToRads,e=c*Math.cos(d),f=c*Math.sin(d);this.feOffset.setAttribute("dx",e),this.feOffset.setAttribute("dy",f)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(a,b,c){this.initialized=!1,this.filterManager=b,this.filterElem=a,this.elem=c,c.matteElement=createNS("g"),c.matteElement.appendChild(c.layerElement),c.matteElement.appendChild(c.transformedElement),c.baseElement=c.matteElement}function SVGGaussianBlurEffect(a,b,c,d){a.setAttribute("x","-100%"),a.setAttribute("y","-100%"),a.setAttribute("width","300%"),a.setAttribute("height","300%"),this.filterManager=b;var e=createNS("feGaussianBlur");e.setAttribute("result",d),a.appendChild(e),this.feGaussianBlur=e}function TransformEffect(){}function SVGTransformEffect(a,b){this.init(b)}function CVTransformEffect(a){this.init(a)}return SVGMatte3Effect.prototype.findSymbol=function(a){for(var b=0,c=_svgMatteSymbols.length;b<c;){if(_svgMatteSymbols[b]===a)return _svgMatteSymbols[b];b+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(a,b){var c,d=a.layerElement.parentNode;if(d){for(var e=d.children,f=0,g=e.length;f<g&&e[f]!==a.layerElement;)f+=1;f<=g-2&&(c=e[f+1]);var h=createNS("use");h.setAttribute("href","#"+b),c?d.insertBefore(h,c):d.appendChild(h)}},SVGMatte3Effect.prototype.setElementAsMask=function(a,b){if(!this.findSymbol(b)){var c=createElementID(),d=createNS("mask");d.setAttribute("id",b.layerId),d.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(b);var e=a.globalData.defs;e.appendChild(d);var f=createNS("symbol");f.setAttribute("id",c),this.replaceInParent(b,c),f.appendChild(b.layerElement),e.appendChild(f);var g=createNS("use");g.setAttribute("href","#"+c),d.appendChild(g),b.data.hd=!1,b.show()}a.setMatte(b.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var a=this.filterManager.effectElements[0].p.v,b=this.elem.comp.elements,c=0,d=b.length;c<d;)b[c]&&b[c].data.ind===a&&this.setElementAsMask(this.elem,b[c]),c+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=.3,c=this.filterManager.effectElements[0].p.v*b,d=this.filterManager.effectElements[1].p.v,e=3==d?0:c,f=2==d?0:c;this.feGaussianBlur.setAttribute("stdDeviation",e+" "+f);var g=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",g)}},TransformEffect.prototype.init=function(a){this.effectsManager=a,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(a){if(this._opMdf=!1,this._mdf=!1,a||this.effectsManager._mdf){var b=this.effectsManager.effectElements,c=b[0].p.v,d=b[1].p.v,e=1===b[2].p.v,f=b[3].p.v,g=e?f:b[4].p.v,h=b[5].p.v,i=b[6].p.v,j=b[7].p.v;this.matrix.reset(),this.matrix.translate(-c[0],-c[1],c[2]),this.matrix.scale(.01*g,.01*f,1),this.matrix.rotate(-j*degToRads),this.matrix.skewFromAxis(-h*degToRads,(i+90)*degToRads),this.matrix.translate(d[0],d[1],0),this._mdf=!0,this.opacity!==b[8].p.v&&(this.opacity=b[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{default:function(){return i},getImageProps:function(){return h}});let d=a.r(33354),e=a.r(94915),f=a.r(67161),g=d._(a.r(2305));function h(a){let{props:b}=(0,e.getImgProps)(a,{defaultLoader:g.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let i=f.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},73681,a=>{"use strict";a.s(["default",()=>V],73681);var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=new(a.i(96226)).default("17665d8a-66ff-4fe4-8099-0532453c90fd");var f=a.i(24144),g=c;function h(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i(a){if(Array.isArray(a))return a}function j(a,b,c){return(b=s(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function k(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}function l(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?m(Object(c),!0).forEach(function(b){j(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):m(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function o(a,b){if(null==a)return{};var c,d,e=p(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.includes(c)||({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function p(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(b.includes(d))continue;c[d]=a[d]}return c}function q(a,b){return i(a)||k(a,b)||t(a,b)||l()}function r(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function s(a){var b=r(a,"string");return"symbol"==typeof b?b:b+""}function t(a,b){if(a){if("string"==typeof a)return h(a,b);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?h(a,b):void 0}}var u=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],v=function(a,b){var c=a.animationData,d=a.loop,e=a.autoplay,h=a.initialSegment,i=a.onComplete,j=a.onLoopComplete,k=a.onEnterFrame,l=a.onSegmentStart,m=a.onConfigReady,p=a.onDataReady,r=a.onDataFailed,s=a.onLoadedImages,t=a.onDOMLoaded,v=a.onDestroy;a.lottieRef,a.renderer,a.name,a.assetsPath,a.rendererSettings;var w=o(a,u),x=q((0,g.useState)(!1),2),y=x[0],z=x[1],A=(0,g.useRef)(),B=(0,g.useRef)(null),C=function(){var a;null==(a=A.current)||a.play()},D=function(){var a;null==(a=A.current)||a.stop()},E=function(){var a;null==(a=A.current)||a.pause()},F=function(a){var b;null==(b=A.current)||b.setSpeed(a)},G=function(a,b){var c;null==(c=A.current)||c.goToAndPlay(a,b)},H=function(a,b){var c;null==(c=A.current)||c.goToAndStop(a,b)},I=function(a){var b;null==(b=A.current)||b.setDirection(a)},J=function(a,b){var c;null==(c=A.current)||c.playSegments(a,b)},K=function(a){var b;null==(b=A.current)||b.setSubframe(a)},L=function(a){var b;return null==(b=A.current)?void 0:b.getDuration(a)},M=function(){var a;null==(a=A.current)||a.destroy(),A.current=void 0},N=function(){var b,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(B.current){null==(b=A.current)||b.destroy();var d=n(n(n({},a),c),{},{container:B.current});return A.current=f.default.loadAnimation(d),z(!!A.current),function(){var a;null==(a=A.current)||a.destroy(),A.current=void 0}}};return(0,g.useEffect)(function(){var a=N();return function(){return null==a?void 0:a()}},[c,d]),(0,g.useEffect)(function(){A.current&&(A.current.autoplay=!!e)},[e]),(0,g.useEffect)(function(){if(A.current){if(!h)return void A.current.resetSegments(!0);Array.isArray(h)&&h.length&&((A.current.currentRawFrame<h[0]||A.current.currentRawFrame>h[1])&&(A.current.currentRawFrame=h[0]),A.current.setSegment(h[0],h[1]))}},[h]),(0,g.useEffect)(function(){var a=[{name:"complete",handler:i},{name:"loopComplete",handler:j},{name:"enterFrame",handler:k},{name:"segmentStart",handler:l},{name:"config_ready",handler:m},{name:"data_ready",handler:p},{name:"data_failed",handler:r},{name:"loaded_images",handler:s},{name:"DOMLoaded",handler:t},{name:"destroy",handler:v}].filter(function(a){return null!=a.handler});if(a.length){var b=a.map(function(a){var b;return null==(b=A.current)||b.addEventListener(a.name,a.handler),function(){var b;null==(b=A.current)||b.removeEventListener(a.name,a.handler)}});return function(){b.forEach(function(a){return a()})}}},[i,j,k,l,m,p,r,s,t,v]),{View:g.default.createElement("div",n({style:b,ref:B},w)),play:C,stop:D,pause:E,setSpeed:F,goToAndStop:H,goToAndPlay:G,setDirection:I,playSegments:J,setSubframe:K,getDuration:L,destroy:M,animationContainerRef:B,animationLoaded:y,animationItem:A.current}};function w(a){var b=a.getBoundingClientRect(),c=b.top,d=b.height;return(window.innerHeight-c)/(window.innerHeight+d)}function x(a,b,c){var d=a.getBoundingClientRect(),e=d.top;return{x:(b-d.left)/d.width,y:(c-e)/d.height}}var y=function(a){var b=a.wrapperRef,c=a.animationItem,d=a.mode,e=a.actions;(0,g.useEffect)(function(){var a=b.current;if(a&&c&&e.length){c.stop();var f=function(){var b=null,d=function(){var d=w(a),f=e.find(function(a){var b=a.visibility;return b&&d>=b[0]&&d<=b[1]});if(f){if("seek"===f.type&&f.visibility&&2===f.frames.length){var g=f.frames[0]+Math.ceil((d-f.visibility[0])/(f.visibility[1]-f.visibility[0])*f.frames[1]);c.goToAndStop(g-c.firstFrame-1,!0)}"loop"===f.type&&(null===b||b!==f.frames?(c.playSegments(f.frames,!0),b=f.frames):c.isPaused&&(c.playSegments(f.frames,!0),b=f.frames)),"play"===f.type&&c.isPaused&&(c.resetSegments(!0),c.play()),"stop"===f.type&&c.goToAndStop(f.frames[0]-c.firstFrame-1,!0)}};return document.addEventListener("scroll",d),function(){document.removeEventListener("scroll",d)}},g=function(){var b=function(b,d){var f=b,g=d;if(-1!==f&&-1!==g){var h=x(a,f,g);f=h.x,g=h.y}var i=e.find(function(a){var b=a.position;return b&&Array.isArray(b.x)&&Array.isArray(b.y)?f>=b.x[0]&&f<=b.x[1]&&g>=b.y[0]&&g<=b.y[1]:!(!b||Number.isNaN(b.x)||Number.isNaN(b.y))&&f===b.x&&g===b.y});if(i){if("seek"===i.type&&i.position&&Array.isArray(i.position.x)&&Array.isArray(i.position.y)&&2===i.frames.length){var j=(f-i.position.x[0])/(i.position.x[1]-i.position.x[0]),k=(g-i.position.y[0])/(i.position.y[1]-i.position.y[0]);c.playSegments(i.frames,!0),c.goToAndStop(Math.ceil((j+k)/2*(i.frames[1]-i.frames[0])),!0)}"loop"===i.type&&c.playSegments(i.frames,!0),"play"===i.type&&(c.isPaused&&c.resetSegments(!1),c.playSegments(i.frames)),"stop"===i.type&&c.goToAndStop(i.frames[0],!0)}},d=function(a){b(a.clientX,a.clientY)},f=function(){b(-1,-1)};return a.addEventListener("mousemove",d),a.addEventListener("mouseout",f),function(){a.removeEventListener("mousemove",d),a.removeEventListener("mouseout",f)}};switch(d){case"scroll":return f();case"cursor":return g()}}},[d,c])},z=function(a){var b=a.actions,c=a.mode,d=a.lottieObj,e=d.animationItem,f=d.View;return y({actions:b,animationItem:e,mode:c,wrapperRef:d.animationContainerRef}),f},A=["style","interactivity"],B=function(a){var b,c,d,e=a.style,f=a.interactivity,h=v(o(a,A),e),i=h.View,j=h.play,k=h.stop,l=h.pause,m=h.setSpeed,n=h.goToAndStop,p=h.goToAndPlay,q=h.setDirection,r=h.playSegments,s=h.setSubframe,t=h.getDuration,u=h.destroy,w=h.animationContainerRef,x=h.animationLoaded,y=h.animationItem;return(0,g.useEffect)(function(){a.lottieRef&&(a.lottieRef.current={play:j,stop:k,pause:l,setSpeed:m,goToAndPlay:p,goToAndStop:n,setDirection:q,playSegments:r,setSubframe:s,getDuration:t,destroy:u,animationContainerRef:w,animationLoaded:x,animationItem:y})},[null==(b=a.lottieRef)?void 0:b.current]),z({lottieObj:{View:i,play:j,stop:k,pause:l,setSpeed:m,goToAndStop:n,goToAndPlay:p,setDirection:q,playSegments:r,setSubframe:s,getDuration:t,destroy:u,animationContainerRef:w,animationLoaded:x,animationItem:y},actions:null!=(c=null==f?void 0:f.actions)?c:[],mode:null!=(d=null==f?void 0:f.mode)?d:"scroll"})},C=a.i(84733),D=a.i(5050),E=(0,D.createServerReference)("7fa10ba1f295bb6520ffff0d21cca5afa213553614",D.callServer,void 0,D.findSourceMapURL,"addToSessionHistory"),F=a.i(4975),G=a.i(70106);let H=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],I=(0,G.default)("mic-off",H),J=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],K=(0,G.default)("phone",J),L=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],M=(0,G.default)("phone-off",L);var N=a.i(96221);let O=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],P=(0,G.default)("message-circle",O);var Q=a.i(46842);let R=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],S=(0,G.default)("bot",R);var T=a.i(71987),U=function(a){return a.INACTIVE="INACTIVE",a.CONNECTING="CONNECTING",a.ACTIVE="ACTIVE",a.FINISHED="FINISHED",a}(U||{});let V=({companionId:a,subject:f,topic:g,name:h,userName:i,userImage:j,style:k,voice:l})=>{let[m,n]=(0,c.useState)("INACTIVE"),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)([]),u=(0,c.useRef)(null);(0,c.useEffect)(()=>{u&&(o?u.current?.play():u.current?.stop())},[o,u]),(0,c.useEffect)(()=>{let b=()=>{console.log("Call started"),n("ACTIVE")},c=()=>{console.log("Call ended"),n("FINISHED"),E(a)},d=a=>{if(console.log("Message received:",a),"transcript"===a.type&&"final"===a.transcriptType){let b={role:a.role,content:a.transcript};t(a=>[b,...a])}},f=()=>{console.log("Speech started"),p(!0)},g=()=>{console.log("Speech ended"),p(!1)},h=a=>{console.error("VAPI Error:",a),n("FINISHED")};return e.on("call-start",b),e.on("call-end",c),e.on("message",d),e.on("error",h),e.on("speech-start",f),e.on("speech-end",g),()=>{e.off("call-start",b),e.off("call-end",c),e.off("message",d),e.off("error",h),e.off("speech-start",f),e.off("speech-end",g)}},[a]);let v=()=>{let a=e.isMuted();e.setMuted(!a),r(!a)},w=async()=>{n("CONNECTING");try{let a=await navigator.mediaDevices.getUserMedia({audio:!0});console.log(" Microphone access confirmed"),a.getTracks().forEach(a=>a.stop());let b=(0,d.configureAssistant)(l,k);console.log(" Starting call with config:",b);let c={variableValues:{subject:f,topic:g,style:k},clientMessages:["transcript"],serverMessages:[]};await e.start(b,c),console.log(" Call started successfully")}catch(a){console.error(" Failed to start call:",a),a instanceof Error?"NotAllowedError"===a.name?alert("Microphone access denied. Please allow microphone access and try again."):"NotFoundError"===a.name?alert("No microphone found. Please connect a microphone and try again."):"NotSupportedError"===a.name?alert("Voice features not supported in this browser. Please use Chrome, Firefox, or Safari."):alert(`Voice error: ${a.message}`):alert("Unknown voice error occurred. Please check console for details."),n("FINISHED")}},x=()=>{n("FINISHED"),e.stop()},y=a=>({mathematics:"",science:"",history:"",language:"",coding:"",economics:""})[a.toLowerCase()]||"";return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"card p-8 text-center",children:[(0,b.jsxs)("div",{className:"relative mb-6",children:[(0,b.jsxs)("div",{className:"w-32 h-32 mx-auto rounded-3xl flex items-center justify-center text-6xl mb-4 relative overflow-hidden",style:{backgroundColor:(0,d.getSubjectColor)(f)+"20"},children:[(0,b.jsx)("div",{className:(0,d.cn)("absolute inset-0 flex items-center justify-center transition-opacity duration-1000","FINISHED"===m||"INACTIVE"===m?"opacity-100":"opacity-0","CONNECTING"===m&&"opacity-100 animate-pulse"),children:(0,b.jsx)("span",{className:"text-6xl",children:y(f)})}),(0,b.jsx)("div",{className:(0,d.cn)("absolute inset-0 flex items-center justify-center transition-opacity duration-1000","ACTIVE"===m?"opacity-100":"opacity-0"),children:(0,b.jsx)(B,{lottieRef:u,animationData:C.default,autoplay:!1,className:"w-full h-full"})})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold mb-2",children:h}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[f,"  ",g]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[(0,b.jsx)("div",{className:(0,d.cn)("w-3 h-3 rounded-full","ACTIVE"===m?"bg-green-500 animate-pulse":"CONNECTING"===m?"bg-yellow-500 animate-pulse":"bg-gray-400")}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"ACTIVE"===m?o?"Speaking...":"Listening...":"CONNECTING"===m?"Connecting...":"Ready"})]}),"ACTIVE"===m&&(0,b.jsxs)("div",{className:"text-xs text-muted-foreground text-center mb-4",children:[(0,b.jsxs)("div",{children:["Microphone: ",q?"Muted":"Active"]}),(0,b.jsxs)("div",{children:["Voice Activity: ",o?"Detected":"Waiting"]})]}),"INACTIVE"===m&&(0,b.jsx)("div",{className:"text-center mb-4",children:(0,b.jsx)("button",{onClick:async()=>{try{let a=await navigator.mediaDevices.getUserMedia({audio:!0});console.log(" Microphone test successful"),alert("Microphone is working! You can start a voice session."),a.getTracks().forEach(a=>a.stop())}catch(b){console.error(" Microphone test failed:",b);let a=b instanceof Error?b.message:"Unknown error";alert(`Microphone test failed: ${a}`)}},className:"btn-secondary text-sm px-4 py-2",children:" Test Microphone"})})]}),(0,b.jsxs)("div",{className:"card p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)(T.default,{src:j,alt:i,width:80,height:80,className:"w-20 h-20 rounded-2xl mx-auto mb-4 object-cover"}),(0,b.jsx)("h3",{className:"text-xl font-semibold",children:i})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("button",{className:(0,d.cn)("w-full p-4 rounded-xl border-2 border-dashed transition-all duration-200 flex items-center justify-center space-x-3","ACTIVE"!==m?"border-muted text-muted-foreground cursor-not-allowed":q?"border-red-200 bg-red-50 text-red-600 hover:bg-red-100":"border-green-200 bg-green-50 text-green-600 hover:bg-green-100"),onClick:v,disabled:"ACTIVE"!==m,children:[q?(0,b.jsx)(I,{className:"w-5 h-5"}):(0,b.jsx)(F.Mic,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-medium",children:q?"Microphone Off":"Microphone On"})]}),(0,b.jsx)("button",{className:(0,d.cn)("w-full p-4 rounded-xl font-semibold text-white transition-all duration-200 flex items-center justify-center space-x-3","ACTIVE"===m?"bg-red-600 hover:bg-red-700":"CONNECTING"===m?"bg-yellow-600 cursor-not-allowed":"btn-gradient"),onClick:"ACTIVE"===m?x:w,disabled:"CONNECTING"===m,children:"CONNECTING"===m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N.Loader2,{className:"w-5 h-5 animate-spin"}),(0,b.jsx)("span",{children:"Connecting..."})]}):"ACTIVE"===m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"End Session"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(K,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Start Learning Session"})]})})]})]})]}),(0,b.jsxs)("div",{className:"card p-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,b.jsx)(P,{className:"w-5 h-5 text-primary"}),(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Conversation"})]}),(0,b.jsx)("div",{className:"bg-muted/50 rounded-xl p-4 max-h-64 overflow-y-auto",children:s.length>0?(0,b.jsx)("div",{className:"space-y-4",children:s.map((a,c)=>(0,b.jsxs)("div",{className:(0,d.cn)("flex items-start space-x-3 p-3 rounded-lg","assistant"===a.role?"bg-primary/5":"bg-accent/5"),children:[(0,b.jsx)("div",{className:(0,d.cn)("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0","assistant"===a.role?"bg-primary/10":"bg-accent/10"),children:"assistant"===a.role?(0,b.jsx)(S,{className:"w-4 h-4 text-primary"}):(0,b.jsx)(Q.User,{className:"w-4 h-4 text-accent"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"assistant"===a.role?h.split(" ")[0]:i}),(0,b.jsx)("p",{className:"text-sm leading-relaxed",children:a.content})]})]},c))}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(P,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"Start a conversation to see the transcript here"})]})})]})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ed58c413._.js.map