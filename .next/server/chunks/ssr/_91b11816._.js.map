{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/lib/actions/companion.actions.ts"],"sourcesContent":["'use server';\n\nimport {auth} from \"@clerk/nextjs/server\";\nimport {createSupabaseClient} from \"@/lib/supabase\";\nimport { revalidatePath } from \"next/cache\";\n\nexport const createCompanion = async (formData: CreateCompanion) => {\n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        console.warn('Supabase environment variables not configured. Cannot create companion.');\n        return null;\n    }\n\n    const { userId: author } = await auth();\n    const supabase = createSupabaseClient();\n\n    const { data, error } = await supabase\n        .from('companions')\n        .insert({...formData, author })\n        .select();\n\n    if(error) {\n        console.error('Supabase error creating companion:', error.message);\n        return null;\n    }\n\n    if(!data) {\n        console.error('No data returned from companion creation');\n        return null;\n    }\n\n    return data[0];\n}\n\nexport const getAllCompanions = async ({ limit = 10, page = 1, subject, topic }: GetAllCompanions) => {\n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        console.warn('Supabase environment variables not configured. Returning empty array.');\n        return [];\n    }\n\n    const supabase = createSupabaseClient();\n\n    let query = supabase.from('companions').select();\n\n    if(subject && topic) {\n        query = query.ilike('subject', `%${subject}%`)\n            .or(`topic.ilike.%${topic}%,name.ilike.%${topic}%`)\n    } else if(subject) {\n        query = query.ilike('subject', `%${subject}%`)\n    } else if(topic) {\n        query = query.or(`topic.ilike.%${topic}%,name.ilike.%${topic}%`)\n    }\n\n    query = query.range((page - 1) * limit, page * limit - 1);\n\n    const { data: companions, error } = await query;\n\n    if(error) {\n        console.error('Supabase error:', error.message);\n        return [];\n    }\n\n    return companions || [];\n}\n\nexport const getCompanion = async (id: string) => {\n    const supabase = createSupabaseClient();\n\n    const { data, error } = await supabase\n        .from('companions')\n        .select()\n        .eq('id', id);\n\n    if(error) return console.log(error);\n\n    return data[0];\n}\n\nexport const addToSessionHistory = async (companionId: string) => {\n    const { userId } = await auth();\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase.from('session_history')\n        .insert({\n            companion_id: companionId,\n            user_id: userId,\n        })\n\n    if(error) throw new Error(error.message);\n\n    return data;\n}\n\nexport const getRecentSessions = async (limit = 10) => {\n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        console.warn('Supabase environment variables not configured. Returning empty array.');\n        return [];\n    }\n\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n        .from('session_history')\n        .select(`companions:companion_id (*)`)\n        .order('created_at', { ascending: false })\n        .limit(limit)\n\n    if(error) {\n        console.error('Supabase error:', error.message);\n        return [];\n    }\n\n    return data?.map(({ companions }) => companions) || [];\n}\n\nexport const getUserSessions = async (userId: string, limit = 10) => {\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n        .from('session_history')\n        .select(`companions:companion_id (*)`)\n        .eq('user_id', userId)\n        .order('created_at', { ascending: false })\n        .limit(limit)\n\n    if(error) throw new Error(error.message);\n\n    return data.map(({ companions }) => companions);\n}\n\nexport const getUserCompanions = async (userId: string) => {\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n        .from('companions')\n        .select()\n        .eq('author', userId)\n\n    if(error) throw new Error(error.message);\n\n    return data;\n}\n\nexport const newCompanionPermissions = async () => {\n    const { userId, has } = await auth();\n    \n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        // If no database configured, allow unlimited companions for now\n        return true;\n    }\n\n    const supabase = createSupabaseClient();\n    let limit = 10; // Default limit for free users\n\n    if(has({ plan: 'pro' })) {\n        return true;\n    } else if(has({ feature: \"3_companion_limit\" })) {\n        limit = 3;\n    } else if(has({ feature: \"10_companion_limit\" })) {\n        limit = 10;\n    }\n\n    const { data, error } = await supabase\n        .from('companions')\n        .select('id', { count: 'exact' })\n        .eq('author', userId)\n\n    if(error) {\n        console.error('Supabase error:', error.message);\n        return true; // Allow creation if database error\n    }\n\n    const companionCount = data?.length || 0;\n\n    if(companionCount >= limit) {\n        return false\n    } else {\n        return true;\n    }\n}\n\n// Bookmarks\nexport const addBookmark = async (companionId: string, path: string) => {\n  const { userId } = await auth();\n  if (!userId) return;\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase.from(\"bookmarks\").insert({\n    companion_id: companionId,\n    user_id: userId,\n  });\n  if (error) {\n    throw new Error(error.message);\n  }\n  // Revalidate the path to force a re-render of the page\n\n  revalidatePath(path);\n  return data;\n};\n\nexport const removeBookmark = async (companionId: string, path: string) => {\n  const { userId } = await auth();\n  if (!userId) return;\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"bookmarks\")\n    .delete()\n    .eq(\"companion_id\", companionId)\n    .eq(\"user_id\", userId);\n  if (error) {\n    throw new Error(error.message);\n  }\n  revalidatePath(path);\n  return data;\n};\n\n// It's almost the same as getUserCompanions, but it's for the bookmarked companions\nexport const getBookmarkedCompanions = async (userId: string) => {\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"bookmarks\")\n    .select(`companions:companion_id (*)`) // Notice the (*) to get all the companion data\n    .eq(\"user_id\", userId);\n  if (error) {\n    throw new Error(error.message);\n  }\n  // We don't need the bookmarks data, so we return only the companions\n  return data.map(({ companions }) => companions);\n};"],"names":[],"mappings":";;;;;;;IAsMa,iBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/lib/actions/companion.actions.ts"],"sourcesContent":["'use server';\n\nimport {auth} from \"@clerk/nextjs/server\";\nimport {createSupabaseClient} from \"@/lib/supabase\";\nimport { revalidatePath } from \"next/cache\";\n\nexport const createCompanion = async (formData: CreateCompanion) => {\n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        console.warn('Supabase environment variables not configured. Cannot create companion.');\n        return null;\n    }\n\n    const { userId: author } = await auth();\n    const supabase = createSupabaseClient();\n\n    const { data, error } = await supabase\n        .from('companions')\n        .insert({...formData, author })\n        .select();\n\n    if(error) {\n        console.error('Supabase error creating companion:', error.message);\n        return null;\n    }\n\n    if(!data) {\n        console.error('No data returned from companion creation');\n        return null;\n    }\n\n    return data[0];\n}\n\nexport const getAllCompanions = async ({ limit = 10, page = 1, subject, topic }: GetAllCompanions) => {\n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        console.warn('Supabase environment variables not configured. Returning empty array.');\n        return [];\n    }\n\n    const supabase = createSupabaseClient();\n\n    let query = supabase.from('companions').select();\n\n    if(subject && topic) {\n        query = query.ilike('subject', `%${subject}%`)\n            .or(`topic.ilike.%${topic}%,name.ilike.%${topic}%`)\n    } else if(subject) {\n        query = query.ilike('subject', `%${subject}%`)\n    } else if(topic) {\n        query = query.or(`topic.ilike.%${topic}%,name.ilike.%${topic}%`)\n    }\n\n    query = query.range((page - 1) * limit, page * limit - 1);\n\n    const { data: companions, error } = await query;\n\n    if(error) {\n        console.error('Supabase error:', error.message);\n        return [];\n    }\n\n    return companions || [];\n}\n\nexport const getCompanion = async (id: string) => {\n    const supabase = createSupabaseClient();\n\n    const { data, error } = await supabase\n        .from('companions')\n        .select()\n        .eq('id', id);\n\n    if(error) return console.log(error);\n\n    return data[0];\n}\n\nexport const addToSessionHistory = async (companionId: string) => {\n    const { userId } = await auth();\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase.from('session_history')\n        .insert({\n            companion_id: companionId,\n            user_id: userId,\n        })\n\n    if(error) throw new Error(error.message);\n\n    return data;\n}\n\nexport const getRecentSessions = async (limit = 10) => {\n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        console.warn('Supabase environment variables not configured. Returning empty array.');\n        return [];\n    }\n\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n        .from('session_history')\n        .select(`companions:companion_id (*)`)\n        .order('created_at', { ascending: false })\n        .limit(limit)\n\n    if(error) {\n        console.error('Supabase error:', error.message);\n        return [];\n    }\n\n    return data?.map(({ companions }) => companions) || [];\n}\n\nexport const getUserSessions = async (userId: string, limit = 10) => {\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n        .from('session_history')\n        .select(`companions:companion_id (*)`)\n        .eq('user_id', userId)\n        .order('created_at', { ascending: false })\n        .limit(limit)\n\n    if(error) throw new Error(error.message);\n\n    return data.map(({ companions }) => companions);\n}\n\nexport const getUserCompanions = async (userId: string) => {\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n        .from('companions')\n        .select()\n        .eq('author', userId)\n\n    if(error) throw new Error(error.message);\n\n    return data;\n}\n\nexport const newCompanionPermissions = async () => {\n    const { userId, has } = await auth();\n    \n    // Check if Supabase environment variables are configured\n    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        // If no database configured, allow unlimited companions for now\n        return true;\n    }\n\n    const supabase = createSupabaseClient();\n    let limit = 10; // Default limit for free users\n\n    if(has({ plan: 'pro' })) {\n        return true;\n    } else if(has({ feature: \"3_companion_limit\" })) {\n        limit = 3;\n    } else if(has({ feature: \"10_companion_limit\" })) {\n        limit = 10;\n    }\n\n    const { data, error } = await supabase\n        .from('companions')\n        .select('id', { count: 'exact' })\n        .eq('author', userId)\n\n    if(error) {\n        console.error('Supabase error:', error.message);\n        return true; // Allow creation if database error\n    }\n\n    const companionCount = data?.length || 0;\n\n    if(companionCount >= limit) {\n        return false\n    } else {\n        return true;\n    }\n}\n\n// Bookmarks\nexport const addBookmark = async (companionId: string, path: string) => {\n  const { userId } = await auth();\n  if (!userId) return;\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase.from(\"bookmarks\").insert({\n    companion_id: companionId,\n    user_id: userId,\n  });\n  if (error) {\n    throw new Error(error.message);\n  }\n  // Revalidate the path to force a re-render of the page\n\n  revalidatePath(path);\n  return data;\n};\n\nexport const removeBookmark = async (companionId: string, path: string) => {\n  const { userId } = await auth();\n  if (!userId) return;\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"bookmarks\")\n    .delete()\n    .eq(\"companion_id\", companionId)\n    .eq(\"user_id\", userId);\n  if (error) {\n    throw new Error(error.message);\n  }\n  revalidatePath(path);\n  return data;\n};\n\n// It's almost the same as getUserCompanions, but it's for the bookmarked companions\nexport const getBookmarkedCompanions = async (userId: string) => {\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"bookmarks\")\n    .select(`companions:companion_id (*)`) // Notice the (*) to get all the companion data\n    .eq(\"user_id\", userId);\n  if (error) {\n    throw new Error(error.message);\n  }\n  // We don't need the bookmarks data, so we return only the companions\n  return data.map(({ companions }) => companions);\n};"],"names":[],"mappings":";;;;;;;IAqLa,cAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/components/CompanionCard.tsx"],"sourcesContent":["\"use client\";\nimport { removeBookmark } from \"@/lib/actions/companion.actions\";\nimport { addBookmark } from \"@/lib/actions/companion.actions\";\nimport { usePathname } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { Bookmark, Clock, Play, Star } from \"lucide-react\";\nimport { useState } from \"react\";\n\ninterface CompanionCardProps {\n  id: string;\n  name: string;\n  topic: string;\n  subject: string;\n  duration: number;\n  color: string;\n  bookmarked: boolean;\n}\n\nconst CompanionCard = ({\n  id,\n  name,\n  topic,\n  subject,\n  duration,\n  bookmarked,\n}: CompanionCardProps) => {\n  const pathname = usePathname();\n  const [isBookmarked, setIsBookmarked] = useState(bookmarked);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleBookmark = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (isLoading) return;\n    \n    setIsLoading(true);\n    try {\n      if (isBookmarked) {\n        await removeBookmark(id, pathname);\n        setIsBookmarked(false);\n      } else {\n        await addBookmark(id, pathname);\n        setIsBookmarked(true);\n      }\n    } catch (error) {\n      console.error('Error toggling bookmark:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getSubjectIcon = (subject: string) => {\n    const icons: { [key: string]: string } = {\n      mathematics: \"🔢\",\n      science: \"🔬\",\n      history: \"📚\",\n      language: \"🌍\",\n      coding: \"💻\",\n      economics: \"💰\",\n    };\n    return icons[subject.toLowerCase()] || \"📖\";\n  };\n\n  return (\n    <Link href={`/companions/${id}`} className=\"group\">\n      <article className=\"companion-card hover-lift hover-glow\">\n        {/* Header */}\n        <div className=\"companion-card-header\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-2xl\">{getSubjectIcon(subject)}</span>\n            <span className=\"subject-badge\">{subject}</span>\n          </div>\n          <button \n            className={`bookmark-btn ${isBookmarked ? 'text-primary' : 'text-muted-foreground'}`}\n            onClick={handleBookmark}\n            disabled={isLoading}\n          >\n            <Bookmark \n              className={`w-5 h-5 ${isBookmarked ? 'fill-current' : ''}`} \n            />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"space-y-4\">\n          <div>\n            <h3 className=\"text-xl font-semibold mb-2 group-hover:text-primary transition-colors\">\n              {name}\n            </h3>\n            <p className=\"text-muted-foreground text-sm leading-relaxed\">\n              {topic}\n            </p>\n          </div>\n\n          {/* Duration */}\n          <div className=\"flex items-center text-sm text-muted-foreground\">\n            <Clock className=\"w-4 h-4 mr-2\" />\n            <span>{duration} minutes</span>\n          </div>\n\n          {/* Rating (placeholder) */}\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"flex items-center\">\n              {[...Array(5)].map((_, i) => (\n                <Star \n                  key={i} \n                  className=\"w-4 h-4 text-yellow-400 fill-current\" \n                />\n              ))}\n            </div>\n            <span className=\"text-sm text-muted-foreground ml-2\">4.8</span>\n          </div>\n        </div>\n\n        {/* Action Button */}\n        <div className=\"mt-6\">\n          <button className=\"btn-primary w-full group-hover:shadow-lg transition-all duration-300\">\n            <Play className=\"w-4 h-4 mr-2\" />\n            Start Learning\n          </button>\n        </div>\n\n        {/* Hover Effect Overlay */}\n        <div className=\"absolute inset-0 rounded-xl bg-gradient-to-t from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\" />\n      </article>\n    </Link>\n  );\n};\n\nexport default CompanionCard;"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AANA;;;;;;;;AAkBA,MAAM,gBAAgB,CAAC,EACrB,EAAE,EACF,IAAI,EACJ,KAAK,EACL,OAAO,EACP,QAAQ,EACR,UAAU,EACS;IACnB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,iBAAiB,OAAO;QAC5B,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI,WAAW;QAEf,aAAa;QACb,IAAI;YACF,IAAI,cAAc;gBAChB,MAAM,IAAA,wKAAc,EAAC,IAAI;gBACzB,gBAAgB;YAClB,OAAO;gBACL,MAAM,IAAA,qKAAW,EAAC,IAAI;gBACtB,gBAAgB;YAClB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,MAAM,QAAmC;YACvC,aAAa;YACb,SAAS;YACT,SAAS;YACT,UAAU;YACV,QAAQ;YACR,WAAW;QACb;QACA,OAAO,KAAK,CAAC,QAAQ,WAAW,GAAG,IAAI;IACzC;IAEA,qBACE,8OAAC,uKAAI;QAAC,MAAM,CAAC,YAAY,EAAE,IAAI;QAAE,WAAU;kBACzC,cAAA,8OAAC;YAAQ,WAAU;;8BAEjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAY,eAAe;;;;;;8CAC3C,8OAAC;oCAAK,WAAU;8CAAiB;;;;;;;;;;;;sCAEnC,8OAAC;4BACC,WAAW,CAAC,aAAa,EAAE,eAAe,iBAAiB,yBAAyB;4BACpF,SAAS;4BACT,UAAU;sCAEV,cAAA,8OAAC,sNAAQ;gCACP,WAAW,CAAC,QAAQ,EAAE,eAAe,iBAAiB,IAAI;;;;;;;;;;;;;;;;;8BAMhE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CACX;;;;;;8CAEH,8OAAC;oCAAE,WAAU;8CACV;;;;;;;;;;;;sCAKL,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,6MAAK;oCAAC,WAAU;;;;;;8CACjB,8OAAC;;wCAAM;wCAAS;;;;;;;;;;;;;sCAIlB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACZ;2CAAI,MAAM;qCAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,8OAAC,0MAAI;4CAEH,WAAU;2CADL;;;;;;;;;;8CAKX,8OAAC;oCAAK,WAAU;8CAAqC;;;;;;;;;;;;;;;;;;8BAKzD,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC,0MAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;8BAMrC,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAIvB;uCAEe","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/components/SearchInput.tsx"],"sourcesContent":["'use client';\n\nimport { usePathname, useRouter, useSearchParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { Search, X } from \"lucide-react\";\n\nconst formUrlQuery = ({ params, key, value }: { params: string; key: string; value: string }) => {\n  const searchParams = new URLSearchParams(params);\n  searchParams.set(key, value);\n  return `${window.location.pathname}?${searchParams.toString()}`;\n};\n\nconst removeKeysFromUrlQuery = ({ params, keysToRemove }: { params: string; keysToRemove: string[] }) => {\n  const searchParams = new URLSearchParams(params);\n  keysToRemove.forEach(key => searchParams.delete(key));\n  return `${window.location.pathname}?${searchParams.toString()}`;\n};\n\nconst SearchInput = () => {\n  const pathname = usePathname();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const query = searchParams.get('topic') || '';\n\n  const [searchQuery, setSearchQuery] = useState(query);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (searchQuery) {\n        const newUrl = formUrlQuery({\n          params: searchParams.toString(),\n          key: \"topic\",\n          value: searchQuery,\n        });\n\n        router.push(newUrl, { scroll: false });\n      } else {\n        if (pathname === '/companions') {\n          const newUrl = removeKeysFromUrlQuery({\n            params: searchParams.toString(),\n            keysToRemove: [\"topic\"],\n          });\n\n          router.push(newUrl, { scroll: false });\n        }\n      }\n    }, 500);\n\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchQuery, router, searchParams, pathname]);\n\n  const clearSearch = () => {\n    setSearchQuery('');\n  };\n\n  return (\n    <div className=\"relative w-full\">\n      <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground\">\n        <Search className=\"w-5 h-5\" />\n      </div>\n      <input\n        placeholder=\"Search companions, topics, or subjects...\"\n        className=\"input pl-10 pr-10 w-full\"\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n      />\n      {searchQuery && (\n        <button\n          onClick={clearSearch}\n          className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\n        >\n          <X className=\"w-5 h-5\" />\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default SearchInput;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMA,MAAM,eAAe,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAkD;IAC1F,MAAM,eAAe,IAAI,gBAAgB;IACzC,aAAa,GAAG,CAAC,KAAK;IACtB,OAAO,GAAG,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,aAAa,QAAQ,IAAI;AACjE;AAEA,MAAM,yBAAyB,CAAC,EAAE,MAAM,EAAE,YAAY,EAA8C;IAClG,MAAM,eAAe,IAAI,gBAAgB;IACzC,aAAa,OAAO,CAAC,CAAA,MAAO,aAAa,MAAM,CAAC;IAChD,OAAO,GAAG,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,aAAa,QAAQ,IAAI;AACjE;AAEA,MAAM,cAAc;IAClB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,QAAQ,aAAa,GAAG,CAAC,YAAY;IAE3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,MAAM,kBAAkB,WAAW;YACjC,IAAI,aAAa;gBACf,MAAM,SAAS,aAAa;oBAC1B,QAAQ,aAAa,QAAQ;oBAC7B,KAAK;oBACL,OAAO;gBACT;gBAEA,OAAO,IAAI,CAAC,QAAQ;oBAAE,QAAQ;gBAAM;YACtC,OAAO;gBACL,IAAI,aAAa,eAAe;oBAC9B,MAAM,SAAS,uBAAuB;wBACpC,QAAQ,aAAa,QAAQ;wBAC7B,cAAc;4BAAC;yBAAQ;oBACzB;oBAEA,OAAO,IAAI,CAAC,QAAQ;wBAAE,QAAQ;oBAAM;gBACtC;YACF;QACF,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAa;QAAQ;QAAc;KAAS;IAEhD,MAAM,cAAc;QAClB,eAAe;IACjB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,gNAAM;oBAAC,WAAU;;;;;;;;;;;0BAEpB,8OAAC;gBACC,aAAY;gBACZ,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;YAE/C,6BACC,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,8OAAC,iMAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAKvB;uCAEe","debugId":null}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/constants/index.ts"],"sourcesContent":["export const subjects = [\n  \"maths\",\n  \"language\",\n  \"science\",\n  \"history\",\n  \"coding\",\n  \"economics\",\n];\n\nexport const subjectsColors = {\n  science: \"#E5D0FF\",\n  maths: \"#FFDA6E\",\n  language: \"#BDE7FF\",\n  coding: \"#FFC8E4\",\n  history: \"#FFECC8\",\n  economics: \"#C8FFDF\",\n};\n\nexport const voices = {\n  male: { \n    casual: \"pNInz6obpgDQGcFmaJgB\", // Adam - Casual male voice\n    formal: \"EXAVITQu4vr4xnSDxMaL\", // Bella - Professional male voice\n    enthusiastic: \"VR6AewLTigWG4xSOukaG\", // Josh - Energetic male voice\n    patient: \"pNInz6obpgDQGcFmaJgB\" // Adam - Patient male voice\n  },\n  female: { \n    casual: \"EXAVITQu4vr4xnSDxMaL\", // Bella - Casual female voice\n    formal: \"sarah\", // Sarah - Professional female voice\n    enthusiastic: \"VR6AewLTigWG4xSOukaG\", // Josh - Energetic voice\n    patient: \"EXAVITQu4vr4xnSDxMaL\" // Bella - Patient female voice\n  },\n};\n\nexport const recentSessions = [\n  {\n    id: \"1\",\n    subject: \"science\",\n    name: \"Neura the Brainy Explorer\",\n    topic: \"Neural Network of the Brain\",\n    duration: 45,\n    color: \"#E5D0FF\",\n  },\n  {\n    id: \"2\",\n    subject: \"maths\",\n    name: \"Countsy the Number Wizard\",\n    topic: \"Derivatives & Integrals\",\n    duration: 30,\n    color: \"#FFDA6E\",\n  },\n  {\n    id: \"3\",\n    subject: \"language\",\n    name: \"Verba the Vocabulary Builder\",\n    topic: \"English Literature\",\n    duration: 30,\n    color: \"#BDE7FF\",\n  },\n  {\n    id: \"4\",\n    subject: \"coding\",\n    name: \"Codey the Logic Hacker\",\n    topic: \"Intro to If-Else Statements\",\n    duration: 45,\n    color: \"#FFC8E4\",\n  },\n  {\n    id: \"5\",\n    subject: \"history\",\n    name: \"Memo, the Memory Keeper\",\n    topic: \"World Wars: Causes & Consequences\",\n    duration: 15,\n    color: \"#FFECC8\",\n  },\n  {\n    id: \"6\",\n    subject: \"economics\",\n    name: \"The Market Maestro\",\n    topic: \"The Basics of Supply & Demand\",\n    duration: 10,\n    color: \"#C8FFDF\",\n  },\n];\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,WAAW;IACtB;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,iBAAiB;IAC5B,SAAS;IACT,OAAO;IACP,UAAU;IACV,QAAQ;IACR,SAAS;IACT,WAAW;AACb;AAEO,MAAM,SAAS;IACpB,MAAM;QACJ,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,SAAS,uBAAuB,4BAA4B;IAC9D;IACA,QAAQ;QACN,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,SAAS,uBAAuB,+BAA+B;IACjE;AACF;AAEO,MAAM,iBAAiB;IAC5B;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;IACT;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;IACT;CACD","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\nimport { subjectsColors, voices } from \"@/constants\";\nimport { CreateAssistantDTO } from \"@vapi-ai/web/dist/api\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport const getSubjectColor = (subject: string) => {\n  return subjectsColors[subject as keyof typeof subjectsColors];\n};\n\nexport const configureAssistant = (voice: string, style: string) => {\n  const voiceId = voices[voice as keyof typeof voices]?.[\n          style as keyof (typeof voices)[keyof typeof voices]\n          ] || \"sarah\";\n\n  const vapiAssistant: CreateAssistantDTO = {\n    name: \"Companion\",\n    firstMessage:\n        \"Hello, let's start the session. Today we'll be talking about {{topic}}.\",\n    transcriber: {\n      provider: \"deepgram\",\n      model: \"nova-2\",\n      language: \"en\",\n    },\n    voice: {\n      provider: \"11labs\",\n      voiceId: voiceId,\n      // Improved voice settings for better continuity\n      stability: 0.6, // Increased for more consistent voice\n      similarityBoost: 0.7, // Slightly reduced to prevent over-processing\n      speed: 1.0, // Normal speed\n      style: 0.3, // Reduced style for more natural speech\n      useSpeakerBoost: true,\n      // Additional voice settings\n      optimizeStreamingLatency: 2, // Optimize for real-time\n    },\n    model: {\n      provider: \"openai\",\n      model: \"gpt-4\",\n      temperature: 0.7, // Add temperature for more natural responses\n      maxTokens: 150, // Limit response length for voice\n      messages: [\n        {\n          role: \"system\",\n          content: `You are a highly knowledgeable tutor teaching a real-time voice session with a student. Your goal is to teach the student about the topic and subject.\n\n                    Tutor Guidelines:\n                    Stick to the given topic - {{ topic }} and subject - {{ subject }} and teach the student about it.\n                    Keep the conversation flowing smoothly while maintaining control.\n                    From time to time make sure that the student is following you and understands you.\n                    Break down the topic into smaller parts and teach the student one part at a time.\n                    Keep your style of conversation {{ style }}.\n                    Keep your responses short and conversational, like in a real voice conversation.\n                    Speak naturally and pause appropriately between sentences.\n                    Do not include any special characters in your responses - this is a voice conversation.\n                    Always end your responses with a question or prompt to keep the conversation flowing.\n              `,\n        },\n      ],\n    },\n  };\n  return vapiAssistant;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAGO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAEO,MAAM,kBAAkB,CAAC;IAC9B,OAAO,oIAAc,CAAC,QAAuC;AAC/D;AAEO,MAAM,qBAAqB,CAAC,OAAe;IAChD,MAAM,UAAU,4HAAM,CAAC,MAA6B,EAAE,CAC9C,MACC,IAAI;IAEb,MAAM,gBAAoC;QACxC,MAAM;QACN,cACI;QACJ,aAAa;YACX,UAAU;YACV,OAAO;YACP,UAAU;QACZ;QACA,OAAO;YACL,UAAU;YACV,SAAS;YACT,gDAAgD;YAChD,WAAW;YACX,iBAAiB;YACjB,OAAO;YACP,OAAO;YACP,iBAAiB;YACjB,4BAA4B;YAC5B,0BAA0B;QAC5B;QACA,OAAO;YACL,UAAU;YACV,OAAO;YACP,aAAa;YACb,WAAW;YACX,UAAU;gBACR;oBACE,MAAM;oBACN,SAAS,CAAC;;;;;;;;;;;;cAYN,CAAC;gBACP;aACD;QACH;IACF;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,kHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,2OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,aAAU;YACV,WAAW,IAAA,kHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,8OAAC,oLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,qOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,sLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC","debugId":null}},
    {"offset": {"line": 799, "column": 0}, "map": {"version":3,"sources":["file:///Users/niloysaha/Documents/Documents%20-%20Niloy%E2%80%99s%20MacBook%20Air/Udemy%20Web%20dev%20proj/AI%20Study%20Companion/components/SubjectFilter.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"./ui/select\";\nimport { subjects } from \"@/constants\";\nimport { useRouter } from \"next/navigation\";\nimport { useSearchParams } from \"next/navigation\";\nimport { Filter } from \"lucide-react\";\n\nconst formUrlQuery = ({ params, key, value }: { params: string; key: string; value: string }) => {\n  const searchParams = new URLSearchParams(params);\n  searchParams.set(key, value);\n  return `${window.location.pathname}?${searchParams.toString()}`;\n};\n\nconst removeKeysFromUrlQuery = ({ params, keysToRemove }: { params: string; keysToRemove: string[] }) => {\n  const searchParams = new URLSearchParams(params);\n  keysToRemove.forEach(key => searchParams.delete(key));\n  return `${window.location.pathname}?${searchParams.toString()}`;\n};\n\nconst SubjectFilter = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const query = searchParams.get(\"subject\") || \"\";\n\n  const [subject, setSubject] = useState(query);\n\n  useEffect(() => {\n    let newUrl = \"\";\n    if (subject === \"all\") {\n      newUrl = removeKeysFromUrlQuery({\n        params: searchParams.toString(),\n        keysToRemove: [\"subject\"],\n      });\n    } else {\n      newUrl = formUrlQuery({\n        params: searchParams.toString(),\n        key: \"subject\",\n        value: subject,\n      });\n    }\n    router.push(newUrl, { scroll: false });\n  }, [subject, router, searchParams]);\n\n  return (\n    <Select onValueChange={setSubject} value={subject}>\n      <SelectTrigger className=\"input w-full sm:w-64\">\n        <div className=\"flex items-center\">\n          <Filter className=\"w-4 h-4 mr-2 text-muted-foreground\" />\n          <SelectValue placeholder=\"Filter by subject\" />\n        </div>\n      </SelectTrigger>\n      <SelectContent>\n        <SelectItem value=\"all\">All subjects</SelectItem>\n        {subjects.map((subject) => (\n          <SelectItem key={subject} value={subject} className=\"capitalize\">\n            {subject}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default SubjectFilter;"],"names":[],"mappings":";;;;;AACA;AACA;AAOA;AACA;AAEA;AAZA;;;;;;;;AAcA,MAAM,eAAe,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAkD;IAC1F,MAAM,eAAe,IAAI,gBAAgB;IACzC,aAAa,GAAG,CAAC,KAAK;IACtB,OAAO,GAAG,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,aAAa,QAAQ,IAAI;AACjE;AAEA,MAAM,yBAAyB,CAAC,EAAE,MAAM,EAAE,YAAY,EAA8C;IAClG,MAAM,eAAe,IAAI,gBAAgB;IACzC,aAAa,OAAO,CAAC,CAAA,MAAO,aAAa,MAAM,CAAC;IAChD,OAAO,GAAG,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,aAAa,QAAQ,IAAI;AACjE;AAEA,MAAM,gBAAgB;IACpB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,QAAQ,aAAa,GAAG,CAAC,cAAc;IAE7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;QACb,IAAI,YAAY,OAAO;YACrB,SAAS,uBAAuB;gBAC9B,QAAQ,aAAa,QAAQ;gBAC7B,cAAc;oBAAC;iBAAU;YAC3B;QACF,OAAO;YACL,SAAS,aAAa;gBACpB,QAAQ,aAAa,QAAQ;gBAC7B,KAAK;gBACL,OAAO;YACT;QACF;QACA,OAAO,IAAI,CAAC,QAAQ;YAAE,QAAQ;QAAM;IACtC,GAAG;QAAC;QAAS;QAAQ;KAAa;IAElC,qBACE,8OAAC,qIAAM;QAAC,eAAe;QAAY,OAAO;;0BACxC,8OAAC,4IAAa;gBAAC,WAAU;0BACvB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,gNAAM;4BAAC,WAAU;;;;;;sCAClB,8OAAC,0IAAW;4BAAC,aAAY;;;;;;;;;;;;;;;;;0BAG7B,8OAAC,4IAAa;;kCACZ,8OAAC,yIAAU;wBAAC,OAAM;kCAAM;;;;;;oBACvB,8HAAQ,CAAC,GAAG,CAAC,CAAC,wBACb,8OAAC,yIAAU;4BAAe,OAAO;4BAAS,WAAU;sCACjD;2BADc;;;;;;;;;;;;;;;;;AAO3B;uCAEe","debugId":null}}]
}